{"version":3,"sources":["assets/images/sample/noimage.png","assets/images/icon-gift-redemption.svg","assets/images/no_bonus.gif","assets/images/success.gif","assets/images/icon-reward-adjust.svg","assets/images/meLogo.svg","assets/images/icon-spending-reward.svg","assets/images/icon-activity-participation.svg","assets/images/fail.gif","assets/images/mygift_empty.gif","assets/images/no_gift_ticket.gif","assets/images/logo.svg","assets/images/icon-home.svg","assets/images/icon-logout.svg","assets/images/icon-points-balance.svg","assets/images/icon-my-redemption.svg","assets/images/icon-gifts.svg","assets/images/icon-events.svg","assets/images/icon-my-profile.svg","assets/images/icon-about-us.svg","assets/images/icon-message.svg","assets/images/icon-user-profile.svg","assets/images/icon-user-redemption.svg","assets/images/icon-user-qrcode.svg","assets/images/gift.gif","assets/images/ticket.gif","assets/images/logo-2.svg","assets/images/icon-page-title.svg","assets/images/bonus.gif","assets/images/icon-earn-points-history.svg","assets/images/icon-transaction-history.svg","assets/images/icon-crown.svg","ScrollToTop.js","config/index.js","utils/httpUtils.js","store/UseUser.js","i18n.js","components/Header.js","components/Footer.js","components/PointsBalanceComponent.js","components/Loading.js","views/Home.js","components/PageBgAnimation.js","views/Login.js","components/PageTitleAnimation.js","views/registration/Register.js","views/registration/Verification.js","components/ResultMessage.js","views/registration/VerificationSuccess.js","views/registration/VerificationFailed.js","views/password/ForgotPassword.js","views/password/ForgotPasswordSuccess.js","views/password/ResetPassword.js","views/MyProfile.js","views/PointsBalance.js","views/history/RenderEarnPointsList.js","views/history/EarnPointsHistory.js","views/history/RenderTransactionList.js","views/history/TransactionHistory.js","views/myredemption/MyRedemptionGift.js","views/myredemption/MyRedemptionGiftDetail.js","views/myredemption/MyRedemptionTicket.js","views/gift/Gift.js","views/gift/GiftDetail.js","views/gift/OrderPreview.js","views/gift/RedeemSuccess.js","views/event/Event.js","views/event/EventDetail.js","views/event/EventOrderPreview.js","views/event/EnrollSuccess.js","views/qrcode/Scan.js","views/qrcode/EarnPointsReview.js","views/qrcode/EarnPointsFailed.js","views/receipt/Upload.js","views/Logout.js","router/Router.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","withRouter","config","history","useEffect","unlisten","listen","window","scrollTo","console","log","process","productionConfig","xApiKey","lmsBaseURL","lmsUrl","timeout","httpTimeOut","defaultLang","buildLmsRequest","lang","location","pathname","replace","split","axios","create","baseURL","headers","buildMemberRequest","membertoken","lmsMemberRequest","curTimestamp","Date","now","apiSign","sha256","interceptors","response","use","data","status","Cookies","remove","sessionStorage","removeItem","error","Promise","reject","getEnumValue","get","getMasterDataJson","lmsMemberProfile","memberToken","post","changePassword","getBonusPointsHistory","getRewardRedemptionHistory","getBrandList","getShopList","getGiftList","getEventList","inOneHour","getTime","initialState","user","accessToken","undefined","UserContext","createContext","UserProvider","children","mockMemberProfile","require","getItem","useState","setAccessToken","setUser","a","setItem","then","content","set","expires","handleAccessTokenChange","Provider","value","useUser","useContext","translationObjectEN","translationObjectTC","translationObjectSC","translations","eng","pts","points","pointsExpiredOn","balance","date","giftInventory","expiryOn","quotaLeft","tch","sch","I18n","createI18n","Header","props","locale","isMenuActive","setMenuActive","toggleMenu","bodyClass","document","getElementsByTagName","classList","add","stripLocale","className","id","onClick","to","src","logo","alt","iconMessage","iconHome","iconLogout","iconPointsBalance","getTranslation","t","iconMyRedemption","iconGifts","iconEvents","iconMyProfile","iconAboutUs","Footer","href","target","rel","totalPointsBalance","PointsBalanceComponent","state","smallFontSize","val","toString","length","setState","this","React","Component","Loading","Home","circle","shortSide","body","memberProfile","bonusPointsBalanceList","bonusPointsBalance","useHistory","tempBalance","getTotalPointsBalance","memberHistoryEmpty","setMemberHistoryEmpty","memberHistoryList","setMemberHistoryList","memberHistoryListLoaded","setMemberHistoryListLoaded","responseData","numberOfLastRecord","memberBonusTransactionList","sort","b","moment","createDate","slice","catch","fetchData","getActivitiesIcon","e","action","rewardAdjustIcon","spendingRewardIcon","giftRedemptionIcon","activityParticipationIcon","type","qrCode","memberId","isPopupActive","setIsPopupActive","isPopupQrcodeActive","setIsPopupQrcodeActive","firstNameLang1","lastNameLang1","iconUserProfile","iconUserRedemption","preventDefault","iconUserQrcode","Object","keys","map","item","index","key","args","expiryDate","RenderBonusPointsBalance","imageGift","imageTicket","imageNoBonus","earnedPoints","matchedRulesJson","extraOffer","objectName","adjustReasonName","getActivitiesTitle","getActivitiesActionType","getActivitiesPoint","String","size","bgColor","windowW","documentElement","clientWidth","windowH","clientHeight","centerW","centerH","circles","PageBgAnimation","setup","p","parentRef","Particle","x","y","w","h","r","pos","createVector","noFill","noStroke","fill","ellipse","MagicCircle","len","c","pArr","tempPos","tx","random","ty","tPos","txSpeed","tySpeed","rotation","rotateSpeed1","rotateSpeed2","color","fPoints","fPos","i","push","rad","radians","cos","noise","sin","translate","rotate","stroke","strokeWeight","beginShape","curveVertex","endShape","pop","min","createCanvas","parent","background","floor","draw","frameRate","forEach","update","display","Login","useForm","register","errors","handleSubmit","disableLoginBtn","setDisableLoginBtn","phonePrefixOptions","setPhonePrefixOptions","PhonePrefix","toastOptions","autoClose","position","toast","POSITION","TOP_CENTER","pauseOnHover","onClose","loginTokenRedirect","loginToast","message","info","reload","pauseOnFocusLoss","onSubmit","phone","password","lmsUserLogin","phonePrefix","stayLogin","name","ref","placeholder","autoComplete","required","pattern","disabled","isTablet","isMobileOnly","PageTitleAnimation","iconPageTitle","Register","watch","cities","setCities","districts","setDistricts","cityValue","setCityValue","districtValue","setDistrictValue","errorMessage","setErrorMessage","setPhoneDataSession","useRef","current","birthMonth","sliderConfig","tooltips","wNumb","prefix","decimals","ageSliderRef","setAgeSliderRef","ageValue","setAgeValue","noUiSlider","updateOptions","citiesList","masterDataId","nameLang1","nameLang2","nameLang3","filteredDistrictsList","filter","parentId","parseFloat","districtsList","setPopupActive","isPopupTermsActive","setPopupTermsActive","isPopupPrivacyActive","setPopupPrivacyActive","lmsUserRegister","email","title","givennameEng","firstNameLang2","givennameTch","surnameEng","lastNameLang2","surnameTch","age","district","city","referrer","refereeMembershipNumber","defaultLanguage","passwordReType","validate","onChange","event","instanceRef","instance","start","step","pips","mode","density","connect","range","max","onSlide","toFixed","htmlFor","Verification","registerPhonePrefix","registerPhone","codeLength","setCodeLength","MEMBER","AUTHEN_CODE_LENGTH","verify","pinCode","authCode","resendMessage","setResendMessage","focus","onComplete","setTimeout","image","buttonCount","buttonText","buttonLink","buttonText2","buttonLink2","ResultMessage","dangerouslySetInnerHTML","__html","VerificationSuccess","SuccessImg","VerificationFailed","FailImg","goBack","ForgotPassword","disableSubmitBtn","setDisableSubmitBtn","forgotPassword","ForgotPasswordSuccess","ResetPassword","oldPassword","newPassword","class","profileUpdatedToastOptions","profileUpdatedRedirect","passwordChangedToastOptions","passwordChangedRedirect","commonToastOptions","commonToast","options","profileData","setProfileData","profileDataLoaded","setProfileDataLoaded","editMemberProfile","defaultValue","readOnly","defaultChecked","PointsBalance","today","lastThreeMonth","startOf","subtract","lastSixMonth","lastYear","memberOriginHistoryList","setMemberOriginHistoryList","isBetween","filterDate","setFilterDate","filterDateText","setFilterDateText","showDateFilter","setShowDateFilter","filterType","setFilterType","filterTypeText","setFilterTypeText","showActivitiesFilter","setShowActivitiesFilter","filterByDate","dateValue","datetext","filterActivitiesList","toggleCloseOverlay","filterByType","typeValue","typeText","tempList","filterActivitiesListByDate","filterActivitiesListByType","dataList","imageBonus","earnPointsHistoryIcon","transactionHistoryIcon","checked","dateFormat","format","parentInex","isOpen","setOpen","role","aria-controls","aria-expanded","Collapse","in","receiptList","receipt","brand","v","mallId","getBrandName","shopName","receiptDate","amount","EarnPointsHistory","loading","setLoading","transactionHistoryEmpty","setTransactionHistoryEmpty","transactionHistoryList","setTransactionHistoryList","brandList","setBrandList","memberSpendingTransactionList","mallList","RenderEarnPointsList","getActionName","TransactionHistory","RenderTransactionList","MyRedemptionGift","myGiftListEmpty","setMyGiftListEmpty","myGiftList","setMyGiftList","myGiftHistoryList","setMyGiftHistoryList","myGiftHistoryListEmpty","setMyGiftHistoryListEmpty","slidesToShow","slidesToScroll","sliderSettings","dots","infinite","responsive","breakpoint","settings","giftRedemptionTransactionList","reserveDatetime","tempMyGiftList","tempMyGiftHistoryList","handleErrorImg","noImage","imageMyGiftEmpty","giftRedemptionTransactionId","itemImage","onError","itemName","reserveExpiryDate","getMyGiftHistoryStatus","MyRedemptionGiftDetail","match","params","giftDetail","setGiftDetail","setShopName","redeemLocationId","getShopName","shopList","locationId","shopId","brandName","brandId","Number","MyRedemptionTicket","myTicketListEmpty","setMyTicketListEmpty","myTicketList","setMyTicketList","myTicketHistoryList","setMyTicketHistoryList","myTicketHistoryListEmpty","setMyTicketHistoryListEmpty","tempMyTicketList","tempMyTicketHistoryList","getMyTicketHistoryStatus","Gift","giftCategoryList","setGiftCategoryList","giftList","setGiftList","originalGiftList","setOriginalGiftList","sorting","setSorting","sortingText","setSortingText","showSorting","setShowSorting","showFilter","setShowFilter","giftFiltered","setGiftFiltered","brandJson","giftCategoryJson","giftJson","tempGiftList","redeemBonusPoints","redeemBonusPointsBalance","redeemType","rewardList","displayOrder","getSortingData","sortingVal","sortingTextVal","hotpick","getGiftInventory","currentGift","inventoryData","currentGiftMallId","currentGiftInventoryMode","inventoryMode","inventoryList","inventory","stockLevel","reservedStockLevel","reserveInMall","reserveInMallList","filteredList","totalStock","CustomToggle","eventKey","active","condition","setCondition","customOnClick","useAccordionToggle","rangeSliderRef","setRangeSliderRef","pointsRangeMinValue","setPointsRangeMinValue","pointsRangeMaxValue","setPointsRangeMaxValue","checkedBrand","setCheckedBrand","handleBrandChange","checkedBrandArray","indexOf","splice","checkedCategory","setCheckedCategory","handleCategoryChange","checkedCategoryArray","resetAccordion","Accordion","defaultActiveKey","Card","Body","giftCategoryId","giftCategoryName","values","querySelectorAll","el","filterBrand","filterCategory","s","j","pointsBalance","parseInt","imageNoGiftTicket","giftId","unlimitedInventory","redeemBonusPointsVal","tempPoint","memberLevelId","getGiftPoint","giftName","giftDescription","GiftDetail","gift","setGift","setRedeemBonusPointsBalance","setShopList","hiddenBrand","setHiddenBrand","hiddenShop","setHiddenShop","shop","setShop","setBrand","setGiftInventory","qty","SetQty","imageSliderSettings","speed","centerMode","userMemberLevelId","getRedeemBonusPoints","rewardId","optionInventoryChecking","mall","currentMallStock","iconCrown","redeemObject","redeemMallId","redeemShop","redeemGiftId","redeemGiftImage","redeemGiftDetail","redeemGiftQty","redeemGiftPoint","JSON","stringify","giftTnc","temp","OrderPreview","setRedeemObject","tempRedeemObject","parse","giftListResponse","RedeemSuccess","Event","eventList","setEventList","originalEventList","setOriginEventList","eventFiltered","setEventFiltered","tempEventList","bonusPointRequired","onlineDate","getEventQuota","sessionList","quota","eventId","remainQuota","getEventRemainQuota","eventSessionList","description","EventDetail","setEvent","eventSelectedSession","setEventSelectedSession","tempEvent","eventSessionId","enrollObject","eventEnrollQty","eventBonusPointRequired","startTime","endTime","tnc","EventOrderPreview","setEnrollObject","eventDate","setEventDate","eventTime","setEventTime","tempEventObject","getSelectedEventSession","enrollToast","eventSelectedSessionList","getEventSessionDateTime","eventSessionDate","eventSessionDay","eventSessionStartTime","eventSessionEndTime","enroll","sessionId","EnrollSuccess","Scan","result","setResult","setError","submitReceiptUpload","transactionDate","responseJson","submittedTransaction","LoadingLogo","delay","facingMode","err","onScan","qrCodeResult","atob","style","width","EarnPointsReview","setResponseJson","tempResponseJson","spendingTransactionId","mallLogo","receiptImage","electronicReceiptImage","rejectReasonId","rejectReasonName","remark","otherRemark","approvalDate","receiptId","invoiceNo","paymentTypeId","paymentTypeName","EarnPointsFailed","ReceiptUpload","registerLocale","en","zhTW","zhCN","orginalShopList","setOrginalShopList","datepickerDate","setDatepickerDate","datepickerLocale","setDatepickerLocale","receipDate","setReceiptDate","electronicReceiptFile","setElectronicReceiptFile","storeReceiptFile","setStoreReceiptFile","electronicReceiptFilePreview","setElectronicReceiptFilePreview","storeReceiptFilePreview","setStoreReceiptFilePreview","response2","resetFileUpload","getElementById","tempShopList","getMallShopList","placeholderText","selected","tempDate","handleDateChange","accept","tempFile","files","URL","createObjectURL","agreeTerms","Logout","base","AuthenticatedRoute","component","rest","render","from","RedirectRoute","App","basename","exact","path","QrcodeScan","MyProfile","Gifts","Events","Router","Boolean","hostname","ReactDOM","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5abffe61.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPYAAAD2CAYAAADlEnrIAAAACXBIWXMAAAsTAAALEwEAmpwYAAAGhmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiIHhtcDpDcmVhdGVEYXRlPSIyMDE5LTExLTEyVDExOjMwOjQxKzA4OjAwIiB4bXA6TW9kaWZ5RGF0ZT0iMjAxOS0xMS0yMVQxNTowMzoyNyswODowMCIgeG1wOk1ldGFkYXRhRGF0ZT0iMjAxOS0xMS0yMVQxNTowMzoyNyswODowMCIgZGM6Zm9ybWF0PSJpbWFnZS9wbmciIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiIHBob3Rvc2hvcDpJQ0NQcm9maWxlPSJzUkdCIElFQzYxOTY2LTIuMSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDowYmU1Njk4ZS0yOWFmLTZkNDYtYmQyYy0yZGUzOWRhZjJlNWQiIHhtcE1NOkRvY3VtZW50SUQ9ImFkb2JlOmRvY2lkOnBob3Rvc2hvcDowZjQxNDdhYS01NDJmLThmNDUtOWJiNy0yMjE3MTk4ZTI1MmQiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDpkMGQzNjJjYi05NjBjLTkyNGUtYjE3OC02NzRiOTBhNzFiZTMiPiA8cGhvdG9zaG9wOlRleHRMYXllcnM+IDxyZGY6QmFnPiA8cmRmOmxpIHBob3Rvc2hvcDpMYXllck5hbWU9Ik5vIEltYWdlIiBwaG90b3Nob3A6TGF5ZXJUZXh0PSJObyBJbWFnZSIvPiA8L3JkZjpCYWc+IDwvcGhvdG9zaG9wOlRleHRMYXllcnM+IDx4bXBNTTpIaXN0b3J5PiA8cmRmOlNlcT4gPHJkZjpsaSBzdEV2dDphY3Rpb249ImNyZWF0ZWQiIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6ZDBkMzYyY2ItOTYwYy05MjRlLWIxNzgtNjc0YjkwYTcxYmUzIiBzdEV2dDp3aGVuPSIyMDE5LTExLTEyVDExOjMwOjQxKzA4OjAwIiBzdEV2dDpzb2Z0d2FyZUFnZW50PSJBZG9iZSBQaG90b3Nob3AgQ0MgMjAxOCAoV2luZG93cykiLz4gPHJkZjpsaSBzdEV2dDphY3Rpb249InNhdmVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjBiZTU2OThlLTI5YWYtNmQ0Ni1iZDJjLTJkZTM5ZGFmMmU1ZCIgc3RFdnQ6d2hlbj0iMjAxOS0xMS0yMVQxNTowMzoyNyswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTggKFdpbmRvd3MpIiBzdEV2dDpjaGFuZ2VkPSIvIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PiAgOfkAAAySSURBVHic7dxdaFv3HYfxb70OphYamCJwMS4JpZwupd1cJSAW0UB6ITwwo26MWQvZJuLQGhIMizHYgS4U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\"","module.exports = __webpack_public_path__ + \"static/media/icon-gift-redemption.146c39de.svg\";","module.exports = __webpack_public_path__ + \"static/media/no_bonus.e6049935.gif\";","module.exports = __webpack_public_path__ + \"static/media/success.7c445ee1.gif\";","module.exports = __webpack_public_path__ + \"static/media/icon-reward-adjust.8a390df8.svg\";","module.exports = __webpack_public_path__ + \"static/media/meLogo.f7c6ea34.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-spending-reward.5cbcca54.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-activity-participation.9b971c23.svg\";","module.exports = __webpack_public_path__ + \"static/media/fail.1924b5bd.gif\";","module.exports = __webpack_public_path__ + \"static/media/mygift_empty.6ffcbc00.gif\";","module.exports = __webpack_public_path__ + \"static/media/no_gift_ticket.82243fb4.gif\";","module.exports = __webpack_public_path__ + \"static/media/logo.49c5d5d5.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-home.64819a48.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-logout.3fbde651.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-points-balance.49d16c18.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-my-redemption.313fe3eb.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-gifts.0f60c5aa.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-events.73d6073b.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-my-profile.c51fba16.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-about-us.cb1d9595.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-message.703a6d35.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-user-profile.625fab82.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-user-redemption.0a8ef491.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-user-qrcode.864a65b7.svg\";","module.exports = __webpack_public_path__ + \"static/media/gift.e88a45c4.gif\";","module.exports = __webpack_public_path__ + \"static/media/ticket.b7db9423.gif\";","module.exports = __webpack_public_path__ + \"static/media/logo-2.2916eaf2.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-page-title.71347a0d.svg\";","module.exports = __webpack_public_path__ + \"static/media/bonus.abf234bb.gif\";","module.exports = __webpack_public_path__ + \"static/media/icon-earn-points-history.99b6b631.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-transaction-history.8dc60a57.svg\";","module.exports = __webpack_public_path__ + \"static/media/icon-crown.497b178b.svg\";","import { useEffect } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nfunction ScrollToTop({ history }) {\r\n  useEffect(() => {\r\n    const unlisten = history.listen(() => {\r\n      window.scrollTo(0, 0);\r\n    });\r\n    return () => {\r\n      unlisten();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return null;\r\n}\r\n\r\nexport default withRouter(ScrollToTop);\r\n","import developmentConfig from \"./development\";\r\nimport productionConfig from \"./production\";\r\n\r\nvar config;\r\n\r\nconsole.log(process.env.NODE_ENV);\r\n\r\nswitch (process.env.NODE_ENV) {\r\n  case \"development\":\r\n    config = developmentConfig;\r\n    break;\r\n  case \"production\":\r\n    config = productionConfig;\r\n    break;\r\n  default:\r\n    config = developmentConfig;\r\n    break;\r\n}\r\nexport { config };\r\n","import axios from \"axios\";\r\nimport sha256 from \"sha256\";\r\nimport { config } from \"../config/index\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst xApiKey = config.xApiKey;\r\nconst lmsBaseURL = config.lmsUrl;\r\nconst timeout = config.httpTimeOut;\r\nconst defaultLang = config.defaultLang;\r\n\r\nfunction buildLmsRequest() {\r\n  var lang = window.location.pathname.replace(process.env.PUBLIC_URL, \"\").split(\"/\")[1];\r\n  var lmsRequest = axios.create({\r\n    baseURL: lmsBaseURL + (lang ? lang : defaultLang),\r\n    timeout: timeout,\r\n    headers: {\r\n      \"x-api-key\": xApiKey,\r\n      \"Content-Type\": \"application/json\",\r\n      \"Cache-Control\": \"no-cache\",\r\n    },\r\n  });\r\n  return lmsRequest;\r\n}\r\n\r\nfunction buildMemberRequest(membertoken) {\r\n  var lang = window.location.pathname.replace(process.env.PUBLIC_URL, \"\").split(\"/\")[1];\r\n  var curTimestamp = Date.now();\r\n  var apiSign = sha256(xApiKey + \":\" + curTimestamp + \":\" + membertoken);\r\n  var lmsMemberRequest;\r\n  lmsMemberRequest = axios.create({\r\n    baseURL: lmsBaseURL + (lang ? lang : defaultLang),\r\n    timeout: timeout,\r\n    headers: {\r\n      \"x-api-key\": xApiKey,\r\n      \"Content-Type\": \"application/json\",\r\n      \"Cache-Control\": \"no-cache\",\r\n      \"x-api-token\": membertoken,\r\n      \"x-timestamp\": curTimestamp,\r\n      \"x-api-sign\": apiSign,\r\n    },\r\n  });\r\n\r\n  if (membertoken) {\r\n    lmsMemberRequest.interceptors.response.use(\r\n      (response) => {\r\n        console.log(\"buildMemberRequest interceptors: \" + response.data.status);\r\n        if (response.data.status === \"F006\") {\r\n          Cookies.remove(\"memberToken\");\r\n          sessionStorage.removeItem(\"memberToken\");\r\n        }\r\n        return response;\r\n      },\r\n      (error) => {\r\n        return Promise.reject(error);\r\n      }\r\n    );\r\n  }\r\n\r\n  return lmsMemberRequest;\r\n}\r\n\r\nexport const getEnumValue = () => buildLmsRequest().get(\"/enumvalue.json\");\r\nexport const getMasterDataJson = () =>\r\n  buildLmsRequest().get(\"/masterdata.json\");\r\nexport const getSystemSettingJson = () =>\r\n  buildLmsRequest().post(\"/systemsetting.json\");\r\n\r\n// Member Module\r\nexport const lmsUserRegister = (data) =>\r\n  buildLmsRequest().post(\"/member/register\", data);\r\nexport const lmsUserLogin = (data) =>\r\n  buildLmsRequest().post(\"/member/login\", data);\r\nexport const resendactivationsms = (data) =>\r\n  buildLmsRequest().post(\"/member/resendactivationsms\", data);\r\nexport const activate = (data) =>\r\n  buildLmsRequest().post(\"/member/activate\", data);\r\nexport const lmsMemberProfile = (memberToken) =>\r\n  buildMemberRequest(memberToken).post(\"/member/profile\");\r\nexport const editMemberProfile = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/member/editprofile\", data);\r\nexport const forgotPassword = (data) =>\r\n  buildLmsRequest().post(\"/member/forgotpassword\", data);\r\nexport const changePassword = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/member/changepassword\", data);\r\nexport const getTransactionHistory = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/member/transactionhistory\", data);\r\nexport const getBonusPointsHistory = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/member/bonuspointhistory\", data);\r\nexport const getRewardRedemptionHistory = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/member/giftredemptionhistory\", data);\r\n\r\n// Brand Module\r\nexport const getBrandList = () => buildLmsRequest().post(\"/mall/list\");\r\n\r\n// Shop Module\r\nexport const getShopList = (data) => buildLmsRequest().post(\"/shop/list\", data);\r\n\r\n// Bonus Points Module\r\nexport const directEarnPoints = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/bonuspoints/directearnpoints\", data);\r\n\r\n// Spending Module\r\nexport const receiptUpload = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/spending/receiptupload\", data);\r\n\r\n// Gift Module\r\nexport const getGiftList = (data) =>\r\n  buildLmsRequest().post(\"/reward/list\", data);\r\nexport const getMatchedGiftList = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/reward/matchedlist\", data);\r\nexport const getGiftCategoryList = (data) =>\r\n  buildLmsRequest().post(\"/rewardcategory/list\", data);\r\n\r\n// Redemption Module\r\nexport const giftReserveByBonusPoint = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\r\n    \"/redemption/rewardreservebybonuspoint\",\r\n    data\r\n  );\r\n\r\n// Event Module (coming soon)\r\nexport const getEventList = (data) =>\r\n  buildLmsRequest().post(\"/event/list\", data);\r\nexport const enroll = (memberToken, data) =>\r\n  buildMemberRequest(memberToken).post(\"/event/enrollment\", data);\r\n","import React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport { lmsMemberProfile } from \"../utils/httpUtils\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nconst inOneHour = new Date(new Date().getTime() + 60 * 60 * 1000);\r\n\r\nconst initialState = {\r\n  user: {},\r\n  accessToken: undefined,\r\n};\r\n\r\nconst UserContext = createContext(initialState);\r\n\r\nexport function UserProvider({ children }) {\r\n  let memberToken = null;\r\n  let mockMemberProfile = require(\"../assets/json/mockMemberProfile.json\");\r\n\r\n  if (Cookies.get(\"isStayLogin\") === \"true\") {\r\n    memberToken = Cookies.get(\"memberToken\");\r\n  } else {\r\n    memberToken = sessionStorage.getItem(\"memberToken\");\r\n  }\r\n  const [accessToken, setAccessToken] = useState(memberToken);\r\n  const [user, setUser] = useState({});\r\n\r\n  useEffect(() => {\r\n    const handleAccessTokenChange = async () => {\r\n      if (accessToken) {\r\n        if (accessToken === \"99999999\") {\r\n          setUser(mockMemberProfile);\r\n          sessionStorage.setItem(\"memberToken\", accessToken);\r\n        } else {\r\n          lmsMemberProfile(accessToken).then((response) => {\r\n            setUser(response.data.content);\r\n          });\r\n          if (Cookies.get(\"isStayLogin\") === \"true\") {\r\n            Cookies.set(\"memberToken\", accessToken, { expires: inOneHour });\r\n            Cookies.set(\"isStayLogin\", \"true\", { expires: inOneHour });\r\n          } else {\r\n            sessionStorage.setItem(\"memberToken\", accessToken);\r\n          }\r\n        }\r\n      } else {\r\n        if (Cookies.get(\"isStayLogin\")) {\r\n          Cookies.remove(\"isStayLogin\");\r\n          Cookies.remove(\"memberToken\");\r\n        } else {\r\n          sessionStorage.removeItem(\"memberToken\");\r\n        }\r\n        setUser({});\r\n      }\r\n    };\r\n\r\n    handleAccessTokenChange();\r\n  }, [accessToken]);\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        setUser,\r\n        accessToken,\r\n        setAccessToken,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useUser = () => useContext(UserContext);\r\n","import { createI18n } from \"react-router-i18n\";\r\nimport translationJsonEN from \"./locales/eng.json\";\r\nimport translationJsonTC from \"./locales/tch.json\";\r\nimport translationJsonSC from \"./locales/sch.json\";\r\n\r\nconst locales = [\"eng\", \"tch\", \"sch\"];\r\n\r\nvar translationObjectEN = translationJsonEN;\r\nvar translationFuncEN = {\r\n  pts: ({ points }) => `${points}Pts`,\r\n  pointsExpiredOn: ({ balance, date }) =>\r\n    `${balance} Points expired on ${date}`,\r\n  giftInventory: ({ value }) => `${value} left`,\r\n  expiryOn: ({ value }) => `Expiry on ${value}`,\r\n  quotaLeft: ({ value }) => `${value} left`,\r\n};\r\nvar translationEN = { ...translationObjectEN, ...translationFuncEN };\r\n\r\nvar translationObjectTC = translationJsonTC;\r\nvar translationFuncTC = {\r\n  pts: ({ points }) => `${points}積分`,\r\n  pointsExpiredOn: ({ balance, date }) => `${balance}積分將於${date}過期`,\r\n  giftInventory: ({ value }) => `剩餘${value}`,\r\n  expiryOn: ({ value }) => `到期日 ${value}`,\r\n  quotaLeft: ({ value }) => `${value} 名額`,\r\n};\r\nvar translationTC = { ...translationObjectTC, ...translationFuncTC };\r\n\r\nvar translationObjectSC = translationJsonSC;\r\nvar translationFuncSC = {\r\n  pts: ({ points }) => `${points}积分`,\r\n  pointsExpiredOn: ({ balance, date }) => `${balance}积分将于${date}过期`,\r\n  giftInventory: ({ value }) => `剩余${value}`,\r\n  expiryOn: ({ value }) => `到期日 ${value}`,\r\n  quotaLeft: ({ value }) => `${value} 名额`,\r\n};\r\nvar translationSC = { ...translationObjectSC, ...translationFuncSC };\r\n\r\nconst translations = {\r\n  eng: translationEN,\r\n  tch: translationTC,\r\n  sch: translationSC,\r\n};\r\n\r\nconst I18n = createI18n(locales, translations);\r\n\r\nexport default I18n;\r\n","import React, { useState } from \"react\";\r\nimport { useUser } from \"../store/UseUser\";\r\nimport logo from \"../assets/images/logo.svg\";\r\nimport iconHome from \"../assets/images/icon-home.svg\";\r\nimport iconLogout from \"../assets/images/icon-logout.svg\";\r\nimport iconPointsBalance from \"../assets/images/icon-points-balance.svg\";\r\nimport iconMyRedemption from \"../assets/images/icon-my-redemption.svg\";\r\nimport iconGifts from \"../assets/images/icon-gifts.svg\";\r\nimport iconEvents from \"../assets/images/icon-events.svg\";\r\nimport iconMyProfile from \"../assets/images/icon-my-profile.svg\";\r\nimport iconAboutUs from \"../assets/images/icon-about-us.svg\";\r\nimport iconMessage from \"../assets/images/icon-message.svg\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./Header.css\";\r\nimport I18n from \"../i18n\";\r\n\r\nfunction Header(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  const { accessToken } = useUser();\r\n  const [isMenuActive, setMenuActive] = useState(false);\r\n\r\n  const toggleMenu = () => {\r\n    setMenuActive(!isMenuActive);\r\n    var bodyClass = document.getElementsByTagName(\"body\")[0];\r\n    if (!isMenuActive) {\r\n      bodyClass.classList.add(\"menu-active\");\r\n    } else {\r\n      bodyClass.classList.remove(\"menu-active\");\r\n    }\r\n  };\r\n\r\n  const stripLocale = (pathname, lang) => {\r\n    if (!lang) {\r\n      return pathname;\r\n    }\r\n    if (process.env.PUBLIC_URL) {\r\n      pathname = pathname\r\n        .replace(process.env.PUBLIC_URL, \"\")\r\n        .replace(`/${locale}`, \"\");\r\n    } else {\r\n      pathname = pathname.replace(`/${locale}`, \"\");\r\n    }\r\n\r\n    return pathname;\r\n  };\r\n\r\n  return (\r\n    <header>\r\n      <div className=\"container\">\r\n        <div className=\"navbar-header\">\r\n          {accessToken && (\r\n            <div\r\n              className={`toggle-button ${\r\n                isMenuActive === true ? \"menu-active\" : \"\"\r\n              }`}\r\n              id=\"toggle\"\r\n              onClick={toggleMenu}\r\n            >\r\n              <span className=\"bar top\"></span>\r\n              <span className=\"bar middle\"></span>\r\n              <span className=\"bar bottom\"></span>\r\n            </div>\r\n          )}\r\n          <div className=\"logo\">\r\n            <Link to={`/${locale}/${accessToken ? `home` : `login`}`}>\r\n              <img src={logo} alt=\"iRewards\" />\r\n            </Link>\r\n          </div>\r\n          {accessToken && (\r\n            <div className=\"tools-button\">\r\n              <Link to=\"inbox\">\r\n                <img src={iconMessage} alt=\"\" />\r\n              </Link>\r\n            </div>\r\n          )}\r\n        </div>\r\n        {accessToken && (\r\n          <nav\r\n            id=\"overlay\"\r\n            className={`overlay ${isMenuActive === true ? \"nav-active\" : \"\"}`}\r\n          >\r\n            <div className=\"btn-close-holder\">\r\n              <button className=\"btn-close\" onClick={toggleMenu}></button>\r\n            </div>\r\n            <div className=\"overlay-menu\">\r\n              <div className=\"container\">\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"overlay-top-holder\">\r\n                      <Link to=\"home\" className=\"btn-circle btn-home\">\r\n                        <img src={iconHome} alt=\"\" />\r\n                      </Link>\r\n                      <Link\r\n                        to={`/${locale}/logout`}\r\n                        className=\"btn-circle btn-logout\"\r\n                      >\r\n                        <img src={iconLogout} alt=\"\" />\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-6 col-sm-4 col-md-4 col-lg-2\">\r\n                    <Link\r\n                      to={`/${locale}/points-balance`}\r\n                      onClick={toggleMenu}\r\n                      className=\"menu-item menu-points-balance\"\r\n                    >\r\n                      <div className=\"menu-icon\">\r\n                        <img\r\n                          src={iconPointsBalance}\r\n                          alt={I18n.getTranslation(location, \"points_balance\")}\r\n                        />\r\n                      </div>\r\n                      <div className=\"menu-title\">\r\n                        <I18n t=\"points_balance\" />\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-6 col-sm-4 col-md-4 col-lg-2\">\r\n                    <Link\r\n                      to={`/${locale}/my-redemption-gift`}\r\n                      onClick={toggleMenu}\r\n                      className=\"menu-item menu-my-redemption\"\r\n                    >\r\n                      <div className=\"menu-icon\">\r\n                        <img\r\n                          src={iconMyRedemption}\r\n                          alt={I18n.getTranslation(location, \"my_redemption\")}\r\n                        />\r\n                      </div>\r\n                      <div className=\"menu-title\">\r\n                        <I18n t=\"my_redemption\" />\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-6 col-sm-4 col-md-4 col-lg-2\">\r\n                    <Link\r\n                      to={`/${locale}/gifts`}\r\n                      onClick={toggleMenu}\r\n                      className=\"menu-item menu-gifts\"\r\n                    >\r\n                      <div className=\"menu-icon\">\r\n                        <img\r\n                          src={iconGifts}\r\n                          alt={I18n.getTranslation(location, \"gifts\")}\r\n                        />\r\n                      </div>\r\n                      <div className=\"menu-title\">\r\n                        <I18n t=\"gifts\" />\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-6 col-sm-4 col-md-4 col-lg-2\">\r\n                    <Link\r\n                      to={`/${locale}/events`}\r\n                      onClick={toggleMenu}\r\n                      className=\"menu-item menu-events\"\r\n                    >\r\n                      <div className=\"menu-icon\">\r\n                        <img\r\n                          src={iconEvents}\r\n                          alt={I18n.getTranslation(location, \"events\")}\r\n                        />\r\n                      </div>\r\n                      <div className=\"menu-title\">\r\n                        <I18n t=\"events\" />\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-6 col-sm-4 col-md-4 col-lg-2\">\r\n                    <Link\r\n                      to={`/${locale}/my-profile`}\r\n                      onClick={toggleMenu}\r\n                      className=\"menu-item menu-my-profile\"\r\n                    >\r\n                      <div className=\"menu-icon\">\r\n                        <img\r\n                          src={iconMyProfile}\r\n                          alt={I18n.getTranslation(location, \"my_profile\")}\r\n                        />\r\n                      </div>\r\n                      <div className=\"menu-title\">\r\n                        <I18n t=\"my_profile\" />\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                  <div className=\"col-6 col-sm-4 col-md-4 col-lg-2\">\r\n                    <Link to=\"/\" className=\"menu-item menu-about-us\">\r\n                      <div className=\"menu-icon\">\r\n                        <img\r\n                          src={iconAboutUs}\r\n                          alt={I18n.getTranslation(location, \"about_us\")}\r\n                        />\r\n                      </div>\r\n                      <div className=\"menu-title\">\r\n                        <I18n t=\"about_us\" />\r\n                      </div>\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                  <div className=\"col-12\">\r\n                    <div className=\"overlay-bottom-holder\">\r\n                      <Link\r\n                        to={`/eng${stripLocale(pathname, locale)}`}\r\n                        className={`btn-lang btn-eng ${\r\n                          locale === \"eng\" ? \"active\" : \"\"\r\n                        }`}\r\n                        onClick={toggleMenu}\r\n                      >\r\n                        <div className=\"btn-lang-icon\">EN</div>\r\n                        <div className=\"btn-lang-title\">English</div>\r\n                      </Link>\r\n\r\n                      <Link\r\n                        to={`/tch${stripLocale(pathname, locale)}`}\r\n                        className={`btn-lang btn-tch ${\r\n                          locale === \"tch\" ? \"active\" : \"\"\r\n                        }`}\r\n                        onClick={toggleMenu}\r\n                      >\r\n                        <div className=\"btn-lang-icon\">繁</div>\r\n                        <div className=\"btn-lang-title\">繁體</div>\r\n                      </Link>\r\n\r\n                      <Link\r\n                        to={`/sch${stripLocale(pathname, locale)}`}\r\n                        className={`btn-lang btn-sch ${\r\n                          locale === \"sch\" ? \"active\" : \"\"\r\n                        }`}\r\n                        onClick={toggleMenu}\r\n                      >\r\n                        <div className=\"btn-lang-icon\">简</div>\r\n                        <div className=\"btn-lang-title\">简体</div>\r\n                      </Link>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </nav>\r\n        )}\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\nimport logo from \"../assets/images/meLogo.svg\";\r\nimport \"./Footer.css\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer id=\"sticky-footer\">\r\n      <div className=\"container text-left\">\r\n        <img src={logo} alt=\"Media Explorer Limited\" className=\"footer-logo\" />\r\n        <span>\r\n          Powered by{\" \"}\r\n          <a href=\"http://www.me.hk/\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            Media Explorer Limited\r\n          </a>\r\n          .\r\n        </span>\r\n      </div>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../i18n\";\r\nimport \"./PointsBalance.css\";\r\n\r\nlet totalPointsBalance = 0;\r\n\r\nexport default class PointsBalanceComponent extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    totalPointsBalance = props.totalPointsBalance\r\n      ? props.totalPointsBalance\r\n      : 0;\r\n    this.state = { smallFontSize: false };\r\n  }\r\n\r\n  componentDidMount() {\r\n    const checkSize = (val) => {\r\n      if (val) {\r\n        if (val.toString().length >= 7) {\r\n          this.setState({\r\n            smallFontSize: true,\r\n          });\r\n        }\r\n      }\r\n    };\r\n\r\n    checkSize(totalPointsBalance);\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"container-fluid home-points-balance\">\r\n        <div className=\"container text-center\">\r\n          <div id=\"home-points-balance-holder\">\r\n            <strong className=\"home-points-balance-title\">\r\n              <I18n t=\"points_balance\" />\r\n            </strong>\r\n            <div className=\"home-points-balance-circle-holder\">\r\n              <div className=\"quarter top\"></div>\r\n              <div className=\"quarter bottom-left\"></div>\r\n              <div className=\"home-points-balance-circle\">\r\n                <div className=\"quarter top\"></div>\r\n                <div className=\"quarter bottom-left\"></div>\r\n                <div className=\"home-points-balance-circle-inner\">\r\n                  <Link\r\n                    to=\"points-balance\"\r\n                    className=\"icon-points-balance\"\r\n                  ></Link>\r\n                  <span\r\n                    className={`${this.state.smallFontSize ? \"small\" : \"\"}`}\r\n                  >\r\n                    {totalPointsBalance}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport \"./Loading.css\";\r\n\r\nexport default class Loading extends React.Component {\r\n  render() {\r\n    return (\r\n      <div id=\"loading\">\r\n        <div className=\"balls\">\r\n          <div></div>\r\n          <div></div>\r\n          <div></div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PointsBalanceComponent from \"../components/PointsBalanceComponent\";\r\nimport { useUser } from \"../store/UseUser\";\r\nimport { getBonusPointsHistory } from \"../utils/httpUtils\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport \"./Home.css\";\r\nimport iconUserProfile from \"../assets/images/icon-user-profile.svg\";\r\nimport iconUserRedemption from \"../assets/images/icon-user-redemption.svg\";\r\nimport iconUserQrcode from \"../assets/images/icon-user-qrcode.svg\";\r\nimport imageGift from \"../assets/images/gift.gif\";\r\nimport imageTicket from \"../assets/images/ticket.gif\";\r\nimport imageNoBonus from \"../assets/images/no_bonus.gif\";\r\n// import birthdayRewardIcon from \"../assets/images/icon-birthday-reward.svg\";\r\n// import extraRewardIcon from \"../assets/images/icon-extra-reward.svg\";\r\nimport giftRedemptionIcon from \"../assets/images/icon-gift-redemption.svg\";\r\nimport spendingRewardIcon from \"../assets/images/icon-spending-reward.svg\";\r\nimport activityParticipationIcon from \"../assets/images/icon-activity-participation.svg\";\r\nimport rewardAdjustIcon from \"../assets/images/icon-reward-adjust.svg\";\r\nimport I18n from \"../i18n\";\r\nimport moment from \"moment\";\r\nimport QRCode from \"react-qr-code\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nfunction Home(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"home\";\r\n  const { user, accessToken } = useUser();\r\n  const memberProfile = user;\r\n  const bonusPointsBalanceList = memberProfile.bonusPointsBalance;\r\n  let history = useHistory();\r\n\r\n  const RenderBonusPointsBalance = (data) => {\r\n    if (data) {\r\n      return Object.keys(data).map((item, index) => {\r\n        return (\r\n          <div className=\"list-item\" key={index}>\r\n            <div className=\"container\">\r\n              <I18n\r\n                t=\"pointsExpiredOn\"\r\n                args={{\r\n                  balance: data[item].balance,\r\n                  date: data[item].expiryDate,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  const getTotalPointsBalance = () => {\r\n    var tempBalance;\r\n    if (memberProfile.bonusPointsBalance) {\r\n      tempBalance = 0;\r\n      for (const bp of memberProfile.bonusPointsBalance) {\r\n        tempBalance += bp.balance;\r\n      }\r\n    }\r\n    return tempBalance;\r\n  };\r\n\r\n  let totalPointsBalance = getTotalPointsBalance();\r\n\r\n  const [memberHistoryEmpty, setMemberHistoryEmpty] = useState(false);\r\n  const [memberHistoryList, setMemberHistoryList] = useState([]);\r\n  const [memberHistoryListLoaded, setMemberHistoryListLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setMemberHistoryListLoaded(false);\r\n\r\n      if (sessionStorage.getItem(\"memberToken\") === \"99999999\") {\r\n        setMemberHistoryEmpty(false);\r\n        let responseData = require(\"../assets/json/mockPointsBalance.json\");\r\n        setMemberHistoryList(responseData);\r\n        setMemberHistoryListLoaded(true);\r\n      } else {\r\n        getBonusPointsHistory(accessToken, {\r\n          numberOfLastRecord: 50,\r\n        })\r\n          .then((response) => {\r\n            let responseData = response.data.content.memberBonusTransactionList.sort(\r\n              (a, b) => moment(b.createDate) - moment(a.createDate)\r\n            );\r\n            if (responseData.length === 0) {\r\n              setMemberHistoryEmpty(true);\r\n            } else {\r\n              setMemberHistoryEmpty(false);\r\n              setMemberHistoryList(responseData.slice(0, 6));\r\n            }\r\n            setMemberHistoryListLoaded(true);\r\n          })\r\n          .catch(function (error) {\r\n            // history.push(\"/\" + locale + \"/logout\");\r\n          });\r\n      }\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getActivitiesIcon = (e) => {\r\n    if (e.action) {\r\n      switch (e.action) {\r\n        case \"A\":\r\n          return rewardAdjustIcon;\r\n        case \"S\":\r\n          return spendingRewardIcon;\r\n        case \"D\":\r\n          return giftRedemptionIcon;\r\n        case \"G\":\r\n          return giftRedemptionIcon;\r\n        case \"R\":\r\n          return giftRedemptionIcon;\r\n        case \"C\":\r\n          return giftRedemptionIcon;\r\n        case \"T\":\r\n          return activityParticipationIcon;\r\n        default:\r\n          return giftRedemptionIcon;\r\n      }\r\n    } else {\r\n      switch (e.type) {\r\n        case \"B\":\r\n          return rewardAdjustIcon;\r\n        case \"G\":\r\n          return giftRedemptionIcon;\r\n        case \"S\":\r\n          return giftRedemptionIcon;\r\n        default:\r\n          return rewardAdjustIcon;\r\n      }\r\n    }\r\n  };\r\n\r\n  const getActivitiesTitle = (e) => {\r\n    if (e.action) {\r\n      switch (e.action) {\r\n        case \"A\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"adjust\" />\r\n              );\r\n          } else if (e.adjustReasonName) {\r\n            return e.adjustReasonName ? (\r\n              e.adjustReasonName\r\n            ) : (\r\n                <I18n t=\"adjust\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"S\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"spending_add_points\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"D\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"direct_add_point\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"G\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"redeem_spending_gift\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"R\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"redeem_bonus_points_gift\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"C\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"redeem_bonus_points_coupon\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"T\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"event_participation\" />\r\n              );\r\n          }\r\n          break;\r\n        default:\r\n          return \"-\";\r\n      }\r\n    } else {\r\n      switch (e.type) {\r\n        case \"B\":\r\n          return <I18n t=\"earn_points\" />;\r\n        case \"G\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"spendingredeem_gift_add_points\" />\r\n              );\r\n          } else {\r\n            return <I18n t=\"redeem_gift\" />;\r\n          }\r\n        case \"S\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"reserve_gift\" />\r\n              );\r\n          } else {\r\n            return <I18n t=\"reserve_gift\" />;\r\n          }\r\n        default:\r\n          return \"-\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const getActivitiesActionType = (e) => {\r\n    if (e.action) {\r\n      switch (e.action) {\r\n        case \"A\":\r\n          return <I18n t=\"adjust\" />;\r\n        case \"S\":\r\n          return <I18n t=\"spending_add_points\" />;\r\n        case \"D\":\r\n          return <I18n t=\"direct_add_point\" />;\r\n        case \"G\":\r\n          return <I18n t=\"redeem_spending_gift\" />;\r\n        case \"R\":\r\n          return <I18n t=\"redeem_bonus_points_gift\" />;\r\n        case \"C\":\r\n          return <I18n t=\"redeem_bonus_points_coupon\" />;\r\n        case \"T\":\r\n          return <I18n t=\"event_participation\" />;\r\n        default:\r\n          return \"-\";\r\n      }\r\n    } else {\r\n      switch (e.type) {\r\n        case \"B\":\r\n          return <I18n t=\"earn_points\" />;\r\n        case \"G\":\r\n          return <I18n t=\"redeem_gift\" />;\r\n        case \"S\":\r\n          return <I18n t=\"reserve_gift\" />;\r\n        default:\r\n          return \"-\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const getActivitiesPoint = (e) => {\r\n    let points = 0;\r\n    if (e.points === 0 || e.earnedPoints === 0) {\r\n      return (\r\n        <I18n\r\n          t=\"pts\"\r\n          args={{\r\n            points: points,\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      let points = e.points ? e.points : e.earnedPoints;\r\n      if (points > 0) {\r\n        return (\r\n          <I18n\r\n            t=\"pts\"\r\n            args={{\r\n              points: \"+\" + points,\r\n            }}\r\n          />\r\n        );\r\n      } else if (points < 0) {\r\n        return (\r\n          <I18n\r\n            t=\"pts\"\r\n            args={{\r\n              points: points,\r\n            }}\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <I18n\r\n            t=\"pts\"\r\n            args={{\r\n              points: 0,\r\n            }}\r\n          />\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  let qrCode = memberProfile.memberId;\r\n  const [isPopupActive, setIsPopupActive] = useState(false);\r\n  const [isPopupQrcodeActive, setIsPopupQrcodeActive] = useState(false);\r\n  const togglePopupClose = (e) => {\r\n    e.preventDefault();\r\n    setIsPopupActive(false);\r\n  };\r\n  const toggleQrcodePopup = (e) => {\r\n    e.preventDefault();\r\n    setIsPopupActive(true);\r\n    setIsPopupQrcodeActive(true);\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {totalPointsBalance >= 0 && (\r\n        <PointsBalanceComponent totalPointsBalance={totalPointsBalance} />\r\n      )}\r\n\r\n      <div className=\"container-fluid home-user-info\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-6\">\r\n              {memberProfile && (\r\n                <>\r\n                  <span className=\"home-user-info-member-name\">\r\n                    Welcome back, {memberProfile.firstNameLang1}  {memberProfile.lastNameLang1}\r\n                  </span>\r\n                  <br />\r\n                  <span className=\"home-user-info-member-id\">\r\n                    Your Member ID:  {memberProfile.memberId}\r\n                  </span>\r\n                </>\r\n              )}\r\n            </div>\r\n            <div className=\"col-6\">\r\n              <ul className=\"home-user-info-navigation\">\r\n                <li>\r\n                  <Link to=\"my-profile\">\r\n                    <img src={iconUserProfile} alt=\"\" />\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"my-redemption-gift\">\r\n                    <img src={iconUserRedemption} alt=\"\" />\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"/#\" onClick={toggleQrcodePopup}>\r\n                    <img src={iconUserQrcode} alt=\"\" />\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid home-points-expire section-title\">\r\n        <div className=\"container\">\r\n          <span>\r\n            <I18n t=\"points_expire\" />\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid home-points-expire-list\">\r\n        {RenderBonusPointsBalance(bonusPointsBalanceList)}\r\n      </div>\r\n\r\n      <div className=\"container-fluid home-main-navigation\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-sm-6 home-main-left home-main-navigation-split\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6 col-sm-6\">\r\n                  <span className=\"nav-title1 uppercase\">\r\n                    <I18n t=\"gift\" />\r\n                  </span>\r\n                  <span className=\"nav-title2\">\r\n                    <I18n t=\"redemption\" />\r\n                  </span>\r\n                  <span className=\"nav-content\">\r\n                    <I18n t=\"home_gift_intro1\" />\r\n                    <br />\r\n                    <I18n t=\"home_gift_intro2\" />\r\n                  </span>\r\n                  <Link to=\"gifts\" className=\"nav-button uppercase\">\r\n                    <I18n t=\"gift_list\" />\r\n                  </Link>\r\n                </div>\r\n                <div className=\"col-6 col-sm-6 nav-icon\">\r\n                  <img src={imageGift} alt=\"\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-12 col-sm-6 home-main-right\">\r\n              <div className=\"row\">\r\n                <div className=\"col-6 col-sm-6\">\r\n                  <div className=\"event-content-holder\">\r\n                    <span className=\"nav-title1 uppercase\">\r\n                      <I18n t=\"event\" />\r\n                    </span>\r\n                    <span className=\"nav-title2\">\r\n                      <I18n t=\"enrollment\" />\r\n                    </span>\r\n                    <span className=\"nav-content\">\r\n                      <I18n t=\"home_event_intro1\" />\r\n                      <br />\r\n                      <I18n t=\"home_event_intro2\" />\r\n                    </span>\r\n                    <Link to=\"events\" className=\"nav-button uppercase\">\r\n                      <I18n t=\"ticket_list\" />\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-6 col-sm-6 nav-icon\">\r\n                  <img src={imageTicket} alt=\"\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid home-points-expire section-title\">\r\n        <div className=\"container\">\r\n          <span>\r\n            <I18n t=\"recent_activities\" />\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      {memberHistoryEmpty === true && (\r\n        <div className=\"member-recent-history-empty\">\r\n          <img src={imageNoBonus} alt=\"\" />\r\n          <p>\r\n            <I18n t=\"recent_activities_history_empty\" />\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {memberHistoryEmpty === false && (\r\n        <div className=\"container home-recent-activities-list\">\r\n          {!memberHistoryListLoaded && <Loading />}\r\n          {memberHistoryList.length > 0 &&\r\n            Object.keys(memberHistoryList).map((item, index) => {\r\n              return (\r\n                <div className=\"list-item row\" key={index}>\r\n                  <div className=\"list-item-icon-holder\">\r\n                    <div\r\n                      className={`list-item-icon ${memberHistoryList[item].points > 0 ||\r\n                        memberHistoryList[item].points.earnedPoints > 0\r\n                        ? \"points-plus\"\r\n                        : \"\"\r\n                        }`}\r\n                    >\r\n                      <img\r\n                        src={getActivitiesIcon(memberHistoryList[item])}\r\n                        alt=\"\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"list-item-content\">\r\n                    <div className=\"list-item-title\">\r\n                      {getActivitiesTitle(memberHistoryList[item])}\r\n                    </div>\r\n                    <div className=\"list-item-type\">\r\n                      {getActivitiesActionType(memberHistoryList[item])}\r\n                    </div>\r\n                    <div className=\"list-item-date\">\r\n                      {memberHistoryList[item].createDate}\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"list-item-right\">\r\n                    <div\r\n                      className={`list-item-points-change ${memberHistoryList[item].points > 0 ||\r\n                        memberHistoryList[item].earnedPoints > 0\r\n                        ? \"plus\"\r\n                        : \"\"\r\n                        }`}\r\n                    >\r\n                      {getActivitiesPoint(memberHistoryList[item])}\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        id=\"page-popup\"\r\n        className={isPopupActive === true ? \"popup-active\" : \"\"}\r\n      >\r\n        <div className=\"btn-close-holder\">\r\n          <Link className=\"btn-close\" to=\"/#\" onClick={togglePopupClose}></Link>\r\n        </div>\r\n        <div\r\n          id=\"qrcode\"\r\n          className={`page-popup-holder ${isPopupQrcodeActive === true ? \"popup-qrcode-active\" : \"\"\r\n            }`}\r\n        >\r\n          <div className=\"container\">\r\n            <div className=\"page-popup-title\">\r\n              <span id=\"qrcode-member-name\">\r\n                {memberProfile.firstNameLang1}\r\n                {memberProfile.lastNameLang1}\r\n              </span>\r\n              <span id=\"qrcode-member-id\">{memberProfile.memberId}</span>\r\n            </div>\r\n            <div className=\"page-popup-content\">\r\n              <div className=\"qrCodeHolder\">\r\n                <div className=\"arrow-top\"></div>\r\n                <div id=\"memberQrCode\">\r\n                  <QRCode value={String(qrCode)} size={200} />\r\n                </div>\r\n                <div className=\"arrow-bottom\"></div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"earn-points\">\r\n        <Link to={`./qrcode/scan`} className=\"uppercase\">\r\n          {<I18n t=\"earn_points\" />}\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React from \"react\";\r\nimport Sketch from \"react-p5\";\r\n\r\nlet bgColor = \"\";\r\nlet windowW = document.documentElement.clientWidth;\r\nlet windowH = document.documentElement.clientHeight * 0.9;\r\nlet centerW = windowW / 2;\r\nlet centerH = windowH / 2;\r\nlet circle;\r\nlet circles = [];\r\nlet shortSide;\r\n\r\nexport default class PageBgAnimation extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    bgColor = props.bgColor;\r\n  }\r\n\r\n  render() {\r\n    const setup = (p, parentRef) => {\r\n      class Particle {\r\n        constructor(x, y, w, h, r) {\r\n          this.pos = p.createVector(x, y);\r\n          this.w = w;\r\n          this.h = h;\r\n          this.r = r;\r\n        }\r\n        display() {\r\n          p.noFill();\r\n          p.noStroke();\r\n          p.fill(0);\r\n          p.ellipse(this.pos.x, this.pos.y, this.r, this.r);\r\n        }\r\n      }\r\n\r\n      class MagicCircle {\r\n        constructor(len, x, y, r, c) {\r\n          this.pArr = [];\r\n          this.pos = p.createVector(x, y);\r\n          this.tempPos = p.createVector(x, y);\r\n          this.r = r;\r\n          this.len = len;\r\n          this.tx = p.random(500);\r\n          this.ty = p.random(500);\r\n          this.tPos = p.random(500);\r\n          this.txSpeed = p.random() / 30;\r\n          this.tySpeed = p.random() / 30;\r\n          this.rotation = 0;\r\n          this.rotateSpeed1 = p.random(0.1, 1);\r\n          this.rotateSpeed2 = p.random(0.1, 1);\r\n          this.color = c;\r\n          this.fPoints = p.random(\r\n            (shortSide / 2) * 0.01,\r\n            (shortSide / 2) * 0.4\r\n          );\r\n          this.fPos = p.random((shortSide / 2) * 0.02, (shortSide / 2) * 0.3);\r\n          for (let i = 0; i < len; i++) {\r\n            let p = new Particle(x, y, 2, 10, 4);\r\n            this.pArr.push(p);\r\n          }\r\n        }\r\n\r\n        update() {\r\n          this.tx += this.txSpeed;\r\n          this.ty += this.tySpeed;\r\n          this.rotation = this.rotation % 360;\r\n          this.rotation += this.rotateSpeed1;\r\n          // points position in circle\r\n          for (let i = 0; i < this.len; i++) {\r\n            let rad = p.radians((360 / this.len) * i);\r\n            let x = p.cos(rad) * (this.r + p.noise(this.tx + i) * this.fPoints);\r\n            let y = p.sin(rad) * (this.r + p.noise(this.ty + i) * this.fPoints);\r\n            this.pArr[i].pos.x = x;\r\n            this.pArr[i].pos.y = y;\r\n          }\r\n          // circle position\r\n          this.tPos = this.tPos % 360;\r\n          this.tPos += this.rotateSpeed2;\r\n          this.pos.x =\r\n            p.cos(p.radians(this.tPos)) * this.fPos * p.noise(this.tx / 10) +\r\n            this.tempPos.x;\r\n          this.pos.y =\r\n            p.sin(p.radians(this.tPos)) * this.fPos * p.noise(this.ty / 10) +\r\n            this.tempPos.y;\r\n        }\r\n\r\n        display() {\r\n          p.push();\r\n          p.translate(this.pos.x, this.pos.y);\r\n          p.rotate(p.radians(this.rotation));\r\n          p.stroke(this.color);\r\n          p.strokeWeight(1);\r\n          p.noFill();\r\n          p.beginShape();\r\n          p.curveVertex(\r\n            this.pArr[this.len - 1].pos.x,\r\n            this.pArr[this.len - 1].pos.y\r\n          );\r\n          for (let i = 0; i < this.len; i++) {\r\n            p.curveVertex(this.pArr[i].pos.x, this.pArr[i].pos.y);\r\n          }\r\n          p.curveVertex(this.pArr[0].pos.x, this.pArr[0].pos.y);\r\n          p.curveVertex(this.pArr[1].pos.x, this.pArr[1].pos.y);\r\n          p.endShape();\r\n          p.pop();\r\n        }\r\n      }\r\n\r\n      shortSide = p.min(windowW, windowH);\r\n      p.createCanvas(windowW, windowH).parent(parentRef);\r\n\r\n      p.background(bgColor);\r\n      for (let i = 0; i < 6; i++) {\r\n        circle = new MagicCircle(\r\n          p.floor(p.random(8, 10)),\r\n          centerW,\r\n          centerH,\r\n          p.random(shortSide / 3, shortSide / 3),\r\n          p.color(255, 255, 255, 100)\r\n        );\r\n        circles.push(circle);\r\n      }\r\n    };\r\n\r\n    const draw = (p) => {\r\n      p.background(bgColor);\r\n      p.noFill();\r\n      p.frameRate(1);\r\n      circles.forEach(function (circle) {\r\n        circle.update();\r\n        circle.display();\r\n      });\r\n    };\r\n\r\n    return <Sketch setup={setup} draw={draw} />;\r\n  }\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport logo from \"../assets/images/logo-2.svg\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../i18n\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport \"./Login.css\";\r\nimport \"../Form.css\";\r\nimport Loading from \"../components/Loading\";\r\nimport PageBgAnimation from \"../components/PageBgAnimation\";\r\nimport { lmsUserLogin, getEnumValue } from \"../utils/httpUtils\";\r\nimport { useUser } from \"../store/UseUser\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport Cookies from \"js-cookie\";\r\n\r\nfunction Login(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"login\";\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const { setAccessToken } = useUser();\r\n  let history = useHistory();\r\n\r\n  const [disableLoginBtn, setDisableLoginBtn] = useState(false);\r\n  const inOneHour = new Date(new Date().getTime() + 60 * 60 * 1000);\r\n  const [phonePrefixOptions, setPhonePrefixOptions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      getEnumValue()\r\n        .then((response) => {\r\n          setPhonePrefixOptions(response.data.PhonePrefix);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const onSubmit = (data) => {\r\n    setDisableLoginBtn(true);\r\n    if (data.phone === \"99999999\" && data.password === \"99999999\") {\r\n      setDisableLoginBtn(true);\r\n      loginToast(<I18n t=\"login_success\" />);\r\n      setAccessToken(\"99999999\");\r\n    } else {\r\n      lmsUserLogin({\r\n        phonePrefix: data.phonePrefix,\r\n        phone: data.phone,\r\n        password: data.password,\r\n      })\r\n        .then((response) => {\r\n          if (response.data.status === \"S000\") {\r\n            setDisableLoginBtn(true);\r\n            loginToast(<I18n t=\"login_success\" />);\r\n            if (data.stayLogin) {\r\n              Cookies.set(\"isStayLogin\", data.stayLogin, { expires: inOneHour });\r\n              Cookies.set(\"memberToken\", response.data.content, {\r\n                expires: inOneHour,\r\n              });\r\n              setAccessToken(response.data.content);\r\n            } else {\r\n              setAccessToken(response.data.content);\r\n            }\r\n          } else {\r\n            setDisableLoginBtn(false);\r\n            loginToast(response.data.message[0]);\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          console.log(error);\r\n          setDisableLoginBtn(false);\r\n          loginToast(<I18n t=\"login_fail\" />);\r\n        });\r\n    }\r\n  };\r\n\r\n  const toastOptions = {\r\n    autoClose: 3000,\r\n    position: toast.POSITION.TOP_CENTER,\r\n    pauseOnHover: false,\r\n    onClose: () => loginTokenRedirect(),\r\n  };\r\n\r\n  const loginToast = (message) => {\r\n    toast.info(message, toastOptions);\r\n  };\r\n\r\n  const loginTokenRedirect = () => {\r\n    if (\r\n      sessionStorage.getItem(\"memberToken\") !== \"\" ||\r\n      Cookies.get(\"memberToken\") !== \"\"\r\n    ) {\r\n      history.push(\"/\" + locale + \"/home\");\r\n    } else {\r\n      window.location.reload();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer pauseOnFocusLoss={false} />\r\n\r\n      <PageBgAnimation bgColor=\"#FFD428\" />\r\n\r\n      <div className=\"login-logo\">\r\n        <img src={logo} alt=\"logo\" />\r\n      </div>\r\n\r\n      {disableLoginBtn && <Loading />}\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"form\" id=\"login-form\">\r\n          <div className=\"form-intro\">\r\n            <h2>\r\n              <I18n t=\"login_intro1\" />\r\n            </h2>\r\n            <h4>\r\n              <I18n t=\"login_intro2\" />\r\n            </h4>\r\n          </div>\r\n\r\n          <div className=\"form-body\">\r\n            <div className=\"input-phone\">\r\n              <div className=\"form-input\">\r\n                <select\r\n                  name=\"phonePrefix\"\r\n                  className=\"custom-select input-phone-dial-code\"\r\n                  ref={register()}\r\n                >\r\n                  {phonePrefixOptions.length > 0 && Object.keys(phonePrefixOptions).map((item) => {\r\n                    return (\r\n                      <option\r\n                        value={phonePrefixOptions[item].value}\r\n                        key={phonePrefixOptions[item].key}\r\n                      >\r\n                        {phonePrefixOptions[item].name}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                  {phonePrefixOptions.length === 0 && <option\r\n                    value=\"852\"\r\n                    key=\"852\"\r\n                  >\r\n                    +852\r\n                      </option>}\r\n                </select>\r\n              </div>\r\n              <div className=\"form-input\">\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"phone\"\r\n                  placeholder={I18n.getTranslation(location, \"phone_number\")}\r\n                  autoComplete=\"off\"\r\n                  className={`form-control input-phone-number ${errors.phone?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                  ref={register({ required: true, pattern: /[0-9]/ })}\r\n                />\r\n                <div className=\"error-icon\"></div>\r\n              </div>\r\n              <div className=\"message\">\r\n                {errors.phone?.type === \"required\" &&\r\n                  I18n.getTranslation(location, \"phone_number_required\")}\r\n                {errors.phone?.type === \"pattern\" &&\r\n                  I18n.getTranslation(location, \"must_be_digit\")}\r\n              </div>\r\n            </div>\r\n            <div className=\"form-input\">\r\n              <input\r\n                type=\"password\"\r\n                name=\"password\"\r\n                placeholder={I18n.getTranslation(location, \"password\")}\r\n                autoComplete=\"off\"\r\n                className={`form-control ${errors.password?.type === \"required\" ? \"error\" : \"\"\r\n                  }`}\r\n                ref={register({\r\n                  required: true,\r\n                  pattern: /[A-Za-z0-9]{8}/,\r\n                })}\r\n              />\r\n              <div className=\"error-icon\"></div>\r\n            </div>\r\n            <div className=\"message\">\r\n              {errors.password?.type === \"required\" &&\r\n                I18n.getTranslation(location, \"password_required\")}\r\n              {errors.password?.type === \"pattern\" &&\r\n                I18n.getTranslation(location, \"password_formt_required\")}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"form-footer\">\r\n            <div>\r\n              <label className=\"form-label-container\">\r\n                <input type=\"checkbox\" name=\"stayLogin\" ref={register()} />\r\n                <span className=\"text\">\r\n                  <I18n t=\"stay_login\" />\r\n                </span>\r\n                <span className=\"checkmark\"></span>\r\n              </label>\r\n\r\n              <Link to=\"forgot-password\" className=\"link-forgot-password\">\r\n                <I18n t=\"forgot_password\" />?\r\n              </Link>\r\n            </div>\r\n            <div className=\"form-footer-button\">\r\n              <button\r\n                type=\"submit\"\r\n                className=\"btn btn-login uppercase btn-secondary\"\r\n                disabled={disableLoginBtn}\r\n              >\r\n                {I18n.getTranslation(location, \"login\")}\r\n              </button>\r\n            </div>\r\n            <div className=\"form-footer-remark\">\r\n              <I18n t=\"dont_have_an_account\" />?{\" \"}\r\n              <Link to=\"register\">\r\n                <I18n t=\"signup\" />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport Sketch from \"react-p5\";\r\nimport iconPageTitle from \"../assets/images/icon-page-title.svg\";\r\nimport { isMobileOnly, isTablet } from \"react-device-detect\";\r\n\r\nlet bgColor = \"#FFD428\";\r\nlet windowW = document.documentElement.clientWidth / 3;\r\nif (isTablet) {\r\n  windowW = document.documentElement.clientWidth / 2;\r\n} else if (isMobileOnly) {\r\n  windowW = document.documentElement.clientWidth;\r\n}\r\nlet windowH = 150;\r\nlet centerW = windowW / 2;\r\nlet centerH = windowH / 2;\r\nlet circle;\r\nlet circles = [];\r\nlet shortSide;\r\n\r\nexport default class PageTitleAnimation extends React.Component {\r\n  render() {\r\n    const setup = (p, parentRef) => {\r\n      class Particle {\r\n        constructor(x, y, w, h, r) {\r\n          this.pos = p.createVector(x, y);\r\n          this.w = w;\r\n          this.h = h;\r\n          this.r = r;\r\n        }\r\n        display() {\r\n          p.noFill();\r\n          p.noStroke();\r\n          p.fill(0);\r\n          p.ellipse(this.pos.x, this.pos.y, this.r, this.r);\r\n        }\r\n      }\r\n\r\n      class MagicCircle {\r\n        constructor(len, x, y, r, c) {\r\n          this.pArr = [];\r\n          this.pos = p.createVector(x, y);\r\n          this.tempPos = p.createVector(x, y);\r\n          this.r = r;\r\n          this.len = len;\r\n          this.tx = p.random(500);\r\n          this.ty = p.random(500);\r\n          this.tPos = p.random(500);\r\n          this.txSpeed = p.random() / 30;\r\n          this.tySpeed = p.random() / 30;\r\n          this.rotation = 0;\r\n          this.rotateSpeed1 = p.random(0.1, 1);\r\n          this.rotateSpeed2 = p.random(0.1, 1);\r\n          this.color = c;\r\n          this.fPoints = p.random(\r\n            (shortSide / 2) * 0.01,\r\n            (shortSide / 2) * 0.4\r\n          );\r\n          this.fPos = p.random((shortSide / 2) * 0.02, (shortSide / 2) * 0.3);\r\n          for (let i = 0; i < len; i++) {\r\n            let p = new Particle(x, y, 2, 10, 4);\r\n            this.pArr.push(p);\r\n          }\r\n        }\r\n\r\n        update() {\r\n          this.tx += this.txSpeed;\r\n          this.ty += this.tySpeed;\r\n          this.rotation = this.rotation % 360;\r\n          this.rotation += this.rotateSpeed1;\r\n          // points position in circle\r\n          for (let i = 0; i < this.len; i++) {\r\n            let rad = p.radians((360 / this.len) * i);\r\n            let x = p.cos(rad) * (this.r + p.noise(this.tx + i) * this.fPoints);\r\n            let y = p.sin(rad) * (this.r + p.noise(this.ty + i) * this.fPoints);\r\n            this.pArr[i].pos.x = x;\r\n            this.pArr[i].pos.y = y;\r\n          }\r\n          // circle position\r\n          this.tPos = this.tPos % 360;\r\n          this.tPos += this.rotateSpeed2;\r\n          this.pos.x =\r\n            p.cos(p.radians(this.tPos)) * this.fPos * p.noise(this.tx / 10) +\r\n            this.tempPos.x;\r\n          this.pos.y =\r\n            p.sin(p.radians(this.tPos)) * this.fPos * p.noise(this.ty / 10) +\r\n            this.tempPos.y;\r\n        }\r\n\r\n        display() {\r\n          p.push();\r\n          p.translate(this.pos.x, this.pos.y);\r\n          p.rotate(p.radians(this.rotation));\r\n          p.stroke(this.color);\r\n          p.strokeWeight(1);\r\n          p.noFill();\r\n          p.beginShape();\r\n          p.curveVertex(\r\n            this.pArr[this.len - 1].pos.x,\r\n            this.pArr[this.len - 1].pos.y\r\n          );\r\n          for (let i = 0; i < this.len; i++) {\r\n            p.curveVertex(this.pArr[i].pos.x, this.pArr[i].pos.y);\r\n          }\r\n          p.curveVertex(this.pArr[0].pos.x, this.pArr[0].pos.y);\r\n          p.curveVertex(this.pArr[1].pos.x, this.pArr[1].pos.y);\r\n          p.endShape();\r\n          p.pop();\r\n        }\r\n      }\r\n\r\n      shortSide = p.min(windowW, windowH);\r\n      p.createCanvas(windowW, windowH).parent(parentRef);\r\n\r\n      p.background(bgColor);\r\n      for (let i = 0; i < 6; i++) {\r\n        circle = new MagicCircle(\r\n          p.floor(p.random(8, 10)),\r\n          centerW,\r\n          centerH,\r\n          p.random(shortSide, shortSide / 2),\r\n          p.color(255, 255, 255, 100)\r\n        );\r\n        circles.push(circle);\r\n      }\r\n    };\r\n\r\n    const draw = (p) => {\r\n      p.background(bgColor);\r\n      p.noFill();\r\n      p.frameRate(1);\r\n      circles.forEach(function (circle) {\r\n        circle.update();\r\n        circle.display();\r\n      });\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <Sketch setup={setup} draw={draw} />\r\n        <img className=\"page-title-icon\" src={iconPageTitle} alt=\"\" />\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport PageTitleAnimation from \"../../components/PageTitleAnimation\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Nouislider from \"nouislider-react\";\r\nimport \"nouislider/distribute/nouislider.css\";\r\nimport wNumb from \"wnumb\";\r\nimport \"./Register.css\";\r\nimport \"../../Form.css\";\r\nimport {\r\n  lmsUserRegister,\r\n  getEnumValue,\r\n  getMasterDataJson,\r\n} from \"../../utils/httpUtils\";\r\n\r\nfunction Register(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  let history = useHistory();\r\n\r\n  document.body.className = \"register\";\r\n  const { register, watch, errors, handleSubmit } = useForm();\r\n  const [phonePrefixOptions, setPhonePrefixOptions] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n  const [cityValue, setCityValue] = useState(\"\");\r\n  const [districtValue, setDistrictValue] = useState(\"\");\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      getEnumValue()\r\n        .then((response) => {\r\n          setPhonePrefixOptions(response.data.PhonePrefix);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n\r\n      getMasterDataJson()\r\n        .then((response) => {\r\n          setDistricts(response.data[7]);\r\n          setCities(response.data[8]);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const onSubmit = (data) => {\r\n    lmsUserRegister({\r\n      phonePrefix: data.phonePrefix,\r\n      phone: data.phone,\r\n      email: data.email,\r\n      title: data.title,\r\n      firstNameLang1: data.givennameEng,\r\n      firstNameLang2: data.givennameTch,\r\n      lastNameLang1: data.surnameEng,\r\n      lastNameLang2: data.surnameTch,\r\n      birthMonth: data.birthMonth,\r\n      age: data.age,\r\n      district: data.district,\r\n      city: data.city,\r\n      referrer: data.refereeMembershipNumber,\r\n      defaultLanguage: data.defaultLang,\r\n      password: data.password,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        setPhoneDataSession(data.phonePrefix, data.phone);\r\n        history.push(\"/\" + locale + \"/verification\");\r\n      } else {\r\n        setErrorMessage(response.data.message[0]);\r\n      }\r\n    });\r\n  };\r\n  const setPhoneDataSession = (phonePrefix, phone) => {\r\n    if (!sessionStorage.getItem(\"registerPhonePrefix\")) {\r\n      sessionStorage.setItem(\"registerPhonePrefix\", phonePrefix);\r\n    }\r\n    if (!sessionStorage.getItem(\"registerPhone\")) {\r\n      sessionStorage.setItem(\"registerPhone\", phone);\r\n    }\r\n  };\r\n  const password = useRef({});\r\n  password.current = watch(\"password\", \"\");\r\n\r\n  var titleOptions = [\r\n    { name: \"先生\", value: \"1\", key: \"MR\" },\r\n    { name: \"太太\", value: \"3\", key: \"MRS\" },\r\n    { name: \"女士/小姐\", value: \"2\", key: \"MS\" },\r\n  ];\r\n\r\n  // Use state to store object\r\n  const [birthMonth] = useState([\r\n    { value: \"1\", name: I18n.getTranslation(location, \"january\") },\r\n    { value: \"2\", name: I18n.getTranslation(location, \"february\") },\r\n    { value: \"3\", name: I18n.getTranslation(location, \"march\") },\r\n    { value: \"4\", name: I18n.getTranslation(location, \"april\") },\r\n    { value: \"5\", name: I18n.getTranslation(location, \"may\") },\r\n    { value: \"6\", name: I18n.getTranslation(location, \"june\") },\r\n    { value: \"7\", name: I18n.getTranslation(location, \"july\") },\r\n    { value: \"8\", name: I18n.getTranslation(location, \"august\") },\r\n    { value: \"9\", name: I18n.getTranslation(location, \"september\") },\r\n    { value: \"10\", name: I18n.getTranslation(location, \"october\") },\r\n    { value: \"11\", name: I18n.getTranslation(location, \"november\") },\r\n    { value: \"12\", name: I18n.getTranslation(location, \"december\") },\r\n  ]);\r\n\r\n  var sliderConfig = {\r\n    start: 30,\r\n    min: 18,\r\n    max: 60,\r\n    step: 1,\r\n  };\r\n\r\n  var tooltips = wNumb({\r\n    prefix: I18n.getTranslation(location, \"age\") + \"&nbsp;\",\r\n    decimals: 0,\r\n  });\r\n\r\n  const [ageSliderRef, setAgeSliderRef] = useState(null);\r\n  const onAgeSliderRefUpdate = () => {\r\n    ageSliderRef.noUiSlider.updateOptions({\r\n      tooltips: tooltips,\r\n    });\r\n  };\r\n  const [ageValue, setAgeValue] = useState(\"30\");\r\n  const onAgeUpdate = (value) => {\r\n    setAgeValue(parseFloat(value).toFixed(0));\r\n  };\r\n\r\n  if (ageSliderRef) {\r\n    onAgeSliderRefUpdate();\r\n  }\r\n\r\n  const handleCityChange = (event) => {\r\n    event.preventDefault();\r\n    setCityValue(event.target.value);\r\n  };\r\n\r\n  const handleDistrictChange = (event) => {\r\n    event.preventDefault();\r\n    setDistrictValue(event.target.value);\r\n  };\r\n\r\n  let citiesList =\r\n    cities.length > 0 &&\r\n    cities.map((item, i) => {\r\n      return (\r\n        <option key={i} value={item.masterDataId}>\r\n          {locale === \"eng\" && item.nameLang1}\r\n          {locale === \"tch\" && item.nameLang2}\r\n          {locale === \"sch\" && item.nameLang3}\r\n        </option>\r\n      );\r\n    }, this);\r\n\r\n  let filteredDistrictsList =\r\n    cityValue !== \"\" &&\r\n    districts.filter(function (a) {\r\n      return a.parentId === parseFloat(cityValue);\r\n    });\r\n\r\n  let districtsList =\r\n    filteredDistrictsList.length > 0 &&\r\n    filteredDistrictsList.map((item, i) => {\r\n      return (\r\n        <option key={i} value={item.masterDataId}>\r\n          {locale === \"eng\" && item.nameLang1}\r\n          {locale === \"tch\" && item.nameLang2}\r\n          {locale === \"sch\" && item.nameLang3}\r\n        </option>\r\n      );\r\n    }, this);\r\n\r\n  const [isPopupActive, setPopupActive] = useState(false);\r\n  const [isPopupTermsActive, setPopupTermsActive] = useState(false);\r\n  const [isPopupPrivacyActive, setPopupPrivacyActive] = useState(false);\r\n\r\n  const toggleTermsPopup = (e) => {\r\n    setPopupActive(true);\r\n    setPopupTermsActive(true);\r\n    setPopupPrivacyActive(false);\r\n    e.preventDefault();\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const togglePrivacyPopup = (e) => {\r\n    setPopupActive(true);\r\n    setPopupTermsActive(false);\r\n    setPopupPrivacyActive(true);\r\n    e.preventDefault();\r\n    window.scrollTo(0, 0);\r\n  };\r\n\r\n  const togglePopupClose = (e) => {\r\n    setPopupActive(false);\r\n    setPopupTermsActive(false);\r\n    setPopupPrivacyActive(false);\r\n    e.preventDefault();\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <PageTitleAnimation />\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"create_an_account\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"page-main\">\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"container\">\r\n            <div className=\"form\" id=\"register-form\">\r\n              <div className=\"form-intro\"></div>\r\n\r\n              <div className=\"form-body\">\r\n                <div className=\"input-phone\">\r\n                  <div className=\"form-input\">\r\n                    <select\r\n                      name=\"phonePrefix\"\r\n                      className=\"custom-select input-phone-dial-code\"\r\n                      ref={register()}\r\n                    >\r\n                      {Object.keys(phonePrefixOptions).map((item) => {\r\n                        return (\r\n                          <option\r\n                            value={phonePrefixOptions[item].value}\r\n                            key={phonePrefixOptions[item].key}\r\n                          >\r\n                            {phonePrefixOptions[item].name}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"phone\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"phone_number\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className={`form-control input-phone-number ${\r\n                        errors.phone?.type === \"required\" ? \"error\" : \"\"\r\n                      }`}\r\n                      ref={register({ required: true, pattern: /[0-9]/ })}\r\n                    />\r\n                    <div className=\"error-icon\"></div>\r\n                  </div>\r\n                  <div className=\"message\">\r\n                    {errors.phone?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"phone_number_required\")}\r\n                    {errors.phone?.type === \"pattern\" &&\r\n                      I18n.getTranslation(location, \"must_be_digit\")}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder={I18n.getTranslation(location, \"password\")}\r\n                    autoComplete=\"off\"\r\n                    className={`form-control ${\r\n                      errors.password?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                    ref={register({\r\n                      required: true,\r\n                      pattern: /[A-Za-z0-9]{8}/,\r\n                    })}\r\n                  />\r\n                  <div className=\"error-icon\"></div>\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.password?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"password_required\")}\r\n                  {errors.password?.type === \"pattern\" &&\r\n                    I18n.getTranslation(location, \"password_formt_required\")}\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"passwordReType\"\r\n                    placeholder={I18n.getTranslation(\r\n                      location,\r\n                      \"password_retype\"\r\n                    )}\r\n                    autoComplete=\"off\"\r\n                    className={`form-control ${\r\n                      errors.passwordReType?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                    ref={register({\r\n                      required: true,\r\n                      validate: (value) =>\r\n                        value === password.current ||\r\n                        I18n.getTranslation(location, \"password_must_same\"),\r\n                    })}\r\n                  />\r\n                  <div className=\"error-icon\"></div>\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.passwordReType?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"password_required\")}\r\n                  {errors.passwordReType && errors.passwordReType.message}\r\n                </div>\r\n\r\n                <div className=\"form-sub-title\">\r\n                  <I18n t=\"personal_information\" />\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <select\r\n                    name=\"title\"\r\n                    className=\"custom-select\"\r\n                    ref={register()}\r\n                  >\r\n                    <option value=\"\">\r\n                      {I18n.getTranslation(location, \"personal_title\")}\r\n                    </option>\r\n                    {titleOptions.map(function (title) {\r\n                      return (\r\n                        <option value={title.value} key={title.key}>\r\n                          {title.name}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"givennameEng\"\r\n                    placeholder={I18n.getTranslation(\r\n                      location,\r\n                      \"given_name_eng\"\r\n                    )}\r\n                    autoComplete=\"off\"\r\n                    className=\"form-control\"\r\n                    ref={register()}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"surnameEng\"\r\n                    placeholder={I18n.getTranslation(location, \"surname_eng\")}\r\n                    autoComplete=\"off\"\r\n                    className=\"form-control\"\r\n                    ref={register()}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"givennameTch\"\r\n                    placeholder={I18n.getTranslation(\r\n                      location,\r\n                      \"given_name_tch\"\r\n                    )}\r\n                    autoComplete=\"off\"\r\n                    className=\"form-control\"\r\n                    ref={register()}\r\n                  />\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"surnameTch\"\r\n                    placeholder={I18n.getTranslation(location, \"surname_tch\")}\r\n                    autoComplete=\"off\"\r\n                    className=\"form-control\"\r\n                    ref={register()}\r\n                  />\r\n                </div>\r\n\r\n                <>\r\n                  <div className=\"form-input\">\r\n                    <select\r\n                      className=\"custom-select\"\r\n                      name=\"city\"\r\n                      value={cityValue}\r\n                      onChange={handleCityChange}\r\n                      ref={register()}\r\n                    >\r\n                      <option value=\"\">\r\n                        {I18n.getTranslation(location, \"city\")}\r\n                      </option>\r\n                      {citiesList}\r\n                    </select>\r\n                  </div>\r\n                  {cityValue && (\r\n                    <div className=\"form-input\">\r\n                      <select\r\n                        className=\"custom-select\"\r\n                        name=\"district\"\r\n                        value={districtValue}\r\n                        onChange={handleDistrictChange}\r\n                        ref={register()}\r\n                      >\r\n                        <option value=\"\">\r\n                          {I18n.getTranslation(location, \"district\")}\r\n                        </option>\r\n                        {districtsList}\r\n                      </select>\r\n                    </div>\r\n                  )}\r\n                </>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    placeholder={I18n.getTranslation(location, \"email\")}\r\n                    autoComplete=\"off\"\r\n                    className={`form-control ${\r\n                      errors.email?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                    ref={register({\r\n                      required: true,\r\n                      pattern: {\r\n                        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\r\n                      },\r\n                    })}\r\n                  />\r\n                  <div className=\"error-icon\"></div>\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.email?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"email_required\")}\r\n                  {errors.email?.type === \"pattern\" &&\r\n                    I18n.getTranslation(location, \"incorrect_email_format\")}\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <select\r\n                    name=\"birthMonth\"\r\n                    className=\"custom-select\"\r\n                    ref={register()}\r\n                  >\r\n                    <option value=\"\">\r\n                      {I18n.getTranslation(location, \"birthday_month\")}\r\n                    </option>\r\n                    {birthMonth.map((item, i) => {\r\n                      return (\r\n                        <option key={i} value={item.value}>\r\n                          {item.name}\r\n                        </option>\r\n                      );\r\n                    }, this)}\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"form-input form-range-input\">\r\n                  <div className=\"slider-range-label slider-min\">\r\n                    <I18n t=\"age\" /> <span>{sliderConfig.min}</span>\r\n                  </div>\r\n                  <div className=\"slider-range-label slider-max\">\r\n                    <I18n t=\"age\" /> <span>{sliderConfig.max}</span>+\r\n                  </div>\r\n\r\n                  <div id=\"slider\">\r\n                    <>\r\n                      <Nouislider\r\n                        instanceRef={(instance) => {\r\n                          if (instance) {\r\n                            setAgeSliderRef(instance);\r\n                          }\r\n                        }}\r\n                        start={sliderConfig.start}\r\n                        step={sliderConfig.step}\r\n                        pips={{ mode: \"range\", density: 5 }}\r\n                        connect=\"lower\"\r\n                        range={{\r\n                          min: sliderConfig.min,\r\n                          \"30%\": 30,\r\n                          \"60%\": 40,\r\n                          max: sliderConfig.max,\r\n                        }}\r\n                        tooltips={tooltips}\r\n                        onSlide={onAgeUpdate}\r\n                      />\r\n                      {ageValue && (\r\n                        <input\r\n                          type=\"hidden\"\r\n                          name=\"age\"\r\n                          value={ageValue}\r\n                          ref={register()}\r\n                        />\r\n                      )}\r\n                    </>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-sub-title\">\r\n                  <I18n t=\"default_language\" />\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"defaultLang\"\r\n                      autoComplete=\"off\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"1\"\r\n                      id=\"defaultLang1\"\r\n                      ref={register()}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"defaultLang1\"\r\n                    >\r\n                      <I18n t=\"english\" />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"defaultLang\"\r\n                      autoComplete=\"off\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"2\"\r\n                      id=\"defaultLang2\"\r\n                      ref={register()}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"defaultLang2\"\r\n                    >\r\n                      <I18n t=\"traditional_chinese\" />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"defaultLang\"\r\n                      autoComplete=\"off\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"3\"\r\n                      id=\"defaultLang3\"\r\n                      ref={register()}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"defaultLang3\"\r\n                    >\r\n                      <I18n t=\"simplified_chinese\" />\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-sub-title\">\r\n                  <I18n t=\"referee\" />\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"refereeMembershipNumber\"\r\n                    placeholder={I18n.getTranslation(\r\n                      location,\r\n                      \"referee_membership_number\"\r\n                    )}\r\n                    autoComplete=\"off\"\r\n                    className=\"form-control\"\r\n                    ref={register()}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-footer\">\r\n                <div className=\"form-footer-remark\">\r\n                  <I18n t=\"register_remark1\" />{\" \"}\r\n                  <Link to=\"/\" onClick={toggleTermsPopup}>\r\n                    <I18n t=\"terms_of_service\" />\r\n                  </Link>{\" \"}\r\n                  <I18n t=\"register_remark2\" />{\" \"}\r\n                  <Link to=\"/\" onClick={togglePrivacyPopup}>\r\n                    <I18n t=\"privacy_policy\" />\r\n                  </Link>\r\n                </div>\r\n\r\n                {errorMessage && (\r\n                  <div className=\"message\">\r\n                    <br />\r\n                    {errorMessage}\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"form-footer-button\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-submit uppercase btn-secondary\"\r\n                  >\r\n                    <I18n t=\"submit\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n      <div\r\n        id=\"page-popup\"\r\n        className={`${isPopupActive === true ? \"popup-active\" : \"\"}`}\r\n      >\r\n        <div className=\"btn-close-holder\">\r\n          <Link className=\"btn-close\" to=\"/\" onClick={togglePopupClose}></Link>\r\n        </div>\r\n        <div\r\n          id=\"terms\"\r\n          className={`page-popup-holder ${\r\n            isPopupTermsActive === true ? \"popup-terms-active\" : \"\"\r\n          }`}\r\n        >\r\n          <div className=\"container\">\r\n            <div className=\"page-popup-title\">\r\n              <I18n t=\"terms_of_service\" />\r\n            </div>\r\n            <div className=\"page-popup-content\">\r\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent\r\n              et vestibulum ex. Sed dignissim velit et arcu lobortis, sed\r\n              egestas sem ornare. Pellentesque pretium velit risus, viverra\r\n              fermentum purus auctor porta. Donec accumsan ligula et bibendum\r\n              imperdiet.\r\n              <br />\r\n              <br />\r\n              Proin eu velit sed mauris pretium placerat. Nullam arcu ipsum,\r\n              dignissim ac auctor in, ornare in ligula. Fusce pharetra odio\r\n              ligula, eu interdum mauris faucibus vitae. Aliquam molestie ut\r\n              dolor malesuada ornare. Quisque consequat tortor ante, congue\r\n              mattis arcu efficitur in. In interdum ornare commodo. Nam posuere\r\n              vulputate mi, ac tincidunt felis convallis non. Phasellus ornare\r\n              ligula ut consectetur consequat.\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div\r\n          id=\"privacy\"\r\n          className={`page-popup-holder ${\r\n            isPopupPrivacyActive === true ? \"popup-privacy-active\" : \"\"\r\n          }`}\r\n        >\r\n          <div className=\"container\">\r\n            <div className=\"page-popup-title\">\r\n              <I18n t=\"privacy_policy\" />\r\n            </div>\r\n            <div className=\"page-popup-content\">\r\n              Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent\r\n              et vestibulum ex. Sed dignissim velit et arcu lobortis, sed\r\n              egestas sem ornare. Pellentesque pretium velit risus, viverra\r\n              fermentum purus auctor porta. Donec accumsan ligula et bibendum\r\n              imperdiet.\r\n              <br />\r\n              <br />\r\n              Proin eu velit sed mauris pretium placerat. Nullam arcu ipsum,\r\n              dignissim ac auctor in, ornare in ligula. Fusce pharetra odio\r\n              ligula, eu interdum mauris faucibus vitae. Aliquam molestie ut\r\n              dolor malesuada ornare. Quisque consequat tortor ante, congue\r\n              mattis arcu efficitur in. In interdum ornare commodo. Nam posuere\r\n              vulputate mi, ac tincidunt felis convallis non. Phasellus ornare\r\n              ligula ut consectetur consequat.\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport PinInput from \"react-pin-input\";\r\nimport PageTitleAnimation from \"../../components/PageTitleAnimation\";\r\nimport \"./Verification.css\";\r\nimport \"../../Form.css\";\r\nimport {\r\n  activate,\r\n  resendactivationsms,\r\n  getSystemSettingJson,\r\n} from \"../../utils/httpUtils\";\r\n\r\nfunction Verification(props) {\r\n  document.body.className = \"verification\";\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  let history = useHistory();\r\n  let registerPhonePrefix = sessionStorage.getItem(\"registerPhonePrefix\");\r\n  let registerPhone = sessionStorage.getItem(\"registerPhone\");\r\n\r\n  const [codeLength, setCodeLength] = useState(null);\r\n\r\n  useEffect(() => {\r\n    getSystemSettingJson().then((response) => {\r\n      setCodeLength(response.data.MEMBER.AUTHEN_CODE_LENGTH);\r\n    });\r\n  });\r\n\r\n  const verify = (pinCode) => {\r\n    activate({\r\n      phonePrefix: registerPhonePrefix,\r\n      phone: registerPhone,\r\n      authCode: pinCode,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        sessionStorage.removeItem(\"registerPhonePrefix\");\r\n        sessionStorage.removeItem(\"registerPhone\");\r\n        history.push(\"/\" + locale + \"/verification-success\");\r\n      } else {\r\n        history.push(\"/\" + locale + \"/verification-failed\");\r\n      }\r\n    });\r\n  };\r\n\r\n  const [resendMessage, setResendMessage] = useState(\"\");\r\n  const resendActivation = (e) => {\r\n    e.preventDefault();\r\n    resendactivationsms({\r\n      phonePrefix: registerPhonePrefix,\r\n      phone: registerPhone,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        setResendMessage(\r\n          I18n.getTranslation(location, \"resend_verification_success\")\r\n        );\r\n      } else {\r\n        setResendMessage(response.data.message[0]);\r\n        setTimeout(() => {\r\n          setResendMessage(\"\");\r\n        }, 5000);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <PageTitleAnimation />\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"verification\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"page-main\">\r\n        <div className=\"container\">\r\n          <div className=\"form\" id=\"verification-form\">\r\n            <div className=\"form-intro\">\r\n              <I18n t=\"verification_intro1\" /> <br />\r\n              <I18n t=\"verification_intro2\" />\r\n              <span>\r\n                +{registerPhonePrefix} {registerPhone}\r\n              </span>\r\n            </div>\r\n\r\n            <div className=\"form-body\">\r\n              {codeLength && (\r\n                <PinInput\r\n                  length={parseFloat(codeLength)}\r\n                  focus\r\n                  type=\"numeric\"\r\n                  onComplete={(value) => {\r\n                    verify(value);\r\n                  }}\r\n                />\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"form-footer\">\r\n              <div className=\"form-footer-button\">\r\n                <Link to=\"/\" onClick={resendActivation}>\r\n                  <I18n t=\"resend\" />\r\n                </Link>\r\n\r\n                <div className=\"message\">\r\n                  <br />\r\n                  {resendMessage}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Verification;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./ResultMessage.css\";\r\n\r\nlet image = \"\";\r\nlet title = \"\";\r\nlet content = \"\";\r\nlet buttonCount = null;\r\nlet buttonText = \"\";\r\nlet buttonLink = \"\";\r\nlet buttonText2 = \"\";\r\nlet buttonLink2 = \"\";\r\n\r\nexport default class ResultMessage extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    image = props.image;\r\n    title = props.title;\r\n    content = props.content;\r\n    buttonCount = props.buttonCount;\r\n    buttonText = props.buttonText;\r\n    buttonLink = props.buttonLink;\r\n    buttonText2 = props.buttonText2;\r\n    buttonLink2 = props.buttonLink2;\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"result-holder\">\r\n        <div className=\"result-image\">\r\n          <img src={image} alt=\"\" />\r\n        </div>\r\n\r\n        <div className=\"result-desc\">\r\n          <h2>{title}</h2>\r\n          <p dangerouslySetInnerHTML={{ __html: content }}></p>\r\n        </div>\r\n\r\n        {buttonCount === 1 && (\r\n          <div className=\"result-button\">\r\n            <Link to={buttonLink}>{buttonText}</Link>\r\n          </div>\r\n        )}\r\n\r\n        {buttonCount > 1 && (\r\n          <div className=\"result-button\">\r\n            <Link to={buttonLink} className=\"result-button1\">\r\n              {buttonText}\r\n            </Link>\r\n            <br />\r\n            <Link to={buttonLink2} className=\"result-button2\">\r\n              {buttonText2}\r\n            </Link>\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport I18n from \"../../i18n\";\r\nimport \"./Verification.css\";\r\nimport ResultMessage from \"../../components/ResultMessage\";\r\nimport SuccessImg from \"../../assets/images/success.gif\";\r\nimport PageBgAnimation from \"../../components/PageBgAnimation\";\r\n\r\nfunction VerificationSuccess(props) {\r\n  const { location } = props;\r\n  document.body.className = \"result result-success\";\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <PageBgAnimation bgColor=\"#FFD428\" />\r\n      <ResultMessage\r\n        image={SuccessImg}\r\n        title={I18n.getTranslation(location, \"verification_success_title\")}\r\n        content={I18n.getTranslation(location, \"verification_success_content\")}\r\n        buttonText={I18n.getTranslation(\r\n          location,\r\n          \"verification_success_buttonText\"\r\n        )}\r\n        buttonLink=\"login\"\r\n        buttonCount={1}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VerificationSuccess;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport \"./Verification.css\";\r\nimport ResultMessage from \"../../components/ResultMessage\";\r\nimport FailImg from \"../../assets/images/fail.gif\";\r\nimport PageBgAnimation from \"../../components/PageBgAnimation\";\r\n\r\nfunction VerificationFailed(props) {\r\n  const { location } = props;\r\n  document.body.className = \"result result-failed\";\r\n\r\n  function verificationBack(e) {\r\n    e.preventDefault();\r\n    props.history.goBack();\r\n  }\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <PageBgAnimation bgColor=\"#D4CECA\" />\r\n      <ResultMessage\r\n        image={FailImg}\r\n        title={I18n.getTranslation(location, \"verification_fail_title\")}\r\n        content={\r\n          I18n.getTranslation(location, \"verification_fail_content1\") +\r\n          \"<br />\" +\r\n          I18n.getTranslation(location, \"verification_fail_content2\")\r\n        }\r\n        buttonText={I18n.getTranslation(\r\n          location,\r\n          \"verification_fail_buttonText\"\r\n        )}\r\n      />\r\n      <div className=\"result-holder\">\r\n        <div className=\"result-button\">\r\n          <Link to=\"/\" onClick={verificationBack}>\r\n            <I18n t=\"verification_fail_buttonText\" />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VerificationFailed;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport PageTitleAnimation from \"../../components/PageTitleAnimation\";\r\nimport \"./ForgotPassword.css\";\r\nimport \"../../Form.css\";\r\nimport { forgotPassword, getEnumValue } from \"../../utils/httpUtils\";\r\n\r\nfunction ForgotPassword(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"forgot-password\";\r\n  let history = useHistory();\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const [phonePrefixOptions, setPhonePrefixOptions] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      getEnumValue()\r\n        .then((response) => {\r\n          setPhonePrefixOptions(response.data.PhonePrefix);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const onSubmit = (data) => {\r\n    setDisableSubmitBtn(true);\r\n    forgotPassword({\r\n      email: data.email,\r\n      phonePrefix: data.phonePrefix,\r\n      phone: data.phone,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        setDisableSubmitBtn(true);\r\n        setErrorMessage(\"\");\r\n        history.push(\"/\" + locale + \"/forgot-password-success\");\r\n      } else {\r\n        setDisableSubmitBtn(false);\r\n        setErrorMessage(response.data.message[0]);\r\n        setTimeout(() => {\r\n          setErrorMessage(\"\");\r\n        }, 5000);\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <PageTitleAnimation />\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"forgot_password\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"page-main\">\r\n        <div className=\"container\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"form\" id=\"forgot-password-form\">\r\n              <div className=\"form-intro\"></div>\r\n\r\n              <div className=\"form-body\">\r\n                <div className=\"input-phone\">\r\n                  <div className=\"form-input\">\r\n                    <select\r\n                      name=\"phonePrefix\"\r\n                      className=\"custom-select input-phone-dial-code\"\r\n                      ref={register()}\r\n                    >\r\n                      {Object.keys(phonePrefixOptions).map((item) => {\r\n                        return (\r\n                          <option\r\n                            value={phonePrefixOptions[item].value}\r\n                            key={phonePrefixOptions[item].key}\r\n                          >\r\n                            {phonePrefixOptions[item].name}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                  </div>\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"phone\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"phone_number\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className={`form-control input-phone-number ${\r\n                        errors.phone?.type === \"required\" ? \"error\" : \"\"\r\n                      }`}\r\n                      ref={register({ required: true, pattern: /[0-9]/ })}\r\n                    />\r\n                    <div className=\"error-icon\"></div>\r\n                  </div>\r\n                  <div className=\"message\">\r\n                    {errors.phone?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"phone_number_required\")}\r\n                    {errors.phone?.type === \"pattern\" &&\r\n                      I18n.getTranslation(location, \"must_be_digit\")}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"email\"\r\n                    name=\"email\"\r\n                    placeholder={I18n.getTranslation(location, \"email\")}\r\n                    autoComplete=\"off\"\r\n                    className={`form-control ${\r\n                      errors.email?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                    ref={register({\r\n                      required: true,\r\n                      pattern: {\r\n                        value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\r\n                      },\r\n                    })}\r\n                  />\r\n                  <div className=\"error-icon\"></div>\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.email?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"email_required\")}\r\n                  {errors.email?.type === \"pattern\" &&\r\n                    I18n.getTranslation(location, \"incorrect_email_format\")}\r\n                </div>\r\n\r\n                {errorMessage && <div className=\"message\">{errorMessage}</div>}\r\n              </div>\r\n\r\n              <div className=\"form-footer\">\r\n                <div className=\"form-footer-button\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-submit uppercase btn-secondary\"\r\n                    disabled={disableSubmitBtn}\r\n                  >\r\n                    <I18n t=\"submit\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPassword;\r\n","import React from \"react\";\r\nimport I18n from \"../../i18n\";\r\nimport \"./ForgotPassword.css\";\r\nimport ResultMessage from \"../../components/ResultMessage\";\r\nimport SuccessImg from \"../../assets/images/success.gif\";\r\nimport PageBgAnimation from \"../../components/PageBgAnimation\";\r\n\r\nfunction ForgotPasswordSuccess(props) {\r\n  const { location } = props;\r\n  document.body.className = \"result result-success\";\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <PageBgAnimation bgColor=\"#FFD428\" />\r\n      <ResultMessage\r\n        image={SuccessImg}\r\n        title={I18n.getTranslation(location, \"forgot_password_success_title\")}\r\n        content={\r\n          I18n.getTranslation(location, \"forgot_password_success_content1\") +\r\n          \"<br />\" +\r\n          I18n.getTranslation(location, \"forgot_password_success_content2\")\r\n        }\r\n        buttonText={I18n.getTranslation(\r\n          location,\r\n          \"forgot_password_success_button_text\"\r\n        )}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ForgotPasswordSuccess;\r\n","import React, { useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport PageTitleAnimation from \"../../components/PageTitleAnimation\";\r\nimport \"./ResetPassword.css\";\r\nimport \"../../Form.css\";\r\nimport { changePassword } from \"../../utils/httpUtils\";\r\n\r\nfunction ResetPassword(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"reset-password\";\r\n  let history = useHistory();\r\n  const { register, watch, errors, handleSubmit } = useForm();\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const onSubmit = (data) => {\r\n    setDisableSubmitBtn(true);\r\n    changePassword({\r\n      oldPassword: data.oldPassword,\r\n      newPassword: data.password,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        setDisableSubmitBtn(true);\r\n        setErrorMessage(\"\");\r\n        history.push(\"/\" + locale + \"/home\");\r\n      } else {\r\n        setDisableSubmitBtn(false);\r\n        setErrorMessage(response.data.message[0]);\r\n        setTimeout(() => {\r\n          setErrorMessage(\"\");\r\n        }, 5000);\r\n      }\r\n    });\r\n  };\r\n  const password = useRef({});\r\n  password.current = watch(\"password\", \"\");\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <PageTitleAnimation />\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"reset_your_password\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"page-main\">\r\n        <div className=\"container\">\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"form\" id=\"reset-password-form\">\r\n              <div class=\"form-intro\">\r\n                <I18n t=\"reset_your_password_intro\" />\r\n              </div>\r\n\r\n              <div className=\"form-body\">\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder={I18n.getTranslation(location, \"password\")}\r\n                    autoComplete=\"off\"\r\n                    className={`form-control ${\r\n                      errors.password?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                    ref={register({\r\n                      required: true,\r\n                      pattern: /[A-Za-z0-9]{8}/,\r\n                    })}\r\n                  />\r\n                  <div className=\"error-icon\"></div>\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.password?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"password_required\")}\r\n                  {errors.password?.type === \"pattern\" &&\r\n                    I18n.getTranslation(location, \"password_formt_required\")}\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"passwordReType\"\r\n                    placeholder={I18n.getTranslation(\r\n                      location,\r\n                      \"password_retype\"\r\n                    )}\r\n                    autoComplete=\"off\"\r\n                    className=\"form-control\"\r\n                    ref={register({\r\n                      required: true,\r\n                      validate: (value) =>\r\n                        value === password.current ||\r\n                        I18n.getTranslation(location, \"password_must_same\"),\r\n                    })}\r\n                  />\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.passwordReType?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"password_required\")}\r\n                  {errors.passwordReType && errors.passwordReType.message}\r\n                </div>\r\n\r\n                {errorMessage && <div className=\"message\">{errorMessage}</div>}\r\n              </div>\r\n\r\n              <div className=\"form-footer\">\r\n                <div className=\"form-footer-button\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-submit uppercase btn-secondary\"\r\n                    disabled={disableSubmitBtn}\r\n                  >\r\n                    <I18n t=\"submit\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ResetPassword;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { useUser } from \"../store/UseUser\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../i18n\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Nouislider from \"nouislider-react\";\r\nimport \"nouislider/distribute/nouislider.css\";\r\nimport wNumb from \"wnumb\";\r\nimport \"./MyProfile.css\";\r\nimport \"../Form.css\";\r\nimport Loading from \"../components/Loading\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport PageTitleAnimation from \"../components/PageTitleAnimation\";\r\nimport {\r\n  lmsMemberProfile,\r\n  editMemberProfile,\r\n  changePassword,\r\n  getEnumValue,\r\n  getMasterDataJson,\r\n} from \"../utils/httpUtils\";\r\n\r\nfunction Register(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  const { accessToken } = useUser();\r\n  let history = useHistory();\r\n\r\n  document.body.className = \"myProfile\";\r\n  const { register, watch, errors, handleSubmit } = useForm();\r\n\r\n  const profileUpdatedToastOptions = {\r\n    autoClose: 3000,\r\n    position: toast.POSITION.TOP_CENTER,\r\n    pauseOnHover: false,\r\n    onClose: () => profileUpdatedRedirect(),\r\n  };\r\n\r\n  const passwordChangedToastOptions = {\r\n    autoClose: 3000,\r\n    position: toast.POSITION.TOP_CENTER,\r\n    pauseOnHover: false,\r\n    onClose: () => passwordChangedRedirect(),\r\n  };\r\n\r\n  const commonToastOptions = {\r\n    autoClose: 3000,\r\n    position: toast.POSITION.TOP_CENTER,\r\n    pauseOnHover: false,\r\n  };\r\n\r\n  const profileUpdatedRedirect = () => {\r\n    history.push(\"/\" + locale + \"/home\");\r\n  };\r\n\r\n  const passwordChangedRedirect = () => {\r\n    sessionStorage.removeItem(\"memberToken\");\r\n    history.push(\"/\" + locale + \"/login\");\r\n  };\r\n\r\n  const commonToast = (message, options) => {\r\n    toast.info(message, options);\r\n    setDisableSubmitBtn(false);\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    setDisableSubmitBtn(true);\r\n    editMemberProfile(accessToken, {\r\n      email: data.email,\r\n      title: data.title,\r\n      age: data.age,\r\n      district: data.district,\r\n      city: data.city,\r\n      referrer: data.refereeMembershipNumber,\r\n      defaultLanguage: data.defaultLang,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        if (data.oldPassword && data.password) {\r\n          changePassword(accessToken, {\r\n            oldPassword: data.oldPassword,\r\n            newPassword: data.password,\r\n          }).then((response) => {\r\n            if (response.data.status === \"S000\") {\r\n              commonToast(\r\n                <I18n t=\"password_changed\" />,\r\n                passwordChangedToastOptions\r\n              );\r\n            } else {\r\n              commonToast(response.data.message[0], commonToastOptions);\r\n            }\r\n          });\r\n        } else {\r\n          commonToast(<I18n t=\"profile_updated\" />, profileUpdatedToastOptions);\r\n        }\r\n      } else {\r\n        if (response.data.message[0]) {\r\n          commonToast(response.data.message[0], commonToastOptions);\r\n        } else {\r\n          commonToast(<I18n t=\"profile_update_failed\" />, commonToastOptions);\r\n        }\r\n      }\r\n    });\r\n  };\r\n  const password = useRef({});\r\n  password.current = watch(\"password\", \"\");\r\n\r\n  const [profileData, setProfileData] = useState([]);\r\n  const [profileDataLoaded, setProfileDataLoaded] = useState(false);\r\n  const [phonePrefixOptions, setPhonePrefixOptions] = useState([]);\r\n  const [cities, setCities] = useState([]);\r\n  const [districts, setDistricts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setProfileDataLoaded(false);\r\n      if (sessionStorage.getItem(\"memberToken\") === \"99999999\") {\r\n        let mockMemberProfile = require(\"../assets/json/mockMemberProfile.json\");\r\n        setProfileData(mockMemberProfile);\r\n        setProfileDataLoaded(true);\r\n      } else {\r\n        lmsMemberProfile(accessToken)\r\n          .then((response) => {\r\n            setProfileData(response.data.content);\r\n            setProfileDataLoaded(true);\r\n          })\r\n          .catch(function (error) {\r\n            history.push(\"/\" + locale + \"/logout\");\r\n          });\r\n      }\r\n\r\n      getEnumValue()\r\n        .then((response) => {\r\n          setPhonePrefixOptions(response.data.PhonePrefix);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n\r\n      getMasterDataJson()\r\n        .then((response) => {\r\n          setDistricts(response.data[7]);\r\n          setCities(response.data[8]);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n\r\n  var titleOptions = [\r\n    { name: \"先生\", value: \"1\", key: \"MR\" },\r\n    { name: \"太太\", value: \"3\", key: \"MRS\" },\r\n    { name: \"女士/小姐\", value: \"2\", key: \"MS\" },\r\n  ];\r\n\r\n  // Use state to store object\r\n  const [birthMonth] = useState([\r\n    { value: \"1\", name: I18n.getTranslation(location, \"january\") },\r\n    { value: \"2\", name: I18n.getTranslation(location, \"february\") },\r\n    { value: \"3\", name: I18n.getTranslation(location, \"march\") },\r\n    { value: \"4\", name: I18n.getTranslation(location, \"april\") },\r\n    { value: \"5\", name: I18n.getTranslation(location, \"may\") },\r\n    { value: \"6\", name: I18n.getTranslation(location, \"june\") },\r\n    { value: \"7\", name: I18n.getTranslation(location, \"july\") },\r\n    { value: \"8\", name: I18n.getTranslation(location, \"august\") },\r\n    { value: \"9\", name: I18n.getTranslation(location, \"september\") },\r\n    { value: \"10\", name: I18n.getTranslation(location, \"october\") },\r\n    { value: \"11\", name: I18n.getTranslation(location, \"november\") },\r\n    { value: \"12\", name: I18n.getTranslation(location, \"december\") },\r\n  ]);\r\n\r\n  var sliderConfig = {\r\n    start: profileData.age,\r\n    min: 18,\r\n    max: 60,\r\n    step: 1,\r\n  };\r\n\r\n  var tooltips = wNumb({\r\n    prefix: I18n.getTranslation(location, \"age\") + \"&nbsp;\",\r\n    decimals: 0,\r\n  });\r\n\r\n  const [ageSliderRef, setAgeSliderRef] = useState(null);\r\n  const onAgeSliderRefUpdate = () => {\r\n    ageSliderRef.noUiSlider.updateOptions({\r\n      tooltips: tooltips,\r\n    });\r\n  };\r\n  // const [ageValue, setAgeValue] = useState(profileData.age);\r\n  // const onAgeUpdate = (value) => {\r\n  //   setAgeValue(parseFloat(value).toFixed(0));\r\n  // };\r\n\r\n  if (ageSliderRef) {\r\n    onAgeSliderRefUpdate();\r\n  }\r\n\r\n  let citiesList =\r\n    cities.length > 0 &&\r\n    cities.map((item, i) => {\r\n      return (\r\n        <option key={i} value={item.masterDataId}>\r\n          {locale === \"eng\" && item.nameLang1}\r\n          {locale === \"tch\" && item.nameLang2}\r\n          {locale === \"sch\" && item.nameLang3}\r\n        </option>\r\n      );\r\n    }, this);\r\n\r\n  let districtsList =\r\n    districts.length > 0 &&\r\n    districts.map((item, i) => {\r\n      return (\r\n        <option key={i} value={item.masterDataId}>\r\n          {locale === \"eng\" && item.nameLang1}\r\n          {locale === \"tch\" && item.nameLang2}\r\n          {locale === \"sch\" && item.nameLang3}\r\n        </option>\r\n      );\r\n    }, this);\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer pauseOnFocusLoss={false} />\r\n\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <PageTitleAnimation />\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"my_profile\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"page-main\">\r\n        {profileDataLoaded === false && <Loading />}\r\n        {profileDataLoaded && profileData && (\r\n          <form onSubmit={handleSubmit(onSubmit)}>\r\n            <div className=\"container\">\r\n              <div className=\"form\" id=\"my-profile-form\">\r\n                <div className=\"form-intro\"></div>\r\n\r\n                <div className=\"form-body\">\r\n                  <div className=\"input-phone\">\r\n                    <div className=\"form-input\">\r\n                      <select\r\n                        name=\"phonePrefixSelect\"\r\n                        className=\"custom-select input-phone-dial-code disabled-select\"\r\n                        ref={register()}\r\n                        defaultValue={profileData.phonePrefix}\r\n                      >\r\n                        {phonePrefixOptions.length > 0 && Object.keys(phonePrefixOptions).map((item) => {\r\n                          return (\r\n                            <option\r\n                              value={phonePrefixOptions[item].value}\r\n                              key={phonePrefixOptions[item].key}\r\n                            >\r\n                              {phonePrefixOptions[item].name}\r\n                            </option>\r\n                          );\r\n                        })}\r\n\r\n                        {phonePrefixOptions.length === 0 && <option\r\n                          value=\"852\"\r\n                          key=\"852\"\r\n                        >\r\n                          +852\r\n                      </option>}\r\n                      </select>\r\n                      <input\r\n                        type=\"hidden\"\r\n                        name=\"phonePrefix\"\r\n                        defaultValue={profileData.phonePrefix}\r\n                        ref={register()}\r\n                      />\r\n                    </div>\r\n                    <div className=\"form-input\">\r\n                      <input\r\n                        type=\"text\"\r\n                        name=\"phone\"\r\n                        placeholder={I18n.getTranslation(\r\n                          location,\r\n                          \"phone_number\"\r\n                        )}\r\n                        autoComplete=\"off\"\r\n                        className={`form-control input-phone-number`}\r\n                        ref={register()}\r\n                        value={profileData.phone}\r\n                        readOnly\r\n                      />\r\n                      <div className=\"error-icon\"></div>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"password\"\r\n                      name=\"oldPassword\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"old_password\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className={`form-control ${errors.oldPassword?.type === \"required\" ? \"error\" : \"\"\r\n                        }`}\r\n                      ref={register({\r\n                        pattern: /[A-Za-z0-9]{8}/,\r\n                      })}\r\n                    />\r\n                    <div className=\"error-icon\"></div>\r\n                  </div>\r\n                  <div className=\"message\">\r\n                    {errors.oldPassword?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"password_required\")}\r\n                    {errors.oldPassword?.type === \"pattern\" &&\r\n                      I18n.getTranslation(location, \"password_formt_required\")}\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"password\"\r\n                      name=\"password\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"new_password\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className={`form-control ${errors.password?.type === \"required\" ? \"error\" : \"\"\r\n                        }`}\r\n                      ref={register({\r\n                        pattern: /[A-Za-z0-9]{8}/,\r\n                      })}\r\n                    />\r\n                    <div className=\"error-icon\"></div>\r\n                  </div>\r\n                  <div className=\"message\">\r\n                    {errors.password?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"password_required\")}\r\n                    {errors.password?.type === \"pattern\" &&\r\n                      I18n.getTranslation(location, \"password_formt_required\")}\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"password\"\r\n                      name=\"passwordReType\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"new_password_retype\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className=\"form-control\"\r\n                      ref={register({\r\n                        validate: (value) =>\r\n                          value === password.current ||\r\n                          I18n.getTranslation(location, \"password_must_same\"),\r\n                      })}\r\n                    />\r\n                  </div>\r\n                  <div className=\"message\">\r\n                    {errors.passwordReType?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"password_required\")}\r\n                    {errors.passwordReType && errors.passwordReType.message}\r\n                  </div>\r\n\r\n                  <div className=\"form-sub-title\">\r\n                    <I18n t=\"personal_information\" />\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <select\r\n                      name=\"titleSelect\"\r\n                      className=\"custom-select disabled-select\"\r\n                      defaultValue={profileData.title}\r\n                      ref={register()}\r\n                    >\r\n                      <option value=\"\">\r\n                        {I18n.getTranslation(location, \"personal_title\")}\r\n                      </option>\r\n                      {titleOptions.map(function (title) {\r\n                        return (\r\n                          <option value={title.value} key={title.key}>\r\n                            {title.name}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                    <input\r\n                      type=\"hidden\"\r\n                      name=\"title\"\r\n                      defaultValue={profileData.title}\r\n                      ref={register()}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"givennameEng\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"given_name_eng\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className=\"form-control\"\r\n                      ref={register()}\r\n                      value={profileData.firstNameLang1}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"surnameEng\"\r\n                      placeholder={I18n.getTranslation(location, \"surname_eng\")}\r\n                      autoComplete=\"off\"\r\n                      className=\"form-control\"\r\n                      ref={register()}\r\n                      value={profileData.lastNameLang1}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"givennameTch\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"given_name_tch\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className=\"form-control\"\r\n                      ref={register()}\r\n                      value={profileData.firstNameLang2}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"surnameTch\"\r\n                      placeholder={I18n.getTranslation(location, \"surname_tch\")}\r\n                      autoComplete=\"off\"\r\n                      className=\"form-control\"\r\n                      ref={register()}\r\n                      value={profileData.lastNameLang2}\r\n                      readOnly\r\n                    />\r\n                  </div>\r\n\r\n                  <>\r\n                    <div className=\"form-input\">\r\n                      <select\r\n                        className=\"custom-select disabled-select\"\r\n                        name=\"citySelect\"\r\n                        defaultValue={profileData.city}\r\n                        ref={register()}\r\n                      >\r\n                        <option value=\"\">\r\n                          {I18n.getTranslation(location, \"city\")}\r\n                        </option>\r\n                        {citiesList}\r\n                      </select>\r\n                      <input\r\n                        type=\"hidden\"\r\n                        name=\"city\"\r\n                        defaultValue={profileData.city}\r\n                        ref={register()}\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"form-input\">\r\n                      <select\r\n                        className=\"custom-select disabled-select\"\r\n                        name=\"districtSelect\"\r\n                        defaultValue={profileData.district}\r\n                        ref={register()}\r\n                      >\r\n                        <option value=\"\">\r\n                          {I18n.getTranslation(location, \"district\")}\r\n                        </option>\r\n                        {districtsList}\r\n                      </select>\r\n                      <input\r\n                        type=\"hidden\"\r\n                        name=\"district\"\r\n                        defaultValue={profileData.district}\r\n                        ref={register()}\r\n                      />\r\n                    </div>\r\n                  </>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"email\"\r\n                      name=\"email\"\r\n                      placeholder={I18n.getTranslation(location, \"email\")}\r\n                      autoComplete=\"off\"\r\n                      className={`form-control ${errors.email?.type === \"required\" ? \"error\" : \"\"\r\n                        }`}\r\n                      ref={register({\r\n                        required: true,\r\n                        pattern: {\r\n                          value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i,\r\n                        },\r\n                      })}\r\n                      defaultValue={profileData.email}\r\n                    />\r\n                    <div className=\"error-icon\"></div>\r\n                  </div>\r\n                  <div className=\"message\">\r\n                    {errors.email?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"email_required\")}\r\n                    {errors.email?.type === \"pattern\" &&\r\n                      I18n.getTranslation(location, \"incorrect_email_format\")}\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <select\r\n                      name=\"birthMonth\"\r\n                      className=\"custom-select disabled-select\"\r\n                      ref={register()}\r\n                      defaultValue={profileData.birthMonth}\r\n                    >\r\n                      <option value=\"\">\r\n                        {I18n.getTranslation(location, \"birthday_month\")}\r\n                      </option>\r\n                      {birthMonth.map((item, i) => {\r\n                        return (\r\n                          <option key={i} value={item.value}>\r\n                            {item.name}\r\n                          </option>\r\n                        );\r\n                      }, this)}\r\n                    </select>\r\n                    <input\r\n                      type=\"hidden\"\r\n                      name=\"birthMonth\"\r\n                      defaultValue={profileData.birthMonth}\r\n                      ref={register()}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"form-input form-range-input\">\r\n                    <div className=\"slider-range-label slider-min\">\r\n                      <I18n t=\"age\" /> <span>{sliderConfig.min}</span>\r\n                    </div>\r\n                    <div className=\"slider-range-label slider-max\">\r\n                      <I18n t=\"age\" /> <span>{sliderConfig.max}</span>+\r\n                    </div>\r\n\r\n                    <div id=\"slider\">\r\n                      <>\r\n                        <Nouislider\r\n                          instanceRef={(instance) => {\r\n                            if (instance) {\r\n                              setAgeSliderRef(instance);\r\n                            }\r\n                          }}\r\n                          start={sliderConfig.start}\r\n                          step={sliderConfig.step}\r\n                          pips={{ mode: \"range\", density: 5 }}\r\n                          connect=\"lower\"\r\n                          range={{\r\n                            min: sliderConfig.min,\r\n                            \"30%\": 30,\r\n                            \"60%\": 40,\r\n                            max: sliderConfig.max,\r\n                          }}\r\n                          tooltips={tooltips}\r\n                          // onSlide={onAgeUpdate}\r\n                          disabled={true}\r\n                        />\r\n                        {profileData && (\r\n                          <input\r\n                            type=\"hidden\"\r\n                            name=\"age\"\r\n                            value={profileData.age}\r\n                            ref={register()}\r\n                          />\r\n                        )}\r\n                      </>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-sub-title\">\r\n                    <I18n t=\"default_language\" />\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <div className=\"custom-control custom-radio\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"defaultLang\"\r\n                        autoComplete=\"off\"\r\n                        className=\"custom-control-input\"\r\n                        defaultValue=\"1\"\r\n                        id=\"defaultLang1\"\r\n                        ref={register()}\r\n                        defaultChecked={\r\n                          profileData.defaultLanguage === 1 ? true : false\r\n                        }\r\n                      />\r\n                      <label\r\n                        className=\"custom-control-label\"\r\n                        htmlFor=\"defaultLang1\"\r\n                      >\r\n                        <I18n t=\"english\" />\r\n                      </label>\r\n                    </div>\r\n\r\n                    <div className=\"custom-control custom-radio\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"defaultLang\"\r\n                        autoComplete=\"off\"\r\n                        className=\"custom-control-input\"\r\n                        defaultValue=\"2\"\r\n                        id=\"defaultLang2\"\r\n                        ref={register()}\r\n                        defaultChecked={\r\n                          profileData.defaultLanguage === 2 ? true : false\r\n                        }\r\n                      />\r\n                      <label\r\n                        className=\"custom-control-label\"\r\n                        htmlFor=\"defaultLang2\"\r\n                      >\r\n                        <I18n t=\"traditional_chinese\" />\r\n                      </label>\r\n                    </div>\r\n\r\n                    <div className=\"custom-control custom-radio\">\r\n                      <input\r\n                        type=\"radio\"\r\n                        name=\"defaultLang\"\r\n                        autoComplete=\"off\"\r\n                        className=\"custom-control-input\"\r\n                        defaultValue=\"3\"\r\n                        id=\"defaultLang3\"\r\n                        ref={register()}\r\n                        defaultChecked={\r\n                          profileData.defaultLanguage === 3 ? true : false\r\n                        }\r\n                      />\r\n                      <label\r\n                        className=\"custom-control-label\"\r\n                        htmlFor=\"defaultLang3\"\r\n                      >\r\n                        <I18n t=\"simplified_chinese\" />\r\n                      </label>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"form-sub-title\">\r\n                    <I18n t=\"referee\" />\r\n                  </div>\r\n\r\n                  <div className=\"form-input\">\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"refereeMembershipNumber\"\r\n                      placeholder={I18n.getTranslation(\r\n                        location,\r\n                        \"referee_membership_number\"\r\n                      )}\r\n                      autoComplete=\"off\"\r\n                      className=\"form-control\"\r\n                      ref={register()}\r\n                      defaultValue={profileData.referrer}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-footer\">\r\n                  <div className=\"form-footer-button\">\r\n                    <Link to=\"home\" className=\"btn-back\"></Link>\r\n                    <button\r\n                      type=\"submit\"\r\n                      className=\"btn btn-save uppercase\"\r\n                      disabled={disableSubmitBtn}\r\n                    >\r\n                      <I18n t=\"submit\" />\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </form>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport PointsBalanceComponent from \"../components/PointsBalanceComponent\";\r\nimport { useUser } from \"../store/UseUser\";\r\nimport { getBonusPointsHistory } from \"../utils/httpUtils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"./PointsBalance.css\";\r\nimport imageBonus from \"../assets/images/bonus.gif\";\r\nimport imageNoBonus from \"../assets/images/no_bonus.gif\";\r\nimport earnPointsHistoryIcon from \"../assets/images/icon-earn-points-history.svg\";\r\nimport transactionHistoryIcon from \"../assets/images/icon-transaction-history.svg\";\r\n// import birthdayRewardIcon from \"../assets/images/icon-birthday-reward.svg\";\r\n// import extraRewardIcon from \"../assets/images/icon-extra-reward.svg\";\r\nimport giftRedemptionIcon from \"../assets/images/icon-gift-redemption.svg\";\r\nimport spendingRewardIcon from \"../assets/images/icon-spending-reward.svg\";\r\nimport activityParticipationIcon from \"../assets/images/icon-activity-participation.svg\";\r\nimport rewardAdjustIcon from \"../assets/images/icon-reward-adjust.svg\";\r\nimport I18n from \"../i18n\";\r\nimport moment from \"moment\";\r\nimport Loading from \"../components/Loading\";\r\n\r\nfunction PointsBalance(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"points-balance\";\r\n  const { user, accessToken } = useUser();\r\n  const memberProfile = user;\r\n  const bonusPointsBalanceList = memberProfile.bonusPointsBalance;\r\n  const RenderBonusPointsBalance = (data) => {\r\n    if (data) {\r\n      return Object.keys(data).map((item, index) => {\r\n        return (\r\n          <div className=\"list-item\" key={index}>\r\n            <div className=\"container\">\r\n              <I18n\r\n                t=\"pointsExpiredOn\"\r\n                args={{\r\n                  balance: data[item].balance,\r\n                  date: data[item].expiryDate,\r\n                }}\r\n              />\r\n            </div>\r\n          </div>\r\n        );\r\n      });\r\n    }\r\n  };\r\n\r\n  const getTotalPointsBalance = () => {\r\n    var tempBalance;\r\n    if (memberProfile.bonusPointsBalance) {\r\n      tempBalance = 0;\r\n      for (const bp of memberProfile.bonusPointsBalance) {\r\n        tempBalance += bp.balance;\r\n      }\r\n    }\r\n    return tempBalance;\r\n  };\r\n\r\n  let totalPointsBalance = getTotalPointsBalance();\r\n\r\n  const today = moment();\r\n  // const lastMonth = moment().startOf(\"day\").subtract(1, \"month\");\r\n  const lastThreeMonth = moment().startOf(\"day\").subtract(3, \"month\");\r\n  const lastSixMonth = moment().startOf(\"day\").subtract(6, \"month\");\r\n  const lastYear = moment().startOf(\"day\").subtract(1, \"year\");\r\n  const [memberHistoryEmpty, setMemberHistoryEmpty] = useState(false);\r\n  const [memberHistoryList, setMemberHistoryList] = useState([]);\r\n  const [memberOriginHistoryList, setMemberOriginHistoryList] = useState([]);\r\n  const [memberHistoryListLoaded, setMemberHistoryListLoaded] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setMemberHistoryListLoaded(false);\r\n      if (sessionStorage.getItem(\"memberToken\") === \"99999999\") {\r\n        setMemberHistoryEmpty(false);\r\n        let responseData = require(\"../assets/json/mockPointsBalance.json\");\r\n        setMemberHistoryList(responseData);\r\n        setMemberOriginHistoryList(responseData);\r\n        setMemberHistoryListLoaded(true);\r\n      } else {\r\n        getBonusPointsHistory(accessToken, {\r\n          numberOfLastRecord: 50,\r\n        }).then((response) => {\r\n          let responseData = response.data.content.memberBonusTransactionList.sort(\r\n            (a, b) => moment(b.createDate) - moment(a.createDate)\r\n          );\r\n          if (responseData.length === 0) {\r\n            setMemberHistoryEmpty(true);\r\n          } else {\r\n            setMemberHistoryEmpty(false);\r\n            setMemberHistoryList(\r\n              responseData.filter(function (a) {\r\n                return moment(a.createDate).isBetween(lastThreeMonth, today);\r\n              })\r\n            );\r\n            setMemberOriginHistoryList(responseData);\r\n          }\r\n          setMemberHistoryListLoaded(true);\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getActivitiesIcon = (e) => {\r\n    if (e.action) {\r\n      switch (e.action) {\r\n        case \"A\":\r\n          return rewardAdjustIcon;\r\n        case \"S\":\r\n          return spendingRewardIcon;\r\n        case \"D\":\r\n          return giftRedemptionIcon;\r\n        case \"G\":\r\n          return giftRedemptionIcon;\r\n        case \"R\":\r\n          return giftRedemptionIcon;\r\n        case \"C\":\r\n          return giftRedemptionIcon;\r\n        case \"T\":\r\n          return activityParticipationIcon;\r\n        default:\r\n          return giftRedemptionIcon;\r\n      }\r\n    } else {\r\n      switch (e.type) {\r\n        case \"B\":\r\n          return rewardAdjustIcon;\r\n        case \"G\":\r\n          return giftRedemptionIcon;\r\n        case \"S\":\r\n          return giftRedemptionIcon;\r\n        default:\r\n          return rewardAdjustIcon;\r\n      }\r\n    }\r\n  };\r\n\r\n  const getActivitiesTitle = (e) => {\r\n    if (e.action) {\r\n      switch (e.action) {\r\n        case \"A\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"adjust\" />\r\n              );\r\n          } else if (e.adjustReasonName) {\r\n            return e.adjustReasonName ? (\r\n              e.adjustReasonName\r\n            ) : (\r\n                <I18n t=\"adjust\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"S\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"spending_add_points\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"D\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"direct_add_point\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"G\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"redeem_spending_gift\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"R\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"redeem_bonus_points_gift\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"C\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"redeem_bonus_points_coupon\" />\r\n              );\r\n          }\r\n          break;\r\n        case \"T\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"event_participation\" />\r\n              );\r\n          }\r\n          break;\r\n        default:\r\n          return \"-\";\r\n      }\r\n    } else {\r\n      switch (e.type) {\r\n        case \"B\":\r\n          return <I18n t=\"earn_points\" />;\r\n        case \"G\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"spendingredeem_gift_add_points\" />\r\n              );\r\n          } else {\r\n            return <I18n t=\"redeem_gift\" />;\r\n          }\r\n        case \"S\":\r\n          if (e.matchedRulesJson) {\r\n            return e.matchedRulesJson.extraOffer ? (\r\n              e.matchedRulesJson.extraOffer[0].objectName\r\n            ) : (\r\n                <I18n t=\"reserve_gift\" />\r\n              );\r\n          } else {\r\n            return <I18n t=\"reserve_gift\" />;\r\n          }\r\n        default:\r\n          return \"-\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const getActivitiesActionType = (e) => {\r\n    if (e.action) {\r\n      switch (e.action) {\r\n        case \"A\":\r\n          return <I18n t=\"adjust\" />;\r\n        case \"S\":\r\n          return <I18n t=\"spending_add_points\" />;\r\n        case \"D\":\r\n          return <I18n t=\"direct_add_point\" />;\r\n        case \"G\":\r\n          return <I18n t=\"redeem_spending_gift\" />;\r\n        case \"R\":\r\n          return <I18n t=\"redeem_bonus_points_gift\" />;\r\n        case \"C\":\r\n          return <I18n t=\"redeem_bonus_points_coupon\" />;\r\n        case \"T\":\r\n          return <I18n t=\"event_participation\" />;\r\n        default:\r\n          return \"-\";\r\n      }\r\n    } else {\r\n      switch (e.type) {\r\n        case \"B\":\r\n          return <I18n t=\"earn_points\" />;\r\n        case \"G\":\r\n          return <I18n t=\"redeem_gift\" />;\r\n        case \"S\":\r\n          return <I18n t=\"reserve_gift\" />;\r\n        default:\r\n          return \"-\";\r\n      }\r\n    }\r\n  };\r\n\r\n  const getActivitiesPoint = (e) => {\r\n    let points = 0;\r\n    if (e.points === 0 || e.earnedPoints === 0) {\r\n      return (\r\n        <I18n\r\n          t=\"pts\"\r\n          args={{\r\n            points: points,\r\n          }}\r\n        />\r\n      );\r\n    } else {\r\n      let points = e.points ? e.points : e.earnedPoints;\r\n      if (points > 0) {\r\n        return (\r\n          <I18n\r\n            t=\"pts\"\r\n            args={{\r\n              points: \"+\" + points,\r\n            }}\r\n          />\r\n        );\r\n      } else if (points < 0) {\r\n        return (\r\n          <I18n\r\n            t=\"pts\"\r\n            args={{\r\n              points: points,\r\n            }}\r\n          />\r\n        );\r\n      } else {\r\n        return (\r\n          <I18n\r\n            t=\"pts\"\r\n            args={{\r\n              points: 0,\r\n            }}\r\n          />\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const [filterDate, setFilterDate] = useState(0);\r\n  const [filterDateText, setFilterDateText] = useState(\"last_three_months\");\r\n  const [showDateFilter, setShowDateFilter] = useState(false);\r\n  const [filterType, setFilterType] = useState(0);\r\n  const [filterTypeText, setFilterTypeText] = useState(\"all_activities\");\r\n  const [showActivitiesFilter, setShowActivitiesFilter] = useState(false);\r\n  const toggleDateFilter = (e) => {\r\n    e.preventDefault();\r\n    setShowDateFilter(!showDateFilter);\r\n    setShowActivitiesFilter(false);\r\n  };\r\n\r\n  const filterByDate = (dateValue, datetext) => {\r\n    setFilterDate(dateValue);\r\n    setFilterDateText(datetext);\r\n    filterActivitiesList(dateValue, filterType);\r\n    toggleCloseOverlay();\r\n  };\r\n\r\n  const toggleActivitiesFilter = (e) => {\r\n    e.preventDefault();\r\n    setShowActivitiesFilter(!showActivitiesFilter);\r\n    setShowDateFilter(false);\r\n  };\r\n\r\n  const filterByType = (typeValue, typeText) => {\r\n    setFilterType(typeValue);\r\n    setFilterTypeText(typeText);\r\n    filterActivitiesList(filterDate, typeValue);\r\n    toggleCloseOverlay();\r\n  };\r\n\r\n  const toggleCloseOverlay = () => {\r\n    setShowDateFilter(false);\r\n    setShowActivitiesFilter(false);\r\n  };\r\n\r\n  const filterActivitiesList = (dateValue, typeValue) => {\r\n    let tempList = memberOriginHistoryList;\r\n    tempList = filterActivitiesListByDate(dateValue, tempList);\r\n    tempList = filterActivitiesListByType(typeValue, tempList);\r\n    if (tempList.length === 0) {\r\n      setMemberHistoryEmpty(true);\r\n    } else {\r\n      setMemberHistoryEmpty(false);\r\n    }\r\n    setMemberHistoryList(tempList);\r\n  };\r\n\r\n  const filterActivitiesListByDate = (dateValue, dataList) => {\r\n    let tempList = dataList;\r\n    if (dateValue === 0) {\r\n      tempList = dataList.filter(function (a) {\r\n        return moment(a.createDate).isBetween(lastThreeMonth, today);\r\n      });\r\n    } else if (dateValue === 1) {\r\n      tempList = dataList.filter(function (a) {\r\n        return moment(a.createDate).isBetween(lastSixMonth, today);\r\n      });\r\n    } else if (dateValue === 2) {\r\n      tempList = dataList.filter(function (a) {\r\n        return moment(a.createDate).isBetween(lastYear, today);\r\n      });\r\n    }\r\n    return tempList;\r\n  };\r\n\r\n  const filterActivitiesListByType = (typeValue, dataList) => {\r\n    let tempList = dataList;\r\n    if (typeValue === 0) {\r\n      tempList = dataList;\r\n    } else if (typeValue === 1) {\r\n      tempList = dataList.filter(function (a) {\r\n        let points = a.points ? a.points : a.earnedPoints;\r\n        return points > 0;\r\n      });\r\n    } else if (typeValue === 2) {\r\n      tempList = dataList.filter(function (a) {\r\n        let points = a.points ? a.points : a.earnedPoints;\r\n        return points <= 0;\r\n      });\r\n    }\r\n    return tempList;\r\n  };\r\n\r\n  return (\r\n    <div className=\"point-balance\">\r\n      {totalPointsBalance >= 0 && (\r\n        <PointsBalanceComponent totalPointsBalance={totalPointsBalance} />\r\n      )}\r\n\r\n      <div className=\"container-fluid home-points-expire section-title\">\r\n        <div className=\"container\">\r\n          <span>\r\n            <I18n t=\"points_expire\" />\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid home-points-expire-list\">\r\n        {RenderBonusPointsBalance(bonusPointsBalanceList)}\r\n      </div>\r\n\r\n      <div className=\"container-fluid home-main-navigation\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12 col-sm-12 home-main\">\r\n              <div className=\"row\">\r\n                <div className=\"col-7 col-sm-4 offset-sm-2 col-lg-3 offset-lg-3\">\r\n                  <span className=\"nav-title1 uppercase\">\r\n                    <I18n t=\"earn\" />\r\n                  </span>\r\n                  <span className=\"nav-title2\">\r\n                    <I18n t=\"bonus_points\" />\r\n                  </span>\r\n                  <span\r\n                    className=\"nav-content\"\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: I18n.getTranslation(\r\n                        location,\r\n                        \"earn_points_by_scanning\"\r\n                      ),\r\n                    }}\r\n                  ></span>\r\n                  <div className=\"earn-points\">\r\n                    <Link to=\"./qrcode/scan\" className=\"nav-button uppercase\">\r\n                      <I18n t=\"earn_points\" />\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n                <div className=\"col-5 col-sm-4 col-lg-3 nav-icon\">\r\n                  <img src={imageBonus} alt=\"\" />\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid history-type\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <img src={earnPointsHistoryIcon} alt=\"\" />\r\n              <Link to=\"./earn-points-history\">\r\n                <I18n t=\"earn_points_history\" />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid history-type\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <img src={transactionHistoryIcon} alt=\"\" />\r\n              <Link to=\"./transaction-history\">\r\n                <I18n t=\"transaction_history\" />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid terms-link\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <Link to=\"#\">\r\n                <I18n t=\"terms_and_conditions\" />\r\n              </Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid section-title\">\r\n        <div className=\"container\">\r\n          <span>\r\n            <I18n t=\"activities_history\" />\r\n          </span>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container-fluid activities-history-filter\">\r\n        <div className=\"container\">\r\n          <div className=\"list-filter list-date\">\r\n            <Link\r\n              className={`btn-toggle-date ${showDateFilter === true ? \"collapsed\" : \"\"\r\n                }`}\r\n              to=\"#\"\r\n              onClick={toggleDateFilter}\r\n            >\r\n              <I18n t={filterDateText} />\r\n            </Link>\r\n\r\n            <div\r\n              className={`list-filter-panel list-date-panel ${showDateFilter === true ? \"show\" : \"\"\r\n                }`}\r\n            >\r\n              <div className=\"custom-control custom-radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"filterDate\"\r\n                  className=\"custom-control-input\"\r\n                  value=\"0\"\r\n                  id=\"filterDateThreeMonths\"\r\n                  onChange={() => filterByDate(0, \"last_three_months\")}\r\n                  checked={filterDate === 0}\r\n                />\r\n                <label\r\n                  className=\"custom-control-label\"\r\n                  htmlFor=\"filterDateThreeMonths\"\r\n                >\r\n                  <I18n t=\"last_three_months\" />\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"custom-control custom-radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"filterDate\"\r\n                  className=\"custom-control-input\"\r\n                  value=\"1\"\r\n                  id=\"filterDateSixMonths\"\r\n                  onChange={() => filterByDate(1, \"last_six_months\")}\r\n                  checked={filterDate === 1}\r\n                />\r\n                <label\r\n                  className=\"custom-control-label\"\r\n                  htmlFor=\"filterDateSixMonths\"\r\n                >\r\n                  <I18n t=\"last_six_months\" />\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"custom-control custom-radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"filterDate\"\r\n                  className=\"custom-control-input\"\r\n                  value=\"2\"\r\n                  id=\"filterDateLastYear\"\r\n                  onChange={() => filterByDate(2, \"last_year\")}\r\n                  checked={filterDate === 2}\r\n                />\r\n                <label\r\n                  className=\"custom-control-label\"\r\n                  htmlFor=\"filterDateLastYear\"\r\n                >\r\n                  <I18n t=\"last_year\" />\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"list-filter list-activities\">\r\n            <Link\r\n              className={`btn-toggle-activities ${showActivitiesFilter === true ? \"collapsed\" : \"\"\r\n                }`}\r\n              to=\"#\"\r\n              onClick={toggleActivitiesFilter}\r\n            >\r\n              <I18n t={filterTypeText} />\r\n            </Link>\r\n\r\n            <div\r\n              className={`list-filter-panel list-activities-panel ${showActivitiesFilter === true ? \"show\" : \"\"\r\n                }`}\r\n            >\r\n              <div className=\"custom-control custom-radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"filterType\"\r\n                  className=\"custom-control-input\"\r\n                  value=\"0\"\r\n                  id=\"allActivities\"\r\n                  onChange={() => filterByType(0, \"all_activities\")}\r\n                  checked={filterType === 0}\r\n                />\r\n                <label className=\"custom-control-label\" htmlFor=\"allActivities\">\r\n                  <I18n t=\"all_activities\" />\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"custom-control custom-radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"filterType\"\r\n                  className=\"custom-control-input\"\r\n                  value=\"1\"\r\n                  id=\"pointsIncrease\"\r\n                  onChange={() => filterByType(1, \"points_increase\")}\r\n                  checked={filterType === 1}\r\n                />\r\n                <label\r\n                  className=\"custom-control-label\"\r\n                  htmlFor=\"pointsIncrease\"\r\n                >\r\n                  <I18n t=\"points_increase\" />\r\n                </label>\r\n              </div>\r\n\r\n              <div className=\"custom-control custom-radio\">\r\n                <input\r\n                  type=\"radio\"\r\n                  name=\"filterType\"\r\n                  className=\"custom-control-input\"\r\n                  value=\"2\"\r\n                  id=\"pointsDecrease\"\r\n                  onChange={() => filterByType(2, \"points_decrease\")}\r\n                  checked={filterType === 2}\r\n                />\r\n                <label\r\n                  className=\"custom-control-label\"\r\n                  htmlFor=\"pointsDecrease\"\r\n                >\r\n                  <I18n t=\"points_decrease\" />\r\n                </label>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {memberHistoryEmpty === true && (\r\n        <div className=\"member-recent-history-empty\">\r\n          <img src={imageNoBonus} alt=\"\" />\r\n          <p>\r\n            <I18n t=\"recent_activities_history_empty\" />\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {memberHistoryEmpty === false && (\r\n        <div className=\"container-fluid home-activities-history-list\">\r\n          <div\r\n            className={`filter-overlay ${showDateFilter === true || showActivitiesFilter === true\r\n                ? \"show\"\r\n                : \"\"\r\n              }`}\r\n            onClick={toggleCloseOverlay}\r\n          ></div>\r\n\r\n          <div className=\"container\">\r\n            {!memberHistoryListLoaded && <Loading />}\r\n            {memberHistoryListLoaded &&\r\n              memberHistoryList.length > 0 &&\r\n              Object.keys(memberHistoryList).map((item, index) => {\r\n                return (\r\n                  <div className=\"list-item row\" key={index}>\r\n                    <div className=\"list-item-icon-holder\">\r\n                      <div\r\n                        className={`list-item-icon ${memberHistoryList[item].points > 0 ||\r\n                            memberHistoryList[item].points.earnedPoints > 0\r\n                            ? \"points-plus\"\r\n                            : \"\"\r\n                          }`}\r\n                      >\r\n                        <img\r\n                          src={getActivitiesIcon(memberHistoryList[item])}\r\n                          alt=\"\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"list-item-content\">\r\n                      <div className=\"list-item-title\">\r\n                        {getActivitiesTitle(memberHistoryList[item])}\r\n                      </div>\r\n                      <div className=\"list-item-type\">\r\n                        {getActivitiesActionType(memberHistoryList[item])}\r\n                      </div>\r\n                      <div className=\"list-item-date\">\r\n                        {memberHistoryList[item].createDate}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"list-item-right\">\r\n                      <div\r\n                        className={`list-item-points-change ${memberHistoryList[item].points > 0 ||\r\n                            memberHistoryList[item].earnedPoints > 0\r\n                            ? \"plus\"\r\n                            : \"\"\r\n                          }`}\r\n                      >\r\n                        {getActivitiesPoint(memberHistoryList[item])}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PointsBalance;\r\n","import React, { useState } from \"react\";\r\nimport Collapse from \"react-bootstrap/Collapse\";\r\nimport moment from \"moment\";\r\nimport I18n from \"../../i18n\";\r\n\r\nexport default (props) => {\r\n  const dateFormat = (date) => {\r\n    return moment(date).format(\"YYYY-MM-DD\");\r\n  };\r\n\r\n  const getBrandName = (id) => {\r\n    let brand = props.brand;\r\n    brand = brand.filter(function (v) {\r\n      return v.mallId === id;\r\n    });\r\n\r\n    if (brand[0]) {\r\n      if (props.lang === \"eng\") {\r\n        return brand[0].nameLang1;\r\n      } else if (props.lang === \"tch\") {\r\n        return brand[0].nameLang2;\r\n      } else if (props.lang === \"sch\") {\r\n        return brand[0].nameLang3;\r\n      }\r\n    } else {\r\n      return <I18n t=\"super_mall\" />;\r\n    }\r\n  };\r\n\r\n  function renderRecord(history) {\r\n    return history.map((item, parentInex) => {\r\n      const [isOpen, setOpen] = useState(parentInex === 0 ? true : false);\r\n      function toggle(e) {\r\n        e.preventDefault();\r\n        setOpen(!isOpen);\r\n        return;\r\n      }\r\n      return (\r\n        <div className=\"card record\" key={parentInex}>\r\n          <header role=\"tab\" className=\"card-header\">\r\n            <a\r\n              href=\"/#\"\r\n              onClick={toggle}\r\n              aria-controls={`collapse-` + parentInex}\r\n              aria-expanded={isOpen}\r\n              className={`btn btn-secondary btn-block ${\r\n                !isOpen ? \"collapsed\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"date\">{dateFormat(item.createDate)}</span>\r\n              {item.earnedPoints && (\r\n                <span className=\"points points-plus\">+{item.earnedPoints}</span>\r\n              )}\r\n            </a>\r\n          </header>\r\n          <Collapse in={isOpen}>\r\n            <div id={`collapse-` + parentInex}>\r\n              <div className=\"card-body\">\r\n                <div className=\"receipt\">\r\n                  {item.receiptList.map((receipt, index) => {\r\n                    return (\r\n                      <div key={index}>\r\n                        <h6>#{index + 1}</h6>\r\n                        <table className=\"history-record-table\">\r\n                          <tbody>\r\n                            <tr>\r\n                              <td>\r\n                                <I18n t=\"brand\" />\r\n                              </td>\r\n                              <td>{getBrandName(receipt.mallId)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>\r\n                                <I18n t=\"shop\" />\r\n                              </td>\r\n                              <td>{receipt.shopName}</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>\r\n                                <I18n t=\"date_of_purchase\" />\r\n                              </td>\r\n                              <td>{dateFormat(receipt.receiptDate)}</td>\r\n                            </tr>\r\n                            <tr>\r\n                              <td>\r\n                                <I18n t=\"amount_hkd\" />\r\n                              </td>\r\n                              <td>{receipt.amount}</td>\r\n                            </tr>\r\n                          </tbody>\r\n                        </table>\r\n                        <br />\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n  return <div className=\"record-list\">{renderRecord(props.history)}</div>;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport { getTransactionHistory, getBrandList } from \"../../utils/httpUtils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport imageNoBonus from \"../../assets/images/no_bonus.gif\";\r\nimport RenderEarnPointsList from \"./RenderEarnPointsList\";\r\nimport \"./EarnPointsHistory.css\";\r\n\r\nfunction EarnPointsHistory(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"earn-points-history\";\r\n  const { accessToken } = useUser();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [transactionHistoryEmpty, setTransactionHistoryEmpty] = useState(false);\r\n  const [transactionHistoryList, setTransactionHistoryList] = useState([]);\r\n  const [brandList, setBrandList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      if (sessionStorage.getItem(\"memberToken\") === \"99999999\") {\r\n        let responseData = require(\"../../assets/json/mockSpendingTransaction.json\");\r\n        setTransactionHistoryEmpty(false);\r\n        setTransactionHistoryList(responseData);\r\n        setLoading(false);\r\n      } else {\r\n        getTransactionHistory(accessToken, {\r\n          numberOfLastRecord: 50,\r\n        }).then((response) => {\r\n          let responseData = response.data.content.memberSpendingTransactionList;\r\n          if (responseData.length === 0) {\r\n            setTransactionHistoryEmpty(true);\r\n          } else {\r\n            setTransactionHistoryEmpty(false);\r\n            setTransactionHistoryList(responseData);\r\n          }\r\n          setLoading(false);\r\n        });\r\n\r\n        getBrandList()\r\n          .then((response) => {\r\n            setBrandList(response.data.content.mallList);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      }\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"earn_points_history\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        <div className=\"container\">\r\n          {loading && <Loading />}\r\n          {transactionHistoryEmpty && (\r\n            <div className=\"no-record-holder\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <img src={imageNoBonus} alt=\"\" />\r\n                  <br />\r\n                  <span>\r\n                    <I18n t=\"no_earn_points_history\" />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {!transactionHistoryEmpty && transactionHistoryList.length > 0 && (\r\n            <RenderEarnPointsList\r\n              history={transactionHistoryList}\r\n              brand={brandList}\r\n              lang={locale}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-black\">\r\n        <Link to=\"./points-balance\" className=\"btn-back\"></Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EarnPointsHistory;\r\n","import React, { useState } from \"react\";\r\nimport Collapse from \"react-bootstrap/Collapse\";\r\nimport moment from \"moment\";\r\nimport I18n from \"../../i18n\";\r\n\r\nexport default (props) => {\r\n  const dateFormat = (date) => {\r\n    return moment(date).format(\"YYYY-MM-DD\");\r\n  };\r\n\r\n  const getBrandName = (id) => {\r\n    let brand = props.brand;\r\n    brand = brand.filter(function (v) {\r\n      return v.mallId === id;\r\n    });\r\n\r\n    if (brand[0]) {\r\n      if (props.lang === \"eng\") {\r\n        return brand[0].nameLang1;\r\n      } else if (props.lang === \"tch\") {\r\n        return brand[0].nameLang2;\r\n      } else if (props.lang === \"sch\") {\r\n        return brand[0].nameLang3;\r\n      }\r\n    } else {\r\n      return <I18n t=\"super_mall\" />;\r\n    }\r\n  };\r\n\r\n  const getActionName = (action) => {\r\n    switch (action) {\r\n      case \"A\":\r\n        return <I18n t=\"adjust\" />;\r\n      case \"S\":\r\n        return <I18n t=\"spending_add_points\" />;\r\n      case \"D\":\r\n        return <I18n t=\"direct_add_point\" />;\r\n      case \"G\":\r\n        return <I18n t=\"redeem_spending_gift\" />;\r\n      case \"R\":\r\n        return <I18n t=\"redeem_bonus_points_gift\" />;\r\n      case \"C\":\r\n        return <I18n t=\"redeem_bonus_points_coupon\" />;\r\n      case \"T\":\r\n        return <I18n t=\"event_participation\" />;\r\n      default:\r\n        return \"-\";\r\n    }\r\n  };\r\n\r\n  function renderRecord(history) {\r\n    return history.map((item, parentInex) => {\r\n      const [isOpen, setOpen] = useState(parentInex === 0 ? true : false);\r\n      function toggle(e) {\r\n        e.preventDefault();\r\n        setOpen(!isOpen);\r\n        return;\r\n      }\r\n      return (\r\n        <div className=\"card record\" key={parentInex}>\r\n          <header role=\"tab\" className=\"card-header\">\r\n            <a\r\n              href=\"/#\"\r\n              onClick={toggle}\r\n              aria-controls={`collapse-` + parentInex}\r\n              aria-expanded={isOpen}\r\n              className={`btn btn-secondary btn-block ${\r\n                !isOpen ? \"collapsed\" : \"\"\r\n              }`}\r\n            >\r\n              <span className=\"date\">{dateFormat(item.createDate)}</span>\r\n            </a>\r\n          </header>\r\n          <Collapse in={isOpen}>\r\n            <div id={`collapse-` + parentInex}>\r\n              <div className=\"card-body\">\r\n                <div className=\"receipt\">\r\n                  <table className=\"history-record-table\">\r\n                    <tbody>\r\n                      <tr>\r\n                        <td>\r\n                          <I18n t=\"action\" />\r\n                        </td>\r\n                        <td>{getActionName(item.action)}</td>\r\n                      </tr>\r\n                      <tr>\r\n                        <td>\r\n                          <I18n t=\"brand\" />\r\n                        </td>\r\n                        <td>{getBrandName(item.mallId)}</td>\r\n                      </tr>\r\n                      {item.matchedRulesJson &&\r\n                        item.matchedRulesJson.extraOffer && (\r\n                          <tr>\r\n                            {item.action !== \"T\" && (\r\n                              <td>\r\n                                <I18n t=\"gift\" />\r\n                              </td>\r\n                            )}\r\n                            {item.action === \"T\" && (\r\n                              <td>\r\n                                <I18n t=\"event\" />\r\n                              </td>\r\n                            )}\r\n                            <td>\r\n                              {item.matchedRulesJson.extraOffer[0].objectName}\r\n                            </td>\r\n                          </tr>\r\n                        )}\r\n                      <tr>\r\n                        <td>\r\n                          <I18n t=\"points\" />\r\n                        </td>\r\n                        <td>\r\n                          {item.points > 0 ? \"+\" : \"\"}\r\n                          {\r\n                            <I18n\r\n                              t=\"pts\"\r\n                              args={{\r\n                                points: item.points,\r\n                              }}\r\n                            />\r\n                          }\r\n                        </td>\r\n                      </tr>\r\n                      {item.adjustReasonName ? (\r\n                        <tr>\r\n                          <td>\r\n                            <I18n t=\"adjust_reason\" />\r\n                          </td>\r\n                          <td>{item.adjustReasonName}</td>\r\n                        </tr>\r\n                      ) : null}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </Collapse>\r\n        </div>\r\n      );\r\n    });\r\n  }\r\n  return <div className=\"record-list\">{renderRecord(props.history)}</div>;\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport { getBonusPointsHistory, getBrandList } from \"../../utils/httpUtils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport imageNoBonus from \"../../assets/images/no_bonus.gif\";\r\nimport RenderTransactionList from \"./RenderTransactionList\";\r\nimport \"./TransactionHistory.css\";\r\n\r\nfunction TransactionHistory(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"transaction-history\";\r\n  const { accessToken } = useUser();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [transactionHistoryEmpty, setTransactionHistoryEmpty] = useState(false);\r\n  const [transactionHistoryList, setTransactionHistoryList] = useState([]);\r\n  const [brandList, setBrandList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      if (sessionStorage.getItem(\"memberToken\") === \"99999999\") {\r\n        let responseData = require(\"../../assets/json/mockSpendingTransaction.json\");\r\n        setTransactionHistoryEmpty(false);\r\n        setTransactionHistoryList(responseData);\r\n        setLoading(false);\r\n      } else {\r\n        getBonusPointsHistory(accessToken, {\r\n          numberOfLastRecord: 50,\r\n        }).then((response) => {\r\n          let responseData = response.data.content.memberBonusTransactionList;\r\n          if (responseData.length === 0) {\r\n            setTransactionHistoryEmpty(true);\r\n          } else {\r\n            setTransactionHistoryEmpty(false);\r\n            setTransactionHistoryList(responseData);\r\n          }\r\n          setLoading(false);\r\n        });\r\n\r\n        getBrandList()\r\n          .then((response) => {\r\n            setBrandList(response.data.content.mallList);\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error);\r\n          });\r\n      }\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"transaction_history\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        <div className=\"container\">\r\n          {loading && <Loading />}\r\n          {transactionHistoryEmpty && (\r\n            <div className=\"no-record-holder\">\r\n              <div className=\"row\">\r\n                <div className=\"col-12\">\r\n                  <img src={imageNoBonus} alt=\"\" />\r\n                  <br />\r\n                  <span>\r\n                    <I18n t=\"no_earn_points_history\" />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {!transactionHistoryEmpty && (\r\n            <RenderTransactionList\r\n              history={transactionHistoryList}\r\n              brand={brandList}\r\n              lang={locale}\r\n            />\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-black\">\r\n        <Link to=\"./points-balance\" className=\"btn-back\"></Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TransactionHistory;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport { getRewardRedemptionHistory } from \"../../utils/httpUtils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport imageMyGiftEmpty from \"../../assets/images/mygift_empty.gif\";\r\nimport moment from \"moment\";\r\nimport Slider from \"react-slick\";\r\nimport \"../../assets/css/slick.css\";\r\nimport \"../../assets/css/slick-theme.css\";\r\nimport \"./MyRedemption.css\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport { isMobileOnly, isTablet } from \"react-device-detect\";\r\n\r\nfunction MyRedemptionGift(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"my-redemption my-redemption-gift\";\r\n  const { accessToken } = useUser();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [myGiftListEmpty, setMyGiftListEmpty] = useState(false);\r\n  const [myGiftList, setMyGiftList] = useState([]);\r\n\r\n  const [myGiftHistoryList, setMyGiftHistoryList] = useState([]);\r\n  const [myGiftHistoryListEmpty, setMyGiftHistoryListEmpty] = useState(false);\r\n\r\n  var slidesToShow = 4;\r\n  var slidesToScroll = 4;\r\n\r\n  if (isTablet) {\r\n    slidesToShow = 2;\r\n    slidesToScroll = 2;\r\n  } else if (isMobileOnly) {\r\n    slidesToShow = 1;\r\n    slidesToScroll = 1;\r\n  }\r\n\r\n  const sliderSettings = {\r\n    dots: false,\r\n    infinite: false,\r\n    slidesToShow: slidesToShow,\r\n    slidesToScroll: slidesToScroll,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1024,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 2,\r\n        },\r\n      },\r\n      {\r\n        breakpoint: 480,\r\n        settings: {\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1,\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      getRewardRedemptionHistory(accessToken, {\r\n        numberOfLastRecord: 50,\r\n      }).then((response) => {\r\n        let responseData = response.data.content.giftRedemptionTransactionList.sort(\r\n          (a, b) => moment(b.reserveDatetime) - moment(a.reserveDatetime)\r\n        );\r\n        if (responseData.length === 0) {\r\n          setMyGiftListEmpty(true);\r\n          setMyGiftHistoryListEmpty(true);\r\n        } else {\r\n          let tempMyGiftList = responseData.filter(function (a) {\r\n            return a.status === \"P\";\r\n          });\r\n          setMyGiftList(tempMyGiftList);\r\n\r\n          let tempMyGiftHistoryList = responseData.filter(function (a) {\r\n            return a.status === \"R\";\r\n          });\r\n          setMyGiftHistoryList(tempMyGiftHistoryList);\r\n        }\r\n        setLoading(false);\r\n      });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const getMyGiftHistoryStatus = (e) => {\r\n    switch (e) {\r\n      case \"P\":\r\n        return <I18n t=\"reserved\" />;\r\n      case \"R\":\r\n        return <I18n t=\"redeemed\" />;\r\n      case \"C\":\r\n        return <I18n t=\"cancelled\" />;\r\n      case \"F\":\r\n        return <I18n t=\"refunded\" />;\r\n      default:\r\n        return <I18n t=\"expired\" />;\r\n    }\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-tab\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"page-tab-holder\">\r\n            <div className=\"container\">\r\n              <ul className=\"page-tab-item\">\r\n                <li className=\"active\">\r\n                  <Link to=\"my-redemption-gift\">\r\n                    <I18n t=\"gifts\" />\r\n                  </Link>\r\n                </li>\r\n                <li>\r\n                  <Link to=\"my-redemption-ticket\">\r\n                    <I18n t=\"ticket\" />\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        <div className=\"container\">\r\n          {loading && <Loading />}\r\n          {myGiftListEmpty && (\r\n            <div className=\"my-redemption-gift-empty\">\r\n              <img src={imageMyGiftEmpty} alt=\"\" />\r\n              <p>\r\n                <I18n t=\"my_gift_empty\" />\r\n              </p>\r\n              <Link to=\"gifts\" className=\"btn uppercase\">\r\n                <I18n t=\"redeem_item\" />\r\n              </Link>\r\n            </div>\r\n          )}\r\n          {!myGiftListEmpty && (\r\n            <>\r\n              <div className=\"my-redemption-gift-holder\">\r\n                <h1 className=\"my-redemption-title\">\r\n                  <I18n t=\"my_gift\" />\r\n                </h1>\r\n              </div>\r\n              <div className=\"my-redemption-gift-list\">\r\n                <Slider {...sliderSettings}>\r\n                  {Object.keys(myGiftList).map((item) => {\r\n                    return (\r\n                      <div\r\n                        className=\"gift-item\"\r\n                        key={myGiftList[item].giftRedemptionTransactionId}\r\n                      >\r\n                        <div className=\"gift-item-image\">\r\n                          <img\r\n                            src={\r\n                              myGiftList[item].itemImage\r\n                                ? myGiftList[item].itemImage\r\n                                : noImage\r\n                            }\r\n                            onError={handleErrorImg}\r\n                            alt=\"\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"gift-item-info\">\r\n                          <Link\r\n                            to={`my-redemption-gift-detail/${myGiftList[item].giftRedemptionTransactionId}`}\r\n                          >\r\n                            <div className=\"gift-item-content\">\r\n                              {myGiftList[item].itemName}\r\n                            </div>\r\n                          </Link>\r\n                          <div className=\"gift-item-expiry-date\">\r\n                            <I18n\r\n                              t=\"expiryOn\"\r\n                              args={{\r\n                                value: myGiftList[item].reserveExpiryDate,\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </Slider>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {myGiftHistoryListEmpty && (\r\n          <div\r\n            className={`container-fluid section-title history-title ${\r\n              !myGiftHistoryListEmpty ? \"\" : \"show\"\r\n            }`}\r\n          >\r\n            <div className=\"container\">\r\n              <span>\r\n                <I18n t=\"history\" />\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {myGiftHistoryListEmpty && (\r\n          <div className=\"gift-history-list\">\r\n            <div className=\"container\">\r\n              {Object.keys(myGiftHistoryList).map((item) => {\r\n                return (\r\n                  <div\r\n                    className=\"gift-history-list-item\"\r\n                    key={myGiftHistoryList[item].giftRedemptionTransactionId}\r\n                  >\r\n                    <div className=\"row\">\r\n                      <div className=\"col-8 col-sm-8 col-md-8 col-lg-8\">\r\n                        <div className=\"gift-history-list-item-expiry-date\">\r\n                          <I18n\r\n                            t=\"expiryOn\"\r\n                            args={{\r\n                              value: myGiftHistoryList[item].reserveExpiryDate,\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div className=\"gift-history-list-item-desc\">\r\n                          {myGiftHistoryList[item].itemName}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-4 col-sm-4 col-md-4 col-lg-4\">\r\n                        <div className=\"gift-history-list-item-image\">\r\n                          <div className=\"gift-image\">\r\n                            <img\r\n                              src={\r\n                                myGiftHistoryList[item].itemImage\r\n                                  ? myGiftHistoryList[item].itemImage\r\n                                  : noImage\r\n                              }\r\n                              onError={handleErrorImg}\r\n                              alt=\"\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"gift-status\">\r\n                            {getMyGiftHistoryStatus(\r\n                              myGiftHistoryList[item].status\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyRedemptionGift;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport {\r\n  getRewardRedemptionHistory,\r\n  getShopList,\r\n  getBrandList,\r\n} from \"../../utils/httpUtils\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport moment from \"moment\";\r\nimport \"./MyRedemption.css\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport QRCode from \"react-qr-code\";\r\n\r\nfunction MyRedemptionGiftDetail(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"my-redemption my-redemption-gift-detail\";\r\n  const { accessToken } = useUser();\r\n  let history = useHistory();\r\n  let giftRedemptionTransactionId = props.match.params.id;\r\n  let qrCode = giftRedemptionTransactionId;\r\n  if (!giftRedemptionTransactionId) {\r\n    history.push({ to: \"my-redemption-gift\" });\r\n  }\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [giftDetail, setGiftDetail] = useState([]);\r\n  const [shopName, setShopName] = useState(\"\");\r\n  const [brandList, setBrandList] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      getRewardRedemptionHistory(accessToken, {\r\n        numberOfLastRecord: 50,\r\n      }).then((response) => {\r\n        if (response.data.content.giftRedemptionTransactionList.length === 0) {\r\n          history.push(\"/\" + locale + \"/my-redemption-gift\");\r\n        } else {\r\n          let responseData = response.data.content.giftRedemptionTransactionList.sort(\r\n            (a, b) => moment(b.reserveDatetime) - moment(a.reserveDatetime)\r\n          );\r\n\r\n          responseData = responseData.filter(function (a) {\r\n            return (\r\n              a.giftRedemptionTransactionId === giftRedemptionTransactionId\r\n            );\r\n          });\r\n\r\n          setGiftDetail(responseData[0]);\r\n\r\n          let mallId = responseData[0].mallId;\r\n          let redeemLocationId = responseData[0].redeemLocationId;\r\n          getShopList({\r\n            mallId: mallId,\r\n          })\r\n            .then((response) => {\r\n              getShopName(response.data.content.shopList, redeemLocationId);\r\n              setLoading(false);\r\n            })\r\n            .catch(function (error) {\r\n              // eslint-disable-next-line no-console\r\n              console.log(error);\r\n            });\r\n        }\r\n      });\r\n\r\n      getBrandList()\r\n        .then((response) => {\r\n          setBrandList(response.data.content.mallList);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const dateFormat = (date) => {\r\n    return moment(date).format(\"YYYY-MM-DD\");\r\n  };\r\n\r\n  const getBrandName = (e) => {\r\n    let brandName = \"\";\r\n    let brandId = Number(e);\r\n    if (brandId === 0) {\r\n      brandName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < brandList.length; i++) {\r\n        if (brandList[i].mallId === brandId) {\r\n          switch (locale) {\r\n            case \"eng\":\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n            case \"tch\":\r\n              brandName = brandList[i].nameLang2;\r\n              break;\r\n            case \"sch\":\r\n              brandName = brandList[i].nameLang3;\r\n              break;\r\n            default:\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return brandName;\r\n  };\r\n\r\n  const getShopName = (shopList, locationId) => {\r\n    if (shopList.length !== 0 && locationId !== 0) {\r\n      let tempList = shopList.filter(function (a) {\r\n        return a.shopId === locationId;\r\n      });\r\n      setShopName(tempList[0].shopName);\r\n    } else {\r\n      setShopName(<I18n t=\"super_mall\" />);\r\n    }\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-top\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"container\">\r\n            <div className=\"my-redemption-gift-qr-code-holder\">\r\n              <span className=\"qrcode-remark\">\r\n                <I18n t=\"for_staff_use\" />\r\n              </span>\r\n              <div className=\"qrcode\">\r\n                <div className=\"arrow-top\"></div>\r\n                <div id=\"qrCode\">\r\n                  <QRCode value={String(qrCode)} size={200} />\r\n                </div>\r\n                <div className=\"arrow-bottom\"></div>\r\n              </div>\r\n              <span className=\"qrcode-number\">{qrCode}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"page-main\">\r\n        {loading && <Loading />}\r\n        <div className=\"container\">\r\n          <div className=\"my-redemption-gift-preview-holder\">\r\n            <div className=\"my-redemption-gift-image\">\r\n              <img\r\n                src={giftDetail.itemImage ? giftDetail.itemImage : noImage}\r\n                onError={handleErrorImg}\r\n                alt=\"\"\r\n              />\r\n            </div>\r\n            <div className=\"my-redemption-gift-detail\">\r\n              <p>{giftDetail.itemName}</p>\r\n\r\n              <table className=\"my-redemption-gift-detail-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"redeem_date\" />\r\n                    </td>\r\n                    <td>{dateFormat(giftDetail.reserveDatetime)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"expiry_date\" />\r\n                    </td>\r\n                    <td>{dateFormat(giftDetail.reserveExpiryDate)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"brand\" />\r\n                    </td>\r\n                    <td>{getBrandName(giftDetail.mallId)}</td>\r\n                  </tr>\r\n                  {shopName !== \"\" && (\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"shop\" />\r\n                      </td>\r\n                      <td>{shopName}</td>\r\n                    </tr>\r\n                  )}\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"quantity\" />\r\n                    </td>\r\n                    <td>1</td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-black\">\r\n        <Link to={`/${locale}/my-redemption-gift`} className=\"btn-back\"></Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyRedemptionGiftDetail;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport { getRewardRedemptionHistory } from \"../../utils/httpUtils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport imageMyGiftEmpty from \"../../assets/images/mygift_empty.gif\";\r\nimport moment from \"moment\";\r\nimport Slider from \"react-slick\";\r\nimport \"../../assets/css/slick.css\";\r\nimport \"../../assets/css/slick-theme.css\";\r\nimport \"./MyRedemption.css\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport { isMobileOnly, isTablet } from \"react-device-detect\";\r\n\r\nfunction MyRedemptionTicket(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"my-redemption my-redemption-ticket\";\r\n  const { accessToken } = useUser();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const [myTicketListEmpty, setMyTicketListEmpty] = useState(false);\r\n  const [myTicketList, setMyTicketList] = useState([]);\r\n\r\n  const [myTicketHistoryList, setMyTicketHistoryList] = useState([]);\r\n  const [myTicketHistoryListEmpty, setMyTicketHistoryListEmpty] = useState(\r\n    false\r\n  );\r\n\r\n  var slidesToShow = 4;\r\n  var slidesToScroll = 4;\r\n\r\n  if (isTablet) {\r\n    slidesToShow = 2;\r\n    slidesToScroll = 2;\r\n  } else if (isMobileOnly) {\r\n    slidesToShow = 1;\r\n    slidesToScroll = 1;\r\n  }\r\n\r\n  const sliderSettings = {\r\n    dots: false,\r\n    infinite: false,\r\n    slidesToShow: slidesToShow,\r\n    slidesToScroll: slidesToScroll,\r\n    responsive: [\r\n      {\r\n        breakpoint: 1024,\r\n        settings: {\r\n          slidesToShow: 2,\r\n          slidesToScroll: 2,\r\n        },\r\n      },\r\n      {\r\n        breakpoint: 480,\r\n        settings: {\r\n          slidesToShow: 1,\r\n          slidesToScroll: 1,\r\n        },\r\n      },\r\n    ],\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      getRewardRedemptionHistory(accessToken, {\r\n        numberOfLastRecord: 50,\r\n      }).then((response) => {\r\n        let responseData = response.data.content.giftRedemptionTransactionList.sort(\r\n          (a, b) => moment(b.reserveDatetime) - moment(a.reserveDatetime)\r\n        );\r\n        if (responseData.length === 0) {\r\n          setMyTicketListEmpty(true);\r\n          setMyTicketHistoryListEmpty(true);\r\n        } else {\r\n          let tempMyTicketList = responseData.filter(function (a) {\r\n            return a.status === \"P\";\r\n          });\r\n          setMyTicketList(tempMyTicketList);\r\n\r\n          let tempMyTicketHistoryList = responseData.filter(function (a) {\r\n            return a.status === \"R\";\r\n          });\r\n          setMyTicketHistoryList(tempMyTicketHistoryList);\r\n        }\r\n        setLoading(false);\r\n      });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const getMyTicketHistoryStatus = (e) => {\r\n    switch (e) {\r\n      case \"P\":\r\n        return <I18n t=\"reserved\" />;\r\n      case \"R\":\r\n        return <I18n t=\"redeemed\" />;\r\n      case \"C\":\r\n        return <I18n t=\"cancelled\" />;\r\n      case \"F\":\r\n        return <I18n t=\"refunded\" />;\r\n      default:\r\n        return <I18n t=\"expired\" />;\r\n    }\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-tab\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"page-tab-holder\">\r\n            <div className=\"container\">\r\n              <ul className=\"page-tab-item\">\r\n                <li>\r\n                  <Link to=\"my-redemption-gift\">\r\n                    <I18n t=\"gifts\" />\r\n                  </Link>\r\n                </li>\r\n                <li className=\"active\">\r\n                  <Link to=\"my-redemption-ticket\">\r\n                    <I18n t=\"ticket\" />\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        <div className=\"container\">\r\n          {loading && <Loading />}\r\n          {myTicketListEmpty && (\r\n            <div className=\"my-redemption-ticket-empty\">\r\n              <img src={imageMyGiftEmpty} alt=\"\" />\r\n              <p>\r\n                <I18n t=\"my_ticket_empty\" />\r\n              </p>\r\n              <Link to=\"events\" className=\"btn uppercase\">\r\n                <I18n t=\"event_enroll\" />\r\n              </Link>\r\n            </div>\r\n          )}\r\n          {!myTicketListEmpty && (\r\n            <>\r\n              <div className=\"my-redemption-ticket-holder\">\r\n                <h1 className=\"my-redemption-title\">\r\n                  <I18n t=\"my_ticket\" />\r\n                </h1>\r\n              </div>\r\n              <div className=\"my-redemption-ticket-list\">\r\n                <Slider {...sliderSettings}>\r\n                  {Object.keys(myTicketList).map((item) => {\r\n                    return (\r\n                      <div\r\n                        className=\"ticket-item\"\r\n                        key={myTicketList[item].giftRedemptionTransactionId}\r\n                      >\r\n                        <div className=\"ticket-item-image\">\r\n                          <img\r\n                            src={\r\n                              myTicketList[item].itemImage\r\n                                ? myTicketList[item].itemImage\r\n                                : noImage\r\n                            }\r\n                            onError={handleErrorImg}\r\n                            alt=\"\"\r\n                          />\r\n                        </div>\r\n                        <div className=\"ticket-item-info\">\r\n                          <Link\r\n                            to={`my-redemption-ticket-detail/${myTicketList[item].giftRedemptionTransactionId}`}\r\n                          >\r\n                            <div className=\"ticket-item-content\">\r\n                              {myTicketList[item].itemName}\r\n                            </div>\r\n                          </Link>\r\n                          <div className=\"ticket-item-expiry-date\">\r\n                            <I18n\r\n                              t=\"expiryOn\"\r\n                              args={{\r\n                                value: myTicketList[item].reserveExpiryDate,\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </Slider>\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n\r\n        {myTicketHistoryListEmpty && (\r\n          <div\r\n            className={`container-fluid section-title history-title ${\r\n              !myTicketHistoryListEmpty ? \"\" : \"show\"\r\n            }`}\r\n          >\r\n            <div className=\"container\">\r\n              <span>\r\n                <I18n t=\"history\" />\r\n              </span>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {myTicketHistoryListEmpty && (\r\n          <div className=\"ticket-history-list\">\r\n            <div className=\"container\">\r\n              {Object.keys(myTicketHistoryList).map((item) => {\r\n                return (\r\n                  <div\r\n                    className=\"ticket-history-list-item\"\r\n                    key={myTicketHistoryList[item].giftRedemptionTransactionId}\r\n                  >\r\n                    <div className=\"row\">\r\n                      <div className=\"col-8 col-sm-8 col-md-8 col-lg-8\">\r\n                        <div className=\"ticket-history-list-item-expiry-date\">\r\n                          <I18n\r\n                            t=\"expiryOn\"\r\n                            args={{\r\n                              value:\r\n                                myTicketHistoryList[item].reserveExpiryDate,\r\n                            }}\r\n                          />\r\n                        </div>\r\n                        <div className=\"ticket-history-list-item-desc\">\r\n                          {myTicketHistoryList[item].itemName}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"col-4 col-sm-4 col-md-4 col-lg-4\">\r\n                        <div className=\"ticket-history-list-item-image\">\r\n                          <div className=\"ticket-image\">\r\n                            <img\r\n                              src={\r\n                                myTicketHistoryList[item].itemImage\r\n                                  ? myTicketHistoryList[item].itemImage\r\n                                  : noImage\r\n                              }\r\n                              onError={handleErrorImg}\r\n                              alt=\"\"\r\n                            />\r\n                          </div>\r\n                          <div className=\"ticket-status\">\r\n                            {getMyTicketHistoryStatus(\r\n                              myTicketHistoryList[item].status\r\n                            )}\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default MyRedemptionTicket;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport {\r\n  getBrandList,\r\n  getGiftCategoryList,\r\n  getGiftList,\r\n} from \"../../utils/httpUtils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport Nouislider from \"nouislider-react\";\r\nimport \"nouislider/distribute/nouislider.css\";\r\nimport wNumb from \"wnumb\";\r\nimport \"./Gift.css\";\r\nimport imageNoGiftTicket from \"../../assets/images/no_gift_ticket.gif\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Accordion from \"react-bootstrap/Accordion\";\r\nimport { useAccordionToggle } from \"react-bootstrap/AccordionToggle\";\r\n\r\nfunction Gift(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"gift\";\r\n  const { user } = useUser();\r\n  const memberProfile = user;\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [brandList, setBrandList] = useState([]);\r\n  const [giftCategoryList, setGiftCategoryList] = useState([]);\r\n  const [giftList, setGiftList] = useState([]);\r\n  const [originalGiftList, setOriginalGiftList] = useState([]);\r\n  const [sorting, setSorting] = useState(3);\r\n  const [sortingText, setSortingText] = useState(\"points_high_to_low\");\r\n  const [showSorting, setShowSorting] = useState(false);\r\n  const [showFilter, setShowFilter] = useState(false);\r\n  const [giftFiltered, setGiftFiltered] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      if (sessionStorage.getItem(\"memberToken\") === \"99999999\") {\r\n        let brandJson = require(\"../../assets/json/mockBrand.json\");\r\n        let giftCategoryJson = require(\"../../assets/json/mockGiftCategory.json\");\r\n        let giftJson = require(\"../../assets/json/mockGift.json\");\r\n\r\n        let tempGiftList = giftJson.sort(function (a, b) {\r\n          return (\r\n            b.redeemBonusPoints[0].redeemBonusPointsBalance -\r\n            a.redeemBonusPoints[0].redeemBonusPointsBalance\r\n          );\r\n        });\r\n\r\n        setBrandList(brandJson);\r\n        setGiftCategoryList(giftCategoryJson);\r\n        setGiftList(tempGiftList);\r\n        setOriginalGiftList(giftJson);\r\n\r\n        setLoading(false);\r\n      } else {\r\n        getBrandList().then((response) => {\r\n          setBrandList(response.data.content.mallList);\r\n        });\r\n\r\n        getGiftCategoryList({ mallId: 0 }).then((response) => {\r\n          setGiftCategoryList(response.data.content.giftCategoryList);\r\n        });\r\n\r\n        getGiftList({\r\n          redeemType: \"B\",\r\n        }).then((response) => {\r\n          let tempGiftList = response.data.content.rewardList;\r\n          // Sort by display order first\r\n          tempGiftList = tempGiftList.sort((a, b) =>\r\n            a.displayOrder < b.displayOrder\r\n              ? 1\r\n              : b.displayOrder < a.displayOrder\r\n                ? -1\r\n                : 0\r\n          );\r\n          // Sort by default option => Points high to low\r\n          tempGiftList = tempGiftList.sort(function (a, b) {\r\n            return (\r\n              b.redeemBonusPoints[0].redeemBonusPointsBalance -\r\n              a.redeemBonusPoints[0].redeemBonusPointsBalance\r\n            );\r\n          });\r\n          setGiftList(tempGiftList);\r\n          setOriginalGiftList(tempGiftList);\r\n          setLoading(false);\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const toggleSorting = (e) => {\r\n    e.preventDefault();\r\n    setShowSorting(!showSorting);\r\n    setShowFilter(false);\r\n  };\r\n\r\n  const toggleFilter = (e) => {\r\n    e.preventDefault();\r\n    setShowSorting(false);\r\n    setShowFilter(!showFilter);\r\n  };\r\n\r\n  const toggleCloseOverlay = () => {\r\n    setShowSorting(false);\r\n    setShowFilter(false);\r\n  };\r\n\r\n  const getSortingData = (sortingVal, sortingTextVal) => {\r\n    let tempGiftList = giftList;\r\n    // Sorting: Newest && by display order\r\n    tempGiftList = tempGiftList.sort((a, b) =>\r\n      a.displayOrder < b.displayOrder\r\n        ? 1\r\n        : b.displayOrder < a.displayOrder\r\n          ? -1\r\n          : 0\r\n    );\r\n\r\n    if (sortingVal === 1) {\r\n      // Sorting: Hottest Pick\r\n      tempGiftList = tempGiftList.sort(function (a, b) {\r\n        return b.hotpick - a.hotpick;\r\n      });\r\n    } else if (sortingVal === 2) {\r\n      // Sorting: Points low to high\r\n      tempGiftList = tempGiftList.sort(function (a, b) {\r\n        return (\r\n          a.redeemBonusPoints[0].redeemBonusPointsBalance -\r\n          b.redeemBonusPoints[0].redeemBonusPointsBalance\r\n        );\r\n      });\r\n    } else if (sortingVal === 3) {\r\n      // Sorting: Points high to low\r\n      tempGiftList = tempGiftList.sort(function (a, b) {\r\n        return (\r\n          b.redeemBonusPoints[0].redeemBonusPointsBalance -\r\n          a.redeemBonusPoints[0].redeemBonusPointsBalance\r\n        );\r\n      });\r\n    }\r\n\r\n    setGiftList(tempGiftList);\r\n    setSorting(sortingVal);\r\n    setSortingText(sortingTextVal);\r\n    toggleCloseOverlay();\r\n  };\r\n\r\n  const getGiftPoint = (redeemBonusPointsVal) => {\r\n    let tempPoint = \"\";\r\n    for (var i = 0; i < redeemBonusPointsVal.length; i++) {\r\n      if (\r\n        redeemBonusPointsVal[i].memberLevelId ===\r\n        String(memberProfile.memberLevelId)\r\n      ) {\r\n        tempPoint = redeemBonusPointsVal[i].redeemBonusPointsBalance;\r\n        break;\r\n      }\r\n    }\r\n    return tempPoint ? (\r\n      <I18n\r\n        t=\"pts\"\r\n        args={{\r\n          points: tempPoint,\r\n        }}\r\n      />\r\n    ) : (\r\n        \"\"\r\n      );\r\n  };\r\n\r\n  const getGiftInventory = (currentGift) => {\r\n    var inventoryData = 0;\r\n    var currentGiftMallId = currentGift.mallId;\r\n    var currentGiftInventoryMode = currentGift.inventoryMode;\r\n    var inventoryList = currentGift.inventory;\r\n\r\n    if (currentGiftMallId === 0) {\r\n      // Master\r\n      if (currentGiftInventoryMode === \"M\") {\r\n        // Master Inventory\r\n        // mall_id 0 and inventory_mode M: inventoryList[mallId= 0].stockLevel - reservedStockLevel\r\n        if (inventoryList.length) {\r\n          for (let i = 0; i < inventoryList.length; i++) {\r\n            if (inventoryList[i].mallId === 0) {\r\n              inventoryData =\r\n                inventoryList[i].stockLevel -\r\n                inventoryList[i].reservedStockLevel;\r\n            }\r\n          }\r\n        }\r\n      } else if (\r\n        currentGiftInventoryMode === \"B\" ||\r\n        currentGiftInventoryMode === \"S\"\r\n      ) {\r\n        // Mall Inventory\r\n        // mall_id 0 and inventory_mode B/S: loop mall_id in reserveInMall, for each mall_id, get stock level by inventoryList[mall_id].stockLevel - reservedStockLevel, sum all mall as total stock\r\n        if (currentGift.reserveInMall) {\r\n          var reserveInMallList = currentGift.reserveInMall.mallId;\r\n          var filteredList = currentGift.inventory.filter(function (a) {\r\n            for (let i = 0; i < reserveInMallList.length; i++) {\r\n              if (reserveInMallList[i] === a.mallId) {\r\n                return reserveInMallList[i] === a.mallId;\r\n              }\r\n            }\r\n            return false;\r\n          });\r\n\r\n          var totalStock = 0;\r\n          if (filteredList.length) {\r\n            for (let i = 0; i < filteredList.length; i++) {\r\n              totalStock +=\r\n                filteredList[i].stockLevel - filteredList[i].reservedStockLevel;\r\n            }\r\n          }\r\n          inventoryData = totalStock;\r\n        }\r\n      }\r\n    } else {\r\n      // Mall\r\n      if (\r\n        currentGift.inventoryMode === \"B\" ||\r\n        currentGift.inventoryMode === \"S\"\r\n      ) {\r\n        // Mall Inventory\r\n        // mall_id > 0 and inventory_mode B/S: inventoryList[mall_id].stockLevel - reservedStockLevel\r\n        if (inventoryList.length) {\r\n          for (let i = 0; i < inventoryList.length; i++) {\r\n            if (inventoryList[i].mallId === currentGiftMallId) {\r\n              inventoryData =\r\n                inventoryList[i].stockLevel -\r\n                inventoryList[i].reservedStockLevel;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return inventoryData;\r\n  };\r\n\r\n  const CustomToggle = ({ children, eventKey, active }) => {\r\n    const [condition, setCondition] = useState(active);\r\n    const customOnClick = useAccordionToggle(eventKey, () => {\r\n      setCondition(!condition);\r\n    });\r\n    return (\r\n      <div\r\n        onClick={customOnClick}\r\n        className={`card-header ${condition ? \"show\" : \"\"}`}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const sliderConfig = {\r\n    start: [0, 1000],\r\n    step: 1,\r\n    connect: true,\r\n    range: {\r\n      min: 0,\r\n      \"30%\": 300,\r\n      \"60%\": 500,\r\n      max: 1000,\r\n    },\r\n    pips: {\r\n      mode: \"range\",\r\n      density: 5,\r\n    },\r\n  };\r\n\r\n  const tooltips = [wNumb({ decimals: 0 }), wNumb({ decimals: 0 })];\r\n\r\n  const [rangeSliderRef, setRangeSliderRef] = useState(null);\r\n  const onRangeSliderRefUpdate = () => {\r\n    rangeSliderRef.noUiSlider.updateOptions({\r\n      tooltips: tooltips,\r\n    });\r\n  };\r\n  const [pointsRangeMinValue, setPointsRangeMinValue] = useState(\"0\");\r\n  const [pointsRangeMaxValue, setPointsRangeMaxValue] = useState(\"1000\");\r\n  const onRangeUpdate = (values) => {\r\n    setPointsRangeMinValue(parseFloat(values[0]).toFixed(0));\r\n    setPointsRangeMaxValue(parseFloat(values[1]).toFixed(0));\r\n  };\r\n\r\n  if (rangeSliderRef) {\r\n    onRangeSliderRefUpdate();\r\n  }\r\n\r\n  const [checkedBrand, setCheckedBrand] = useState([]);\r\n  const handleBrandChange = (e) => {\r\n    const checkedBrandArray = checkedBrand;\r\n\r\n    if (e.target.checked) {\r\n      checkedBrandArray.push(e.target.value);\r\n    } else {\r\n      const index = checkedBrandArray.indexOf(e.target.value);\r\n      checkedBrandArray.splice(index, 1);\r\n    }\r\n    setCheckedBrand(checkedBrandArray);\r\n  };\r\n\r\n  const [checkedCategory, setCheckedCategory] = useState([]);\r\n  const handleCategoryChange = (e) => {\r\n    const checkedCategoryArray = checkedCategory;\r\n    if (e.target.checked) {\r\n      checkedCategoryArray.push(e.target.value);\r\n    } else {\r\n      const index = checkedCategoryArray.indexOf(e.target.value);\r\n      checkedCategoryArray.splice(index, 1);\r\n    }\r\n    setCheckedCategory(checkedCategoryArray);\r\n  };\r\n\r\n  const resetFilteredList = () => {\r\n    setGiftFiltered(false);\r\n    setCheckedBrand([]);\r\n    document\r\n      .querySelectorAll(\"input[name=brand]\")\r\n      .forEach((el) => (el.checked = false));\r\n    document\r\n      .querySelectorAll(\"input[name=category]\")\r\n      .forEach((el) => (el.checked = false));\r\n    setCheckedCategory([]);\r\n    setPointsRangeMinValue(sliderConfig.range.min);\r\n    setPointsRangeMaxValue(sliderConfig.range.max);\r\n    rangeSliderRef.noUiSlider.set(sliderConfig.start);\r\n    setGiftList(originalGiftList);\r\n    toggleCloseOverlay();\r\n    resetAccordion();\r\n  };\r\n\r\n  const resetAccordion = useAccordionToggle(\"1\", () => { });\r\n\r\n  const getFilteredList = () => {\r\n    setGiftFiltered(true);\r\n    var filterBrand = checkedBrand;\r\n    var filterCategory = checkedCategory;\r\n    var filteredList = originalGiftList;\r\n\r\n    // Brand filter\r\n    if (filterBrand.length > 0) {\r\n      filteredList = filteredList.filter(function (s) {\r\n        if (s.mallId === 0) {\r\n          // Master\r\n          if (s.inventoryMode === \"M\") {\r\n            // mall_id 0 and inventory_mode M: always show\r\n            return true;\r\n          } else if (s.inventoryMode === \"B\" || s.inventoryMode === \"S\") {\r\n            // mall_id 0 and inventory_mode B/S: show if reserveInMall contains selected mall_id\r\n            if (s.reserveInMall !== null) {\r\n              for (let i = 0; i < filterBrand.length; i++) {\r\n                for (let j = 0; j < s.reserveInMall.mallId.length; j++) {\r\n                  if (Number(filterBrand[i]) === s.reserveInMall.mallId[j]) {\r\n                    return Number(filterBrand[i]) === s.reserveInMall.mallId[j];\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          }\r\n        } else {\r\n          // Mall\r\n          // mall_id > 0 and inventory_mode B/S: show if mall_id equal selected mall_id\r\n          for (let i = 0; i < filterBrand.length; i++) {\r\n            if (Number(filterBrand[i]) === s.mallId) {\r\n              return Number(filterBrand[i]) === s.mallId;\r\n            }\r\n          }\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n\r\n    // Category filter\r\n    if (filterCategory.length > 0) {\r\n      filteredList = filteredList.filter(function (s) {\r\n        for (var i = 0; i < filterCategory.length; i++) {\r\n          if (Number(filterCategory[i]) === s.giftCategoryId) {\r\n            return Number(filterCategory[i]) === s.giftCategoryId;\r\n          }\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n\r\n    // Range filter\r\n    if (pointsRangeMinValue !== null && pointsRangeMaxValue !== null) {\r\n      filteredList = filteredList.filter(function (s) {\r\n        let pointsBalance = parseInt(\r\n          s.redeemBonusPoints[0].redeemBonusPointsBalance\r\n        );\r\n        if (\r\n          pointsBalance >= parseInt(pointsRangeMinValue) &&\r\n          pointsBalance <= parseInt(pointsRangeMaxValue)\r\n        ) {\r\n          return (\r\n            pointsBalance >= parseInt(pointsRangeMinValue) &&\r\n            pointsBalance <= parseInt(pointsRangeMaxValue)\r\n          );\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n\r\n    setGiftList(filteredList);\r\n    toggleCloseOverlay();\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-tab\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"page-tab-holder\">\r\n            <div className=\"container\">\r\n              <ul className=\"page-tab-item\">\r\n                <li className=\"active\">\r\n                  <Link to=\"#\">\r\n                    <I18n t=\"gift\" />\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-nav\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"list-sorting\">\r\n                <Link\r\n                  className={`btn-toggle-sorting ${showSorting ? \"collapsed\" : \"\"\r\n                    }`}\r\n                  to=\"#\"\r\n                  onClick={toggleSorting}\r\n                >\r\n                  <I18n t={sortingText} />\r\n                </Link>\r\n\r\n                <div\r\n                  className={`list-sorting-panel ${showSorting === true ? \"show\" : \"\"\r\n                    }`}\r\n                >\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"sorting\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"0\"\r\n                      id=\"newest\"\r\n                      onChange={() => getSortingData(0, \"newest\")}\r\n                      checked={sorting === 0}\r\n                    />\r\n                    <label className=\"custom-control-label\" htmlFor=\"newest\">\r\n                      <I18n t=\"newest\" />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"sorting\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"1\"\r\n                      id=\"hottestPick\"\r\n                      onChange={() => getSortingData(1, \"hottest_pick\")}\r\n                      checked={sorting === 1}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"hottestPick\"\r\n                    >\r\n                      <I18n t=\"hottest_pick\" />{\" \"}\r\n                      <span className=\"icon-crown\"></span>\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"sorting\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"2\"\r\n                      id=\"pointsLowToHigh\"\r\n                      onChange={() => getSortingData(2, \"points_low_to_high\")}\r\n                      checked={sorting === 2}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"pointsLowToHigh\"\r\n                    >\r\n                      <I18n t=\"points_low_to_high\" />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"sorting\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"3\"\r\n                      id=\"pointsHighToLow\"\r\n                      onChange={() => getSortingData(3, \"points_high_to_low\")}\r\n                      checked={sorting === 3}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"pointsHighToLow\"\r\n                    >\r\n                      <I18n t=\"points_high_to_low\" />\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"list-filter\">\r\n                <Link\r\n                  className={`btn-toggle-filter ${giftFiltered === true ? \"filtered\" : \"\"\r\n                    }`}\r\n                  to=\"#\"\r\n                  onClick={toggleFilter}\r\n                ></Link>\r\n              </div>\r\n\r\n              <div\r\n                className={`list-filter-panel ${showFilter === true ? \"show\" : \"\"\r\n                  }`}\r\n              >\r\n                <Accordion defaultActiveKey=\"0\">\r\n                  <Card>\r\n                    <div className=\"brand\">\r\n                      <CustomToggle eventKey=\"0\" active={true}>\r\n                        <I18n t=\"brand\" />\r\n                      </CustomToggle>\r\n                      <Accordion.Collapse eventKey=\"0\">\r\n                        <Card.Body>\r\n                          {Object.keys(brandList).map((item) => {\r\n                            return (\r\n                              <div\r\n                                className=\"custom-control custom-checkbox\"\r\n                                key={brandList[item].mallId}\r\n                              >\r\n                                <input\r\n                                  id={`brand-` + brandList[item].mallId}\r\n                                  type=\"checkbox\"\r\n                                  name=\"brand\"\r\n                                  className=\"custom-control-input\"\r\n                                  value={brandList[item].mallId}\r\n                                  onChange={handleBrandChange}\r\n                                />\r\n                                <label\r\n                                  htmlFor={`brand-` + brandList[item].mallId}\r\n                                  className=\"custom-control-label\"\r\n                                >\r\n                                  <img\r\n                                    src={\r\n                                      brandList[item].logo\r\n                                        ? brandList[item].logo\r\n                                        : noImage\r\n                                    }\r\n                                    onError={handleErrorImg}\r\n                                    alt=\"\"\r\n                                  />\r\n                                </label>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </Card.Body>\r\n                      </Accordion.Collapse>\r\n                    </div>\r\n                  </Card>\r\n                </Accordion>\r\n\r\n                <Accordion>\r\n                  <Card>\r\n                    <div className=\"category\">\r\n                      <CustomToggle eventKey=\"1\" active={false}>\r\n                        <I18n t=\"category\" />\r\n                      </CustomToggle>\r\n                      <Accordion.Collapse eventKey=\"1\">\r\n                        <Card.Body>\r\n                          {Object.keys(giftCategoryList).map((item) => {\r\n                            return (\r\n                              <div\r\n                                className=\"custom-control custom-checkbox\"\r\n                                key={giftCategoryList[item].giftCategoryId}\r\n                              >\r\n                                <input\r\n                                  id={\r\n                                    `category-` +\r\n                                    giftCategoryList[item].giftCategoryId\r\n                                  }\r\n                                  type=\"checkbox\"\r\n                                  name=\"category\"\r\n                                  className=\"custom-control-input\"\r\n                                  value={giftCategoryList[item].giftCategoryId}\r\n                                  onChange={handleCategoryChange}\r\n                                />\r\n                                <label\r\n                                  htmlFor={\r\n                                    `category-` +\r\n                                    giftCategoryList[item].giftCategoryId\r\n                                  }\r\n                                  className=\"custom-control-label\"\r\n                                >\r\n                                  {giftCategoryList[item].giftCategoryName}\r\n                                </label>\r\n                              </div>\r\n                            );\r\n                          })}\r\n                        </Card.Body>\r\n                      </Accordion.Collapse>\r\n                    </div>\r\n                  </Card>\r\n                </Accordion>\r\n\r\n                <Accordion>\r\n                  <Card>\r\n                    <CustomToggle eventKey=\"2\" active={false}>\r\n                      <I18n t=\"points_range\" />\r\n                    </CustomToggle>\r\n                    <Accordion.Collapse eventKey=\"2\">\r\n                      <Card.Body>\r\n                        <div className=\"form-input form-range-input\">\r\n                          <div id=\"slider\">\r\n                            <>\r\n                              <Nouislider\r\n                                instanceRef={(instance) => {\r\n                                  if (instance) {\r\n                                    setRangeSliderRef(instance);\r\n                                  }\r\n                                }}\r\n                                start={sliderConfig.start}\r\n                                step={sliderConfig.step}\r\n                                pips={sliderConfig.pips}\r\n                                connect={sliderConfig.connect}\r\n                                range={sliderConfig.range}\r\n                                tooltips={tooltips}\r\n                                onSlide={onRangeUpdate}\r\n                              />\r\n                              {pointsRangeMinValue && (\r\n                                <input\r\n                                  type=\"hidden\"\r\n                                  name=\"pointsRangeMin\"\r\n                                  value={pointsRangeMinValue}\r\n                                />\r\n                              )}\r\n                              {pointsRangeMaxValue && (\r\n                                <input\r\n                                  type=\"hidden\"\r\n                                  name=\"pointsRangeMax\"\r\n                                  value={pointsRangeMaxValue}\r\n                                />\r\n                              )}\r\n                            </>\r\n                          </div>\r\n                        </div>\r\n                      </Card.Body>\r\n                    </Accordion.Collapse>\r\n                  </Card>\r\n                </Accordion>\r\n\r\n                <div className=\"filter-button\">\r\n                  <button\r\n                    className=\"btn btn-reset uppercase\"\r\n                    onClick={resetFilteredList}\r\n                  >\r\n                    <I18n t=\"reset\" />\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-apply uppercase\"\r\n                    onClick={getFilteredList}\r\n                  >\r\n                    <I18n t=\"apply\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        {loading && <Loading />}\r\n        <div\r\n          className={`filter-overlay ${showSorting === true || showFilter === true ? \"show\" : \"\"\r\n            }`}\r\n          onClick={toggleCloseOverlay}\r\n        ></div>\r\n\r\n        <div className=\"container\" id=\"gift-list\">\r\n          {giftList.length === 0 && (\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <div className=\"no-gift\">\r\n                  <img src={imageNoGiftTicket} alt=\"\" />\r\n                  <br />\r\n                  <span>\r\n                    <I18n t=\"no_item_found\" />\r\n                  </span>\r\n                  <span>\r\n                    <I18n t=\"please_stay_tuned\" />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {giftList.length > 0 && (\r\n            <div className=\"row\">\r\n              {Object.keys(giftList).map((item) => {\r\n                return (\r\n                  <div\r\n                    className=\"col-6 col-md-3 col-lg-3 gift-item\"\r\n                    key={giftList[item].giftId}\r\n                  >\r\n                    <div className=\"gift-image\">\r\n                      {giftList[item].hotpick && (\r\n                        <div className=\"gift-featured\"></div>\r\n                      )}\r\n                      {getGiftInventory(giftList[item]) > 0 &&\r\n                        giftList[item].unlimitedInventory === null && (\r\n                          <div className=\"gift-inventory\">\r\n                            <I18n\r\n                              t=\"giftInventory\"\r\n                              args={{\r\n                                value: getGiftInventory(giftList[item]),\r\n                              }}\r\n                            />\r\n                          </div>\r\n                        )}\r\n\r\n                      {getGiftInventory(giftList[item]) === 0 &&\r\n                        giftList[item].unlimitedInventory === null && (\r\n                          <div className=\"gift-inventory\">\r\n                            <I18n t=\"out_of_stock\" />\r\n                          </div>\r\n                        )}\r\n                      <Link to={`gifts-detail/` + giftList[item].giftId}>\r\n                        <img\r\n                          src={\r\n                            giftList[item].image\r\n                              ? giftList[item].image\r\n                              : noImage\r\n                          }\r\n                          alt=\"\"\r\n                        />\r\n                      </Link>\r\n                    </div>\r\n                    <div className=\"gift-intro\">\r\n                      <h3 className=\"gift-point\">\r\n                        {getGiftPoint(giftList[item].redeemBonusPoints)}\r\n                      </h3>\r\n                      <p className=\"gift-desc\">\r\n                        {giftList[item].giftName}\r\n                        <br />\r\n                        <span>{giftList[item].giftDescription}</span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Gift;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport {\r\n  lmsMemberProfile,\r\n  getBrandList,\r\n  getShopList,\r\n  getGiftList,\r\n} from \"../../utils/httpUtils\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport \"./Gift.css\";\r\nimport iconCrown from \"../../assets/images/icon-crown.svg\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport Slider from \"react-slick\";\r\nimport \"../../assets/css/slick.css\";\r\nimport \"../../assets/css/slick-theme.css\";\r\nimport { useForm } from \"react-hook-form\";\r\n\r\nfunction GiftDetail(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"gift-detail\";\r\n  const { accessToken } = useUser();\r\n  let history = useHistory();\r\n  let giftId = props.match.params.giftId;\r\n  if (!giftId) {\r\n    history.push(\"/\" + locale + \"/gifts\");\r\n  }\r\n\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const [loading, setLoading] = useState(true);\r\n  const [gift, setGift] = useState([]);\r\n  const [redeemBonusPointsBalance, setRedeemBonusPointsBalance] = useState(0);\r\n  const [brandList, setBrandList] = useState([]);\r\n  const [shopList, setShopList] = useState([]);\r\n  const [hiddenBrand, setHiddenBrand] = useState(false);\r\n  const [hiddenShop, setHiddenShop] = useState(false);\r\n  const [shop, setShop] = useState(0);\r\n  const [brand, setBrand] = useState(0);\r\n  const [giftInventory, setGiftInventory] = useState(0);\r\n  const [qty, SetQty] = useState(1);\r\n  const imageSliderSettings = {\r\n    dots: false,\r\n    infinite: false,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    centerMode: false,\r\n  };\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      let userMemberLevelId = null;\r\n      if (sessionStorage.getItem(\"memberToken\") === \"99999999\") {\r\n        let giftJson = require(\"../../assets/json/mockGift.json\");\r\n        getRedeemBonusPoints(giftJson[0], 0);\r\n        setGiftInventory(getGiftInventory(giftJson[0]));\r\n        setHiddenBrand(false);\r\n        setHiddenShop(false);\r\n        setBrand(0);\r\n        setShop(0);\r\n        setGift(giftJson[0]);\r\n        setLoading(false);\r\n      } else {\r\n        lmsMemberProfile(accessToken).then((response) => {\r\n          userMemberLevelId = response.data.content.memberLevelId;\r\n\r\n          getGiftList({\r\n            rewardId: giftId,\r\n          }).then((response) => {\r\n            if (response.data.content.rewardList.length === 0) {\r\n              history.push(\"/\" + locale + \"/gifts\");\r\n            } else {\r\n              setGift(response.data.content.rewardList[0]);\r\n              let currentGift = response.data.content.rewardList[0];\r\n              getRedeemBonusPoints(currentGift, userMemberLevelId);\r\n\r\n              getBrandList().then((response) => {\r\n                var tempList = response.data.content.mallList;\r\n                if (currentGift.mallId === 0) {\r\n                  if (currentGift.inventoryMode === \"M\") {\r\n                    // mall_id 0 and inventory_mode M:\r\n                    // no selection box,\r\n                    // reserve by mallId = 0, shopId  = 0\r\n                    setHiddenBrand(true);\r\n                    setHiddenShop(true);\r\n                    setBrand(0);\r\n                    setShop(0);\r\n                  } else if (currentGift.inventoryMode === \"B\") {\r\n                    // mall_id 0 and inventory_mode B:\r\n                    // only brand selection box using reserveInMall as options, get label by mallList API\r\n                    // reserve by mallId = selected value, shopId = 0\r\n                    setHiddenBrand(false);\r\n                    setHiddenShop(true);\r\n                    if (currentGift.reserveInMall) {\r\n                      let reserveInMallList = currentGift.reserveInMall.mallId;\r\n                      let filteredList = tempList.filter(function (a) {\r\n                        for (let i = 0; i < reserveInMallList.length; i++) {\r\n                          if (reserveInMallList[i] === a.mallId) {\r\n                            return reserveInMallList[i] === a.mallId;\r\n                          }\r\n                        }\r\n                        return false;\r\n                      });\r\n                      setBrandList(filteredList);\r\n                      setShop(0);\r\n                    }\r\n                  } else if (currentGift.inventoryMode === \"S\") {\r\n                    // mall_id 0 and inventory_mode S:\r\n                    // both brand selection box and shop selection box\r\n                    // brand selection box using reserveInMall as options, get label by mallList API\r\n                    // shop selection box using shopList API by mallId selected in brand selection box\r\n                    // reserve by mallId = selected mall value, shopId = selected shop value\r\n                    setHiddenBrand(false);\r\n                    setHiddenShop(false);\r\n                    if (currentGift.reserveInMall) {\r\n                      let reserveInMallList = currentGift.reserveInMall.mallId;\r\n                      let filteredList = tempList.filter(function (a) {\r\n                        for (let i = 0; i < reserveInMallList.length; i++) {\r\n                          if (reserveInMallList[i] === a.mallId) {\r\n                            return reserveInMallList[i] === a.mallId;\r\n                          }\r\n                        }\r\n                        return false;\r\n                      });\r\n                      setBrandList(filteredList);\r\n                    }\r\n                  }\r\n                } else {\r\n                  if (currentGift.inventoryMode === \"B\") {\r\n                    // mall_id > 0 and inventory_mode B:\r\n                    // no selection box\r\n                    // reserve by gift's mallId, shopId = 0\r\n                    setHiddenBrand(true);\r\n                    setHiddenShop(true);\r\n                    setBrandList(tempList);\r\n                    setBrand(currentGift.mallId);\r\n                    setShop(0);\r\n                  } else if (currentGift.inventoryMode === \"S\") {\r\n                    // mall_id > 0 and inventory_mode S:\r\n                    // only shop selection box using shopList API by mallId\r\n                    // reserve by mallId = gift's mall_id, shopId = selected shop value using\r\n                    setHiddenBrand(true);\r\n                    setHiddenShop(false);\r\n                    setBrandList(tempList);\r\n                    setBrand(currentGift.mallId);\r\n\r\n                    getShopList({\r\n                      mallId: currentGift.mallId,\r\n                    }).then((response) => {\r\n                      setShopList(response.data.content.shopList);\r\n                    });\r\n                  } else {\r\n                    tempList = tempList.filter(function (a) {\r\n                      return a.mallId === currentGift.mallId;\r\n                    });\r\n                    setBrandList(tempList);\r\n                  }\r\n                }\r\n\r\n                setGiftInventory(getGiftInventory(currentGift));\r\n                setLoading(false);\r\n              });\r\n            }\r\n          });\r\n        });\r\n      }\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const getRedeemBonusPoints = (gift, userMemberLevelId) => {\r\n    for (var i = 0; i < gift.redeemBonusPoints.length; i++) {\r\n      if (\r\n        gift.redeemBonusPoints[i].memberLevelId === String(userMemberLevelId)\r\n      ) {\r\n        setRedeemBonusPointsBalance(\r\n          gift.redeemBonusPoints[i].redeemBonusPointsBalance\r\n        );\r\n        break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const getBrandName = (e) => {\r\n    let brandName = \"\";\r\n    let brandId = Number(e);\r\n    if (brandId === 0) {\r\n      brandName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < brandList.length; i++) {\r\n        if (brandList[i].mallId === brandId) {\r\n          switch (locale) {\r\n            case \"eng\":\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n            case \"tch\":\r\n              brandName = brandList[i].nameLang2;\r\n              break;\r\n            case \"sch\":\r\n              brandName = brandList[i].nameLang3;\r\n              break;\r\n            default:\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return brandName;\r\n  };\r\n\r\n  const getGiftInventory = (currentGift) => {\r\n    var inventoryData = 0;\r\n    var currentGiftMallId = currentGift.mallId;\r\n    var currentGiftInventoryMode = currentGift.inventoryMode;\r\n    var inventoryList = currentGift.inventory;\r\n\r\n    if (currentGiftMallId === 0) {\r\n      if (currentGiftInventoryMode === \"M\") {\r\n        // mall_id 0 and inventory_mode M:\r\n        // check if \"inventoryList[mallId= 0].stockLevel - reservedStockLevel\" > 0\r\n        if (inventoryList.length) {\r\n          for (let i = 0; i < inventoryList.length; i++) {\r\n            if (inventoryList[i].mallId === 0) {\r\n              inventoryData =\r\n                inventoryList[i].stockLevel -\r\n                inventoryList[i].reservedStockLevel;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      } else if (\r\n        currentGiftInventoryMode === \"B\" ||\r\n        currentGiftInventoryMode === \"S\"\r\n      ) {\r\n        // mall_id 0 and inventory_mode B/S:\r\n        // for each options in brand selection box, check if \"inventoryList[mall_id].stockLevel - reservedStockLevel\" > 0, disable the option if not > 0\r\n        if (currentGift.reserveInMall) {\r\n          var reserveInMallList = currentGift.reserveInMall.mallId;\r\n          var filteredList = currentGift.inventory.filter(function (a) {\r\n            for (let i = 0; i < reserveInMallList.length; i++) {\r\n              if (reserveInMallList[i] === a.mallId) {\r\n                return reserveInMallList[i] === a.mallId;\r\n              }\r\n            }\r\n            return false;\r\n          });\r\n\r\n          var totalStock = 0;\r\n          if (filteredList.length) {\r\n            for (let i = 0; i < filteredList.length; i++) {\r\n              totalStock +=\r\n                filteredList[i].stockLevel - filteredList[i].reservedStockLevel;\r\n            }\r\n          }\r\n          inventoryData = totalStock;\r\n        }\r\n      }\r\n    } else {\r\n      if (\r\n        currentGift.inventoryMode === \"B\" ||\r\n        currentGift.inventoryMode === \"S\"\r\n      ) {\r\n        // mall_id > 0 and inventory_mode B/S:\r\n        // check if \"inventoryList[mall_id].stockLevel - reservedStockLevel\" > 0\r\n        if (inventoryList.length) {\r\n          for (let i = 0; i < inventoryList.length; i++) {\r\n            if (inventoryList[i].mallId === currentGiftMallId) {\r\n              inventoryData =\r\n                inventoryList[i].stockLevel -\r\n                inventoryList[i].reservedStockLevel;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    return inventoryData;\r\n  };\r\n\r\n  const optionInventoryChecking = (mall) => {\r\n    let currentMallStock = 0;\r\n    let optionDisable = false;\r\n\r\n    if (gift.mallId === 0) {\r\n      if (gift.inventoryMode === \"B\" || gift.inventoryMode === \"S\") {\r\n        if (gift.inventory.length > 0) {\r\n          for (let i = 0; i < gift.inventory.length; i++) {\r\n            if (gift.inventory[i].mallId === mall) {\r\n              currentMallStock +=\r\n                gift.inventory[i].stockLevel -\r\n                gift.inventory[i].reservedStockLevel;\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    optionDisable = currentMallStock > 0 ? false : true;\r\n    return optionDisable;\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  const handleBrandChange = (e) => {\r\n    setBrand(e.target.value);\r\n  };\r\n\r\n  const handleShopChange = (e) => {\r\n    setShop(e.target.value);\r\n  };\r\n\r\n  const increaseRedeemCount = () => {\r\n    let temp = qty;\r\n    temp++;\r\n    SetQty(temp);\r\n  };\r\n\r\n  const decreaseRedeemCount = () => {\r\n    if (qty > 1) {\r\n      let temp = qty;\r\n      temp--;\r\n      SetQty(temp);\r\n    }\r\n  };\r\n\r\n  const handleQtyChange = (e) => {\r\n    SetQty(e.target.value);\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    setDisableSubmitBtn(true);\r\n\r\n    var redeemObject = {\r\n      redeemMallId: data.brand ? data.brand : brand,\r\n      redeemShop: data.shop ? data.shop : shop,\r\n      redeemGiftId: gift.giftId,\r\n      redeemGiftImage: gift.image,\r\n      redeemGiftDetail: gift.giftDescription,\r\n      redeemGiftQty: qty,\r\n      redeemGiftPoint: redeemBonusPointsBalance,\r\n    };\r\n\r\n    sessionStorage.setItem(\"redeemObject\", JSON.stringify(redeemObject));\r\n\r\n    history.push({\r\n      pathname: \"/\" + locale + \"/order-preview\",\r\n      state: { redeemObject: redeemObject },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-intro\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"container\">\r\n            <span className=\"gift-name\">{gift.giftName}</span>\r\n            <span className=\"gift-pts\">\r\n              <span>\r\n                <I18n\r\n                  t=\"pts\"\r\n                  args={{\r\n                    points: redeemBonusPointsBalance,\r\n                  }}\r\n                />\r\n              </span>\r\n            </span>\r\n            <div className=\"gift-top-info\">\r\n              <div className=\"gift-inventory\">\r\n                <I18n\r\n                  t=\"giftInventory\"\r\n                  args={{\r\n                    value: giftInventory,\r\n                  }}\r\n                />\r\n              </div>\r\n              {gift.hotpick && (\r\n                <div className=\"gift-crown\">\r\n                  <img src={iconCrown} alt=\"\" />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"page-main\">\r\n          {loading && <Loading />}\r\n          <div className=\"container\">\r\n            {!hiddenBrand && brandList.length > 0 && (\r\n              <>\r\n                <select\r\n                  id=\"brand\"\r\n                  name=\"brand\"\r\n                  className=\"custom-select\"\r\n                  ref={register({ required: true })}\r\n                  onChange={handleBrandChange}\r\n                >\r\n                  <option value=\"\">\r\n                    {I18n.getTranslation(location, \"please_select_brand\")}\r\n                  </option>\r\n                  {Object.keys(brandList).map((item) => {\r\n                    return (\r\n                      <option\r\n                        value={brandList[item].mallId}\r\n                        key={item}\r\n                        disabled={optionInventoryChecking(\r\n                          brandList[item].mallId\r\n                        )}\r\n                      >\r\n                        {getBrandName(brandList[item].mallId)}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n                <div className=\"message\">\r\n                  {errors.brand?.type === \"required\" &&\r\n                    I18n.getTranslation(\r\n                      location,\r\n                      \"please_select_brand_for_redeem\"\r\n                    )}\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            {!hiddenShop && brand !== 0 && brand !== null && (\r\n              <>\r\n                <select\r\n                  id=\"shop\"\r\n                  name=\"shop\"\r\n                  className=\"custom-select\"\r\n                  ref={register({ required: true })}\r\n                  onChange={handleShopChange}\r\n                >\r\n                  <option value=\"\">\r\n                    {I18n.getTranslation(location, \"please_select_shop\")}\r\n                  </option>\r\n                  {Object.keys(shopList).map((item) => {\r\n                    return (\r\n                      <option value={shopList[item].shopId} key={item}>\r\n                        {shopList[item].shopName}\r\n                      </option>\r\n                    );\r\n                  })}\r\n                </select>\r\n                <div className=\"message\">\r\n                  {errors.shop?.type === \"required\" &&\r\n                    I18n.getTranslation(\r\n                      location,\r\n                      \"please_select_shop_for_redeem\"\r\n                    )}\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            <div className=\"gift-images\">\r\n              <Slider {...imageSliderSettings}>\r\n                <div className=\"item\">\r\n                  <img\r\n                    src={gift.image ? gift.image : noImage}\r\n                    onError={handleErrorImg}\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </Slider>\r\n            </div>\r\n\r\n            {gift.giftDescription && (\r\n              <div className=\"gift-detail\">\r\n                <h3>\r\n                  <I18n t=\"detail\" />\r\n                </h3>\r\n                <p>{gift.giftDescription}</p>\r\n              </div>\r\n            )}\r\n\r\n            {gift.giftTnc && (\r\n              <>\r\n                <hr />\r\n                <div className=\"gift-terms\">\r\n                  <h3>\r\n                    <I18n t=\"terms_and_conditions\" />\r\n                  </h3>\r\n                  <p>{gift.giftTnc}</p>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {giftInventory === 0 && brand !== \"\" && shop !== \"\" && (\r\n          <div className=\"page-bottom\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"container text-center\">\r\n                <I18n t=\"out_of_stock\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {giftInventory > 0 && (\r\n          <div className=\"page-bottom\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"container\">\r\n                <div className=\"redeem-count-input\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-redeem-control btn-plus btn-secondary\"\r\n                    onClick={increaseRedeemCount}\r\n                  ></button>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"redeem-count form-control\"\r\n                    name=\"qty\"\r\n                    value={qty}\r\n                    onChange={handleQtyChange}\r\n                    ref={register({ required: true, min: 1 })}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-redeem-control btn-minus btn-secondary\"\r\n                    onClick={decreaseRedeemCount}\r\n                  ></button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-redeem uppercase btn-secondary\"\r\n                    disabled={disableSubmitBtn}\r\n                  >\r\n                    <I18n t=\"redeem\" />\r\n                  </button>\r\n                </div>\r\n                <div className=\"message text-center\">\r\n                  <br />\r\n                  {errors.qty &&\r\n                    I18n.getTranslation(location, \"min_number_of_gift\")}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </form>\r\n\r\n      <div className=\"page-black\">\r\n        <Link to={`/${locale}/gifts`} className=\"btn-back\"></Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default GiftDetail;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport {\r\n  getShopList,\r\n  getBrandList,\r\n  getGiftList,\r\n  giftReserveByBonusPoint,\r\n} from \"../../utils/httpUtils\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport \"./Gift.css\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nfunction OrderPreview(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"order-preview\";\r\n  const { accessToken } = useUser();\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const [redeemObject, setRedeemObject] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [gift, setGift] = useState([]);\r\n  const [brandList, setBrandList] = useState([]);\r\n  const [shopList, setShopList] = useState([]);\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      // setLoading(true);\r\n      let tempRedeemObject = props.location.state\r\n        ? props.location.state.redeemObject\r\n        : JSON.parse(sessionStorage.getItem(\"redeemObject\"));\r\n      setRedeemObject(tempRedeemObject);\r\n\r\n      getGiftList({\r\n        rewardId: redeemObject.redeemGiftId,\r\n      }).then((response) => {\r\n        setGift(response.data.content.rewardList[0]);\r\n        let giftListResponse = response.data.content.rewardList[0];\r\n        getBrandList().then((response) => {\r\n          var tempList = response.data.content.mallList;\r\n          if (giftListResponse.mallId === 0) {\r\n            if (giftListResponse.reserveInMall) {\r\n              var reserveInMallList = giftListResponse.reserveInMall.mallId;\r\n              var filteredList = tempList.filter(function (a) {\r\n                for (let i = 0; i < reserveInMallList.length; i++) {\r\n                  if (reserveInMallList[i] === a.mallId) {\r\n                    return reserveInMallList[i] === a.mallId;\r\n                  }\r\n                }\r\n                return false;\r\n              });\r\n              setBrandList(filteredList);\r\n            } else {\r\n              setBrandList(tempList);\r\n            }\r\n          } else {\r\n            tempList = tempList.filter(function (a) {\r\n              return a.mallId === giftListResponse.mallId;\r\n            });\r\n            setBrandList(tempList);\r\n          }\r\n        });\r\n\r\n        getShopList({\r\n          mallId: redeemObject.redeemMallId,\r\n        }).then((response) => {\r\n          setShopList(response.data.content.shopList);\r\n        });\r\n\r\n        setLoading(false);\r\n      });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const getBrandName = (e) => {\r\n    let brandName = \"\";\r\n    let brandId = Number(e);\r\n    if (brandId === 0) {\r\n      brandName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < brandList.length; i++) {\r\n        if (brandList[i].mallId === brandId) {\r\n          switch (locale) {\r\n            case \"eng\":\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n            case \"tch\":\r\n              brandName = brandList[i].nameLang2;\r\n              break;\r\n            case \"sch\":\r\n              brandName = brandList[i].nameLang3;\r\n              break;\r\n            default:\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return brandName;\r\n  };\r\n\r\n  const getShopName = (e) => {\r\n    let shopName = \"\";\r\n    let shopId = Number(e);\r\n    if (shopId === 0) {\r\n      shopName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < shopList.length; i++) {\r\n        if (shopList[i].shopId === shopId) {\r\n          shopName = shopList[i].shopName;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return shopName;\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    setDisableSubmitBtn(true);\r\n    // giftReserveByBonusPoint(accessToken, {\r\n    //   mallId: redeemObject.redeemMallId,\r\n    //   rewardId: redeemObject.redeemGiftId,\r\n    //   qty: redeemObject.redeemGiftQty,\r\n    //   password: data.password,\r\n    //   shopId: redeemObject.redeemShop,\r\n    // }).then((response) => {\r\n    //   if (response.data.status === \"S000\") {\r\n    //     history.push({\r\n    //       pathname: \"/\" + locale + \"/redeem-success\",\r\n    //     });\r\n    //   } else {\r\n    //     redeemToast(response.data.message[0]);\r\n    //     setDisableSubmitBtn(false);\r\n    //   }\r\n    // });\r\n\r\n    history.push({\r\n      pathname: \"/\" + locale + \"/redeem-success\",\r\n    });\r\n    sessionStorage.removeItem(\"redeemObject\");\r\n  };\r\n\r\n  const pointReduced = (pts, qty) => {\r\n    return String(pts * qty);\r\n  };\r\n\r\n  const toastOptions = {\r\n    autoClose: 3000,\r\n    position: toast.POSITION.TOP_CENTER,\r\n    pauseOnHover: false,\r\n  };\r\n\r\n  const redeemToast = (message) => {\r\n    toast.info(message, toastOptions);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer pauseOnFocusLoss={false} />\r\n\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"order_preview\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"page-main\">\r\n          {loading && <Loading />}\r\n          <div className=\"container\">\r\n            <div className=\"order-preview-holder\">\r\n              <div className=\"order-image\">\r\n                <img\r\n                  src={gift.image ? gift.image : noImage}\r\n                  onError={handleErrorImg}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <div className=\"order-detail\">\r\n                {redeemObject.redeemGiftDetail !== null &&\r\n                  redeemObject.redeemGiftDetail !== \"\" && (\r\n                    <p>{redeemObject.redeemGiftDetail}</p>\r\n                  )}\r\n                <table className=\"order-detail-table\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"brand\" />\r\n                      </td>\r\n                      <td>{getBrandName(redeemObject.redeemMallId)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"shop\" />\r\n                      </td>\r\n                      <td>{getShopName(redeemObject.redeemShop)}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"quantity\" />\r\n                      </td>\r\n                      <td>{redeemObject.redeemGiftQty}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"gift_point\" />\r\n                      </td>\r\n                      <td>{redeemObject.redeemGiftPoint}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"point_reduced\" />\r\n                      </td>\r\n                      <td>\r\n                        {pointReduced(\r\n                          redeemObject.redeemGiftPoint,\r\n                          redeemObject.redeemGiftQty\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n                <div className=\"order-preview-line\"></div>\r\n\r\n                <p>\r\n                  <I18n t=\"order_preview_continue\" />\r\n                </p>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder={I18n.getTranslation(location, \"password\")}\r\n                    autoComplete=\"off\"\r\n                    className={`form-control ${\r\n                      errors.password?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                    ref={register({\r\n                      required: true,\r\n                      pattern: /[A-Za-z0-9]{8}/,\r\n                    })}\r\n                  />\r\n                  <div className=\"error-icon\"></div>\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.password?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"password_required\")}\r\n                  {errors.password?.type === \"pattern\" &&\r\n                    I18n.getTranslation(location, \"password_formt_required\")}\r\n                </div>\r\n\r\n                <div className=\"order-preview-footer-button\">\r\n                  <Link\r\n                    to={`/${locale}/gifts-detail/${redeemObject.redeemGiftId}`}\r\n                    className=\"btn-back\"\r\n                  ></Link>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-confirm uppercase\"\r\n                    disabled={disableSubmitBtn}\r\n                  >\r\n                    <I18n t=\"confirm\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default OrderPreview;\r\n","import React from \"react\";\r\nimport I18n from \"../../i18n\";\r\nimport ResultMessage from \"../../components/ResultMessage\";\r\nimport SuccessImg from \"../../assets/images/success.gif\";\r\nimport PageBgAnimation from \"../../components/PageBgAnimation\";\r\n\r\nfunction RedeemSuccess(props) {\r\n  const { location } = props;\r\n  document.body.className = \"result redeem-success\";\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <PageBgAnimation bgColor=\"#FFD428\" />\r\n      <ResultMessage\r\n        image={SuccessImg}\r\n        title={I18n.getTranslation(location, \"redeem_success_title\")}\r\n        content={I18n.getTranslation(location, \"redeem_success_content\")}\r\n        buttonText={I18n.getTranslation(\r\n          location,\r\n          \"redeem_success_button_text1\"\r\n        )}\r\n        buttonLink=\"gifts\"\r\n        buttonLink2=\"home\"\r\n        buttonText2={I18n.getTranslation(\r\n          location,\r\n          \"redeem_success_button_text2\"\r\n        )}\r\n        buttonCount={2}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default RedeemSuccess;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { useUser } from \"../../store/UseUser\";\r\nimport { getEventList } from \"../../utils/httpUtils\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport Nouislider from \"nouislider-react\";\r\nimport \"nouislider/distribute/nouislider.css\";\r\nimport wNumb from \"wnumb\";\r\nimport \"./Event.css\";\r\nimport imageNoGiftTicket from \"../../assets/images/no_gift_ticket.gif\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport Card from \"react-bootstrap/Card\";\r\nimport Accordion from \"react-bootstrap/Accordion\";\r\nimport { useAccordionToggle } from \"react-bootstrap/AccordionToggle\";\r\n\r\nfunction Event(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"event\";\r\n  // const { user } = useUser();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [eventList, setEventList] = useState([]);\r\n  const [originalEventList, setOriginEventList] = useState([]);\r\n  const [sorting, setSorting] = useState(2);\r\n  const [sortingText, setSortingText] = useState(\"points_high_to_low\");\r\n  const [showSorting, setShowSorting] = useState(false);\r\n  const [showFilter, setShowFilter] = useState(false);\r\n  const [eventFiltered, setEventFiltered] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      getEventList()\r\n        .then((response) => {\r\n          let tempEventList = response.data.content.eventList;\r\n          // Default get sorting Points high to low\r\n          tempEventList = tempEventList.sort(function (a, b) {\r\n            return b.bonusPointRequired - a.bonusPointRequired;\r\n          });\r\n          setEventList(tempEventList);\r\n          setOriginEventList(tempEventList);\r\n          setLoading(false);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const toggleSorting = (e) => {\r\n    e.preventDefault();\r\n    setShowSorting(!showSorting);\r\n    setShowFilter(false);\r\n  };\r\n\r\n  const toggleFilter = (e) => {\r\n    e.preventDefault();\r\n    setShowSorting(false);\r\n    setShowFilter(!showFilter);\r\n  };\r\n\r\n  const toggleCloseOverlay = () => {\r\n    setShowSorting(false);\r\n    setShowFilter(false);\r\n  };\r\n\r\n  const getSortingData = (sortingVal, sortingTextVal) => {\r\n    let tempEventList = eventList;\r\n\r\n    if (sortingVal === 0) {\r\n      // Sorting: Newest && by display order\r\n      tempEventList = tempEventList.sort((a, b) =>\r\n        a.onlineDate < b.onlineDate ? 1 : b.onlineDate < a.onlineDate ? -1 : 0\r\n      );\r\n    } else if (sortingVal === 1) {\r\n      // Sorting: Points low to high\r\n      tempEventList = tempEventList.sort(function (a, b) {\r\n        return a.bonusPointRequired - b.bonusPointRequired;\r\n      });\r\n    } else if (sortingVal === 2) {\r\n      // Sorting: Points high to low\r\n      tempEventList = tempEventList.sort(function (a, b) {\r\n        return b.bonusPointRequired - a.bonusPointRequired;\r\n      });\r\n    }\r\n\r\n    setEventList(tempEventList);\r\n    setSorting(sortingVal);\r\n    setSortingText(sortingTextVal);\r\n    toggleCloseOverlay();\r\n  };\r\n\r\n  const CustomToggle = ({ children, eventKey, active }) => {\r\n    const [condition, setCondition] = useState(active);\r\n    const customOnClick = useAccordionToggle(eventKey, () => {\r\n      setCondition(!condition);\r\n    });\r\n    return (\r\n      <div\r\n        onClick={customOnClick}\r\n        className={`card-header ${condition ? \"show\" : \"\"}`}\r\n      >\r\n        {children}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const sliderConfig = {\r\n    start: [0, 1000],\r\n    step: 1,\r\n    connect: true,\r\n    range: {\r\n      min: 0,\r\n      \"30%\": 300,\r\n      \"60%\": 500,\r\n      max: 1000,\r\n    },\r\n    pips: {\r\n      mode: \"range\",\r\n      density: 5,\r\n    },\r\n  };\r\n\r\n  const tooltips = [wNumb({ decimals: 0 }), wNumb({ decimals: 0 })];\r\n\r\n  const [rangeSliderRef, setRangeSliderRef] = useState(null);\r\n  const onRangeSliderRefUpdate = () => {\r\n    rangeSliderRef.noUiSlider.updateOptions({\r\n      tooltips: tooltips,\r\n    });\r\n  };\r\n  const [pointsRangeMinValue, setPointsRangeMinValue] = useState(\"0\");\r\n  const [pointsRangeMaxValue, setPointsRangeMaxValue] = useState(\"1000\");\r\n  const onRangeUpdate = (values) => {\r\n    setPointsRangeMinValue(parseFloat(values[0]).toFixed(0));\r\n    setPointsRangeMaxValue(parseFloat(values[1]).toFixed(0));\r\n  };\r\n\r\n  if (rangeSliderRef) {\r\n    onRangeSliderRefUpdate();\r\n  }\r\n\r\n  const resetFilteredList = () => {\r\n    setEventFiltered(false);\r\n    setPointsRangeMinValue(sliderConfig.range.min);\r\n    setPointsRangeMaxValue(sliderConfig.range.max);\r\n    rangeSliderRef.noUiSlider.set(sliderConfig.start);\r\n    setEventList(originalEventList);\r\n    toggleCloseOverlay();\r\n    resetAccordion();\r\n  };\r\n\r\n  const resetAccordion = useAccordionToggle(\"1\", () => {});\r\n\r\n  const getFilteredList = () => {\r\n    setEventFiltered(true);\r\n    var filteredList = originalEventList;\r\n\r\n    // Range filter\r\n    if (pointsRangeMinValue !== null && pointsRangeMaxValue !== null) {\r\n      filteredList = filteredList.filter(function (s) {\r\n        let pointsBalance = parseInt(s.bonusPointRequired);\r\n        if (\r\n          pointsBalance >= parseInt(pointsRangeMinValue) &&\r\n          pointsBalance <= parseInt(pointsRangeMaxValue)\r\n        ) {\r\n          return (\r\n            pointsBalance >= parseInt(pointsRangeMinValue) &&\r\n            pointsBalance <= parseInt(pointsRangeMaxValue)\r\n          );\r\n        }\r\n        return false;\r\n      });\r\n    }\r\n\r\n    setEventList(filteredList);\r\n    toggleCloseOverlay();\r\n  };\r\n\r\n  const getEventQuota = (sessionList) => {\r\n    if (sessionList) {\r\n      let quota = 0;\r\n      // let offlineQuota = 0;\r\n\r\n      for (let i = 0; i < sessionList.length; i++) {\r\n        quota += sessionList[i].quota;\r\n        // offlineQuota += sessionList[i].offlineQuota;\r\n      }\r\n\r\n      let totalQuota = quota;\r\n      return totalQuota;\r\n    }\r\n  };\r\n\r\n  const getEventRemainQuota = (sessionList) => {\r\n    if (sessionList) {\r\n      let remainQuota = 0;\r\n      // let remainOfflineQuota = 0;\r\n\r\n      for (let i = 0; i < sessionList.length; i++) {\r\n        remainQuota += sessionList[i].remainQuota;\r\n        // remainOfflineQuota += sessionList[i].remainOfflineQuota;\r\n      }\r\n\r\n      let totalRemainQuota = remainQuota;\r\n      return totalRemainQuota;\r\n    }\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-tab\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"page-tab-holder\">\r\n            <div className=\"container\">\r\n              <ul className=\"page-tab-item\">\r\n                <li className=\"active\">\r\n                  <Link to=\"#\">\r\n                    <I18n t=\"ticket\" />\r\n                  </Link>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-nav\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-12\">\r\n              <div className=\"list-sorting\">\r\n                <Link\r\n                  className={`btn-toggle-sorting ${\r\n                    showSorting ? \"collapsed\" : \"\"\r\n                  }`}\r\n                  to=\"#\"\r\n                  onClick={toggleSorting}\r\n                >\r\n                  <I18n t={sortingText} />\r\n                </Link>\r\n\r\n                <div\r\n                  className={`list-sorting-panel ${\r\n                    showSorting === true ? \"show\" : \"\"\r\n                  }`}\r\n                >\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"sorting\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"0\"\r\n                      id=\"newest\"\r\n                      onChange={() => getSortingData(0, \"newest\")}\r\n                      checked={sorting === 0}\r\n                    />\r\n                    <label className=\"custom-control-label\" htmlFor=\"newest\">\r\n                      <I18n t=\"newest\" />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"sorting\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"1\"\r\n                      id=\"pointsLowToHigh\"\r\n                      onChange={() => getSortingData(1, \"points_low_to_high\")}\r\n                      checked={sorting === 1}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"pointsLowToHigh\"\r\n                    >\r\n                      <I18n t=\"points_low_to_high\" />\r\n                    </label>\r\n                  </div>\r\n\r\n                  <div className=\"custom-control custom-radio\">\r\n                    <input\r\n                      type=\"radio\"\r\n                      name=\"sorting\"\r\n                      className=\"custom-control-input\"\r\n                      value=\"2\"\r\n                      id=\"pointsHighToLow\"\r\n                      onChange={() => getSortingData(2, \"points_high_to_low\")}\r\n                      checked={sorting === 2}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"pointsHighToLow\"\r\n                    >\r\n                      <I18n t=\"points_high_to_low\" />\r\n                    </label>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"list-filter\">\r\n                <Link\r\n                  className={`btn-toggle-filter ${\r\n                    eventFiltered === true ? \"filtered\" : \"\"\r\n                  }`}\r\n                  to=\"#\"\r\n                  onClick={toggleFilter}\r\n                ></Link>\r\n              </div>\r\n\r\n              <div\r\n                className={`list-filter-panel ${\r\n                  showFilter === true ? \"show\" : \"\"\r\n                }`}\r\n              >\r\n                <Accordion defaultActiveKey=\"0\">\r\n                  <Card>\r\n                    <CustomToggle eventKey=\"0\" active={true}>\r\n                      <I18n t=\"points_range\" />\r\n                    </CustomToggle>\r\n                    <Accordion.Collapse eventKey=\"0\">\r\n                      <Card.Body>\r\n                        <div className=\"form-input form-range-input\">\r\n                          <div id=\"slider\">\r\n                            <>\r\n                              <Nouislider\r\n                                instanceRef={(instance) => {\r\n                                  if (instance) {\r\n                                    setRangeSliderRef(instance);\r\n                                  }\r\n                                }}\r\n                                start={sliderConfig.start}\r\n                                step={sliderConfig.step}\r\n                                pips={sliderConfig.pips}\r\n                                connect={sliderConfig.connect}\r\n                                range={sliderConfig.range}\r\n                                tooltips={tooltips}\r\n                                onSlide={onRangeUpdate}\r\n                              />\r\n                              {pointsRangeMinValue && (\r\n                                <input\r\n                                  type=\"hidden\"\r\n                                  name=\"pointsRangeMin\"\r\n                                  value={pointsRangeMinValue}\r\n                                />\r\n                              )}\r\n                              {pointsRangeMaxValue && (\r\n                                <input\r\n                                  type=\"hidden\"\r\n                                  name=\"pointsRangeMax\"\r\n                                  value={pointsRangeMaxValue}\r\n                                />\r\n                              )}\r\n                            </>\r\n                          </div>\r\n                        </div>\r\n                      </Card.Body>\r\n                    </Accordion.Collapse>\r\n                  </Card>\r\n                </Accordion>\r\n\r\n                <div className=\"filter-button\">\r\n                  <button\r\n                    className=\"btn btn-reset uppercase\"\r\n                    onClick={resetFilteredList}\r\n                  >\r\n                    <I18n t=\"reset\" />\r\n                  </button>\r\n                  <button\r\n                    className=\"btn btn-apply uppercase\"\r\n                    onClick={getFilteredList}\r\n                  >\r\n                    <I18n t=\"apply\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        {loading && <Loading />}\r\n        <div\r\n          className={`filter-overlay ${\r\n            showSorting === true || showFilter === true ? \"show\" : \"\"\r\n          }`}\r\n          onClick={toggleCloseOverlay}\r\n        ></div>\r\n\r\n        <div className=\"container\" id=\"event-list\">\r\n          {eventList.length === 0 && (\r\n            <div className=\"row\">\r\n              <div className=\"col-12\">\r\n                <div className=\"no-event\">\r\n                  <img src={imageNoGiftTicket} alt=\"\" />\r\n                  <br />\r\n                  <span>\r\n                    <I18n t=\"no_event_found\" />\r\n                  </span>\r\n                  <span>\r\n                    <I18n t=\"please_stay_tuned\" />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {eventList.length > 0 && (\r\n            <div className=\"row\">\r\n              {Object.keys(eventList).map((item) => {\r\n                return (\r\n                  <div\r\n                    className=\"col-6 col-md-3 col-lg-3 event-item\"\r\n                    key={eventList[item].eventId}\r\n                  >\r\n                    <div className=\"event-image\">\r\n                      <div className=\"event-inventory\">\r\n                        <span>\r\n                          {getEventRemainQuota(\r\n                            eventList[item].eventSessionList\r\n                          )}\r\n                        </span>{\" \"}\r\n                        /{\" \"}\r\n                        <I18n\r\n                          t=\"quotaLeft\"\r\n                          args={{\r\n                            value: getEventQuota(\r\n                              eventList[item].eventSessionList\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </div>\r\n\r\n                      <Link to={`events-detail/` + eventList[item].eventId}>\r\n                        <img\r\n                          src={\r\n                            eventList[item].image\r\n                              ? eventList[item].image\r\n                              : noImage\r\n                          }\r\n                          onError={handleErrorImg}\r\n                          alt=\"\"\r\n                        />\r\n                      </Link>\r\n                    </div>\r\n                    <div className=\"event-intro\">\r\n                      <h3 className=\"event-point\">\r\n                        {eventList[item].name} -{\" \"}\r\n                        <I18n\r\n                          t=\"pts\"\r\n                          args={{\r\n                            points: eventList[item].bonusPointRequired,\r\n                          }}\r\n                        />\r\n                      </h3>\r\n                      <p className=\"event-desc\">\r\n                        <span\r\n                          dangerouslySetInnerHTML={{\r\n                            __html: eventList[item].description,\r\n                          }}\r\n                        ></span>\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Event;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { useUser } from \"../../store/UseUser\";\r\nimport { getEventList } from \"../../utils/httpUtils\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport \"./Event.css\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport Slider from \"react-slick\";\r\nimport \"../../assets/css/slick.css\";\r\nimport \"../../assets/css/slick-theme.css\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/zh-hk\";\r\nimport \"moment/locale/zh-cn\";\r\n\r\nfunction EventDetail(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"event-detail\";\r\n  // const { accessToken } = useUser();\r\n  let history = useHistory();\r\n  let eventId = props.match.params.eventId;\r\n  if (!eventId) {\r\n    history.push(\"/\" + locale + \"/events\");\r\n  }\r\n\r\n  if (locale === \"tch\") {\r\n    moment.locale(\"zh-hk\");\r\n  } else if (locale === \"sch\") {\r\n    moment.locale(\"zh-cn\");\r\n  } else if (locale === \"eng\") {\r\n    moment.locale(\"en\");\r\n  }\r\n\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const [loading, setLoading] = useState(true);\r\n  const [event, setEvent] = useState([]);\r\n  const [eventSelectedSession, setEventSelectedSession] = useState(null);\r\n  const [qty, SetQty] = useState(1);\r\n  const imageSliderSettings = {\r\n    dots: false,\r\n    infinite: false,\r\n    speed: 500,\r\n    slidesToShow: 1,\r\n    slidesToScroll: 1,\r\n    centerMode: false,\r\n  };\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      getEventList({\r\n        eventId: eventId,\r\n      })\r\n        .then((response) => {\r\n          let tempEvent = response.data.content.eventList;\r\n          tempEvent = tempEvent.filter(function (i) {\r\n            return i.eventId === Number(eventId);\r\n          });\r\n          setEvent(tempEvent[0]);\r\n          setLoading(false);\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const getEventRemainQuota = (sessionList) => {\r\n    if (sessionList) {\r\n      let remainQuota = 0;\r\n      // let remainOfflineQuota = 0;\r\n\r\n      for (let i = 0; i < sessionList.length; i++) {\r\n        if (sessionList[i].eventSessionId === Number(eventSelectedSession)) {\r\n          remainQuota += sessionList[i].remainQuota;\r\n          // remainOfflineQuota += sessionList[i].remainOfflineQuota;\r\n          break;\r\n        }\r\n      }\r\n\r\n      let totalRemainQuota = remainQuota;\r\n      return totalRemainQuota;\r\n    }\r\n  };\r\n\r\n  const getEventQuota = (sessionList) => {\r\n    if (sessionList) {\r\n      let quota = 0;\r\n      // let offlineQuota = 0;\r\n\r\n      for (let i = 0; i < sessionList.length; i++) {\r\n        if (sessionList[i].eventSessionId === Number(eventSelectedSession)) {\r\n          quota += sessionList[i].quota;\r\n          // offlineQuota += sessionList[i].offlineQuota;\r\n          break;\r\n        }\r\n      }\r\n\r\n      let totalQuota = quota;\r\n      return totalQuota;\r\n    }\r\n  };\r\n\r\n  const getEventSessionDateTime = (startTime, endTime) => {\r\n    let eventSessionDate = moment(startTime).format(\"YYYY-MM-DD\");\r\n    let eventSessionDay = moment(startTime).format(\"ddd\");\r\n    let eventSessionStartTime = moment(startTime).format(\"HH:mm\");\r\n    let eventSessionEndTime = moment(endTime).format(\"HH:mm\");\r\n    return (\r\n      eventSessionDate +\r\n      \" (\" +\r\n      eventSessionDay +\r\n      \") \" +\r\n      eventSessionStartTime +\r\n      \" - \" +\r\n      eventSessionEndTime\r\n    );\r\n  };\r\n\r\n  const handleEventSelectedChange = (e) => {\r\n    setEventSelectedSession(e.target.value);\r\n  };\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  const increaseEnrollCount = () => {\r\n    let temp = qty;\r\n    temp++;\r\n    SetQty(temp);\r\n  };\r\n\r\n  const decreaseEnrollCount = () => {\r\n    if (qty > 1) {\r\n      let temp = qty;\r\n      temp--;\r\n      SetQty(temp);\r\n    }\r\n  };\r\n\r\n  const handleQtyChange = (e) => {\r\n    SetQty(e.target.value);\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    setDisableSubmitBtn(true);\r\n\r\n    var enrollObject = {\r\n      eventId: eventId,\r\n      eventEnrollQty: qty,\r\n      eventSelectedSession: eventSelectedSession,\r\n      eventBonusPointRequired: event.bonusPointRequired,\r\n    };\r\n\r\n    sessionStorage.setItem(\"enrollObject\", JSON.stringify(enrollObject));\r\n\r\n    history.push({\r\n      pathname: \"/\" + locale + \"/event-order-preview\",\r\n      state: { enrollObject: enrollObject },\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-intro\">\r\n        <div className=\"container-fluid\">\r\n          <div className=\"container\">\r\n            <span className=\"event-name\">{event.name}</span>\r\n            <span className=\"event-pts\">\r\n              <span>\r\n                <I18n\r\n                  t=\"pts\"\r\n                  args={{\r\n                    points: event.bonusPointRequired,\r\n                  }}\r\n                />\r\n              </span>\r\n            </span>\r\n            <div className=\"event-top-info\">\r\n              {eventSelectedSession && (\r\n                <div className=\"event-inventory\">\r\n                  {getEventRemainQuota(event.eventSessionList)} /{\" \"}\r\n                  <I18n\r\n                    t=\"quotaLeft\"\r\n                    args={{\r\n                      value: getEventQuota(event.eventSessionList),\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"page-main\">\r\n          {loading && <Loading />}\r\n          <div className=\"container\">\r\n            {event !== null && (\r\n              <>\r\n                <select\r\n                  id=\"eventSelectedSession\"\r\n                  name=\"eventSelectedSession\"\r\n                  className=\"custom-select\"\r\n                  ref={register({ required: true })}\r\n                  onChange={handleEventSelectedChange}\r\n                >\r\n                  <option value=\"\">\r\n                    {I18n.getTranslation(\r\n                      location,\r\n                      \"please_select_event_time_slot\"\r\n                    )}\r\n                  </option>\r\n                  {event.eventSessionList &&\r\n                    Object.keys(event.eventSessionList).map((item) => {\r\n                      return (\r\n                        <option\r\n                          value={event.eventSessionList[item].eventSessionId}\r\n                          key={item}\r\n                        >\r\n                          {getEventSessionDateTime(\r\n                            event.eventSessionList[item].startTime,\r\n                            event.eventSessionList[item].endTime\r\n                          )}\r\n                        </option>\r\n                      );\r\n                    })}\r\n                </select>\r\n                <div className=\"message\">\r\n                  {errors.eventSelectedSession?.type === \"required\" &&\r\n                    I18n.getTranslation(\r\n                      location,\r\n                      \"please_select_event_time_slot\"\r\n                    )}\r\n                </div>\r\n              </>\r\n            )}\r\n\r\n            <div className=\"event-images\">\r\n              <Slider {...imageSliderSettings}>\r\n                <div className=\"item\">\r\n                  <img\r\n                    src={event.image ? event.image : noImage}\r\n                    onError={handleErrorImg}\r\n                    alt=\"\"\r\n                  />\r\n                </div>\r\n              </Slider>\r\n            </div>\r\n\r\n            {event.description && (\r\n              <div className=\"event-detail\">\r\n                <h3>\r\n                  <I18n t=\"detail\" />\r\n                </h3>\r\n                <p\r\n                  dangerouslySetInnerHTML={{\r\n                    __html: event.description,\r\n                  }}\r\n                ></p>\r\n              </div>\r\n            )}\r\n\r\n            {event.tnc && (\r\n              <>\r\n                <hr />\r\n                <div className=\"event-terms\">\r\n                  <h3>\r\n                    <I18n t=\"terms_and_conditions\" />\r\n                  </h3>\r\n                  <p\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: event.tnc,\r\n                    }}\r\n                  ></p>\r\n                </div>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {eventSelectedSession && (\r\n          <div className=\"page-bottom\">\r\n            <div className=\"container-fluid\">\r\n              <div className=\"container\">\r\n                <div className=\"enroll-count-input\">\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-enroll-control btn-plus btn-secondary\"\r\n                    onClick={increaseEnrollCount}\r\n                  ></button>\r\n                  <input\r\n                    type=\"number\"\r\n                    className=\"enroll-count form-control\"\r\n                    name=\"qty\"\r\n                    value={qty}\r\n                    onChange={handleQtyChange}\r\n                    ref={register({ required: true, min: 1 })}\r\n                  />\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-enroll-control btn-minus btn-secondary\"\r\n                    onClick={decreaseEnrollCount}\r\n                  ></button>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-enroll uppercase btn-secondary\"\r\n                    disabled={disableSubmitBtn}\r\n                  >\r\n                    <I18n t=\"enroll\" />\r\n                  </button>\r\n                </div>\r\n                <div className=\"message text-center\">\r\n                  <br />\r\n                  {errors.qty &&\r\n                    I18n.getTranslation(location, \"min_number_of_gift\")}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </form>\r\n\r\n      <div className=\"page-black\">\r\n        <Link to={`/${locale}/events`} className=\"btn-back\"></Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EventDetail;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport { getEventList, enroll } from \"../../utils/httpUtils\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport \"./Event.css\";\r\nimport noImage from \"../../assets/images/sample/noimage.png\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { ToastContainer, toast } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport moment from \"moment\";\r\nimport \"moment/locale/zh-hk\";\r\nimport \"moment/locale/zh-cn\";\r\n\r\nfunction EventOrderPreview(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"order-preview\";\r\n  const { accessToken } = useUser();\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const [enrollObject, setEnrollObject] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [event, setEvent] = useState([]);\r\n  const [eventDate, setEventDate] = useState(null);\r\n  const [eventTime, setEventTime] = useState(null);\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      let tempEventObject = props.location.state\r\n        ? props.location.state.enrollObject\r\n        : JSON.parse(sessionStorage.getItem(\"enrollObject\"));\r\n      setEnrollObject(tempEventObject);\r\n\r\n      getEventList({\r\n        eventId: tempEventObject.eventId,\r\n      }).then((response) => {\r\n        let tempEvent = response.data.content.eventList.filter(function (e) {\r\n          return e.eventId === Number(tempEventObject.eventId);\r\n        });\r\n        setEvent(tempEvent[0]);\r\n        setLoading(false);\r\n        getSelectedEventSession(\r\n          tempEvent[0].eventSessionList,\r\n          tempEventObject.eventSelectedSession\r\n        );\r\n      });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const handleErrorImg = (e) => {\r\n    e.target.src = noImage;\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    setDisableSubmitBtn(true);\r\n    enroll(accessToken, {\r\n      sessionId: enrollObject.eventSelectedSession,\r\n      qty: enrollObject.eventEnrollQty,\r\n      password: data.password,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        history.push({\r\n          pathname: \"/\" + locale + \"/enroll-success\",\r\n        });\r\n      } else {\r\n        enrollToast(response.data.message[0]);\r\n        setDisableSubmitBtn(false);\r\n      }\r\n    });\r\n    sessionStorage.removeItem(\"enrollObject\");\r\n  };\r\n\r\n  const pointReduced = (pts, qty) => {\r\n    return String(pts * qty);\r\n  };\r\n\r\n  const toastOptions = {\r\n    autoClose: 3000,\r\n    position: toast.POSITION.TOP_CENTER,\r\n    pauseOnHover: false,\r\n  };\r\n\r\n  const enrollToast = (message) => {\r\n    toast.info(message, toastOptions);\r\n  };\r\n\r\n  const getSelectedEventSession = (eventSessionList, eventSessionId) => {\r\n    let eventSelectedSessionList = eventSessionList.filter(function (i) {\r\n      return i.eventSessionId === Number(eventSessionId);\r\n    });\r\n    getEventSessionDateTime(\r\n      eventSelectedSessionList[0].startTime,\r\n      eventSelectedSessionList[0].endTime\r\n    );\r\n  };\r\n\r\n  const getEventSessionDateTime = (startTime, endTime) => {\r\n    let eventSessionDate = moment(startTime).format(\"YYYY-MM-DD\");\r\n    let eventSessionDay = moment(startTime).format(\"ddd\");\r\n    let eventSessionStartTime = moment(startTime).format(\"HH:mm\");\r\n    let eventSessionEndTime = moment(endTime).format(\"HH:mm\");\r\n    setEventDate(eventSessionDate + \" (\" + eventSessionDay + \")\");\r\n    setEventTime(eventSessionStartTime + \" - \" + eventSessionEndTime);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <ToastContainer pauseOnFocusLoss={false} />\r\n\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"order_preview\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n        <div className=\"page-main\">\r\n          {loading && <Loading />}\r\n          <div className=\"container\">\r\n            <div className=\"order-preview-holder\">\r\n              <div className=\"order-image\">\r\n                <img\r\n                  src={event.image ? event.image : noImage}\r\n                  onError={handleErrorImg}\r\n                  alt=\"\"\r\n                />\r\n              </div>\r\n              <div className=\"order-detail\">\r\n                <h5>\r\n                  <strong>{event.name}</strong>\r\n                </h5>\r\n                {event.description !== null && event.description !== \"\" && (\r\n                  <p\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: event.description,\r\n                    }}\r\n                  ></p>\r\n                )}\r\n                <table className=\"order-detail-table\">\r\n                  <tbody>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"event_date\" />\r\n                      </td>\r\n                      <td>{eventDate}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"event_time\" />\r\n                      </td>\r\n                      <td>{eventTime}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"quantity\" />\r\n                      </td>\r\n                      <td>{enrollObject.eventEnrollQty}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"points\" />\r\n                      </td>\r\n                      <td>{event.bonusPointRequired}</td>\r\n                    </tr>\r\n                    <tr>\r\n                      <td>\r\n                        <I18n t=\"point_reduced\" />\r\n                      </td>\r\n                      <td>\r\n                        {pointReduced(\r\n                          event.bonusPointRequired,\r\n                          enrollObject.eventEnrollQty\r\n                        )}\r\n                      </td>\r\n                    </tr>\r\n                  </tbody>\r\n                </table>\r\n\r\n                <div className=\"order-preview-line\"></div>\r\n\r\n                <p>\r\n                  <I18n t=\"event_order_preview_continue\" />\r\n                </p>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    placeholder={I18n.getTranslation(location, \"password\")}\r\n                    autoComplete=\"off\"\r\n                    className={`form-control ${\r\n                      errors.password?.type === \"required\" ? \"error\" : \"\"\r\n                    }`}\r\n                    ref={register({\r\n                      required: true,\r\n                      pattern: /[A-Za-z0-9]{8}/,\r\n                    })}\r\n                  />\r\n                  <div className=\"error-icon\"></div>\r\n                </div>\r\n                <div className=\"message\">\r\n                  {errors.password?.type === \"required\" &&\r\n                    I18n.getTranslation(location, \"password_required\")}\r\n                  {errors.password?.type === \"pattern\" &&\r\n                    I18n.getTranslation(location, \"password_formt_required\")}\r\n                </div>\r\n\r\n                <div className=\"order-preview-footer-button\">\r\n                  <Link\r\n                    to={`/${locale}/events-detail/${enrollObject.eventId}`}\r\n                    className=\"btn-back\"\r\n                  ></Link>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-confirm uppercase\"\r\n                    disabled={disableSubmitBtn}\r\n                  >\r\n                    <I18n t=\"confirm\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EventOrderPreview;\r\n","import React from \"react\";\r\nimport I18n from \"../../i18n\";\r\nimport ResultMessage from \"../../components/ResultMessage\";\r\nimport SuccessImg from \"../../assets/images/success.gif\";\r\nimport PageBgAnimation from \"../../components/PageBgAnimation\";\r\n\r\nfunction EnrollSuccess(props) {\r\n  const { location } = props;\r\n  document.body.className = \"result enroll-success\";\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <PageBgAnimation bgColor=\"#FFD428\" />\r\n      <ResultMessage\r\n        image={SuccessImg}\r\n        title={I18n.getTranslation(location, \"enroll_success_title\")}\r\n        content={I18n.getTranslation(location, \"enroll_success_content\")}\r\n        buttonText={I18n.getTranslation(\r\n          location,\r\n          \"enroll_success_button_text1\"\r\n        )}\r\n        buttonLink=\"events\"\r\n        buttonLink2=\"home\"\r\n        buttonText2={I18n.getTranslation(\r\n          location,\r\n          \"enroll_success_button_text2\"\r\n        )}\r\n        buttonCount={2}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EnrollSuccess;\r\n","import React, { useState } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport { receiptUpload } from \"../../utils/httpUtils\";\r\nimport LoadingLogo from \"../../assets/images/meLogo.svg\";\r\nimport QrReader from \"react-qr-reader\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Scan(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"qr-code-scan\";\r\n  const { accessToken } = useUser();\r\n  let history = useHistory();\r\n\r\n  const [result, setResult] = useState(null);\r\n  const [error, setError] = useState(false);\r\n\r\n  const handleScan = (data) => {\r\n    if (data) {\r\n      setResult(data);\r\n      let receiptList = [];\r\n      // mallId|invoiceNo|transactionDate|shopId|paymentTypeId|productId|amount|...|productId|amount\r\n      // 14|INV10001|2020-10-16|1000001|1|GG5238075103753|100|GG5238075103755|500\r\n      let qrCodeResult = atob(result).split(\"|\");\r\n      let mallId = Number(qrCodeResult[0]);\r\n      let transactionDate = qrCodeResult[2];\r\n      for (let i = 6; i < qrCodeResult.length; i++) {\r\n        let item = {};\r\n        if (i % 2 === 0) {\r\n          item[\"invoiceNo\"] = qrCodeResult[1];\r\n          item[\"paymentTypeId\"] = Number(qrCodeResult[4]);\r\n          item[\"shopId\"] = Number(qrCodeResult[3]);\r\n          item[\"productId\"] = qrCodeResult[i - 1];\r\n          item[\"amount\"] = Number(qrCodeResult[i]);\r\n          receiptList.push(item);\r\n        }\r\n      }\r\n\r\n      if (receiptList.length) {\r\n        //alert(JSON.stringify(receiptList));\r\n        submitReceiptUpload(mallId, transactionDate, receiptList);\r\n      }\r\n    }\r\n  };\r\n\r\n  const submitReceiptUpload = (mallId, transactionDate, receiptList) => {\r\n    receiptUpload(accessToken, {\r\n      mallId: mallId,\r\n      transactionDate: transactionDate,\r\n      receiptList: receiptList,\r\n    }).then((response) => {\r\n      if (response.data.status === \"S000\") {\r\n        history.push({\r\n          pathname: \"/\" + locale + \"/earn-points-review\",\r\n          state: { responseJson: response.data.content.submittedTransaction },\r\n        });\r\n      } else {\r\n        history.push({\r\n          pathname: \"/\" + locale + \"/earn-points-failed\",\r\n          state: { response: response },\r\n        });\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleError = (err) => {\r\n    if (err) {\r\n      setError(true);\r\n      history.push(\"/\" + locale + \"/home\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {error && (\r\n        <div className=\"message error\">\r\n          <div className=\"page-loader\" id=\"page-loader\">\r\n            <img src={LoadingLogo} alt=\"\" />\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"fullscreen\">\r\n        <QrReader\r\n          delay={300}\r\n          facingMode=\"environment\"\r\n          onError={handleError}\r\n          onScan={handleScan}\r\n          style={{ width: \"100%\" }}\r\n        />\r\n        <p>{result}</p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Scan;\r\n","import React, { useState, useEffect } from \"react\";\r\n// import { useUser } from \"../../store/UseUser\";\r\nimport { getShopList, getBrandList } from \"../../utils/httpUtils\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport \"./EarnPoints.css\";\r\nimport moment from \"moment\";\r\n\r\nfunction EarnPointsReview(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"earn-points-review\";\r\n  // const { accessToken } = useUser();\r\n  const [loading, setLoading] = useState(true);\r\n  const [responseJson, setResponseJson] = useState(null);\r\n  const [shopList, setShopList] = useState([]);\r\n  const [brandList, setBrandList] = useState([]);\r\n  let history = useHistory();\r\n\r\n  //   let tempResponseJson = props.location.state\r\n  //     ? props.location.state.responseJson\r\n  //     : JSON.parse(sessionStorage.getItem(\"responseJson\"));\r\n\r\n  let tempResponseJson = [\r\n    {\r\n      spendingTransactionId: \"ST6751776560936\",\r\n      mallId: 14,\r\n      mallLogo: null,\r\n      memberId: \"ME0000001\",\r\n      amount: 200.0,\r\n      earnedPoints: null,\r\n      type: \"B\",\r\n      matchedRulesJson: null,\r\n      receiptImage: null,\r\n      electronicReceiptImage: null,\r\n      rejectReasonId: null,\r\n      rejectReasonName: \"\",\r\n      remark: null,\r\n      otherRemark: null,\r\n      approvalDate: null,\r\n      status: \"W\",\r\n      createDate: \"2019-12-16 17:36:27\",\r\n      receiptList: [\r\n        {\r\n          receiptId: 9214704,\r\n          mallId: 14,\r\n          amount: 200.0,\r\n          shopId: 1000001,\r\n          shopName: \"This is Shop1 from Brand 14\",\r\n          invoiceNo: \"Mdcdc4316-a79e-4a6d-a240-8949391c0579\",\r\n          paymentTypeId: null,\r\n          paymentTypeName: \"\",\r\n          receiptDate: \"2019-12-16 00:00:00\",\r\n          status: \"W\",\r\n          createDate: \"2019-12-16 17:36:27\",\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n\r\n      if (!tempResponseJson) {\r\n        history.push(\"/\" + locale + \"/qrcode/scan\");\r\n      } else {\r\n        setResponseJson(tempResponseJson[0]);\r\n      }\r\n\r\n      getBrandList()\r\n        .then((response) => {\r\n          setBrandList(response.data.content.mallList);\r\n\r\n          if (tempResponseJson) {\r\n            getShopList({\r\n              mallId: tempResponseJson.mallId,\r\n            }).then((response) => {\r\n              setShopList(response.data.content.shopList);\r\n              setLoading(false);\r\n            });\r\n          }\r\n        })\r\n        .catch(function (error) {\r\n          // eslint-disable-next-line no-console\r\n          console.log(error);\r\n        });\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const dateFormat = (date) => {\r\n    return moment(date).format(\"YYYY-MM-DD\");\r\n  };\r\n\r\n  const getBrandName = (e) => {\r\n    let brandName = \"\";\r\n    let brandId = Number(e);\r\n    if (brandId === 0) {\r\n      brandName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < brandList.length; i++) {\r\n        if (brandList[i].mallId === brandId) {\r\n          switch (locale) {\r\n            case \"eng\":\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n            case \"tch\":\r\n              brandName = brandList[i].nameLang2;\r\n              break;\r\n            case \"sch\":\r\n              brandName = brandList[i].nameLang3;\r\n              break;\r\n            default:\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return brandName;\r\n  };\r\n\r\n  const getShopName = (e) => {\r\n    let shopName = \"\";\r\n    let shopId = Number(e);\r\n    if (shopId === 0) {\r\n      shopName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < shopList.length; i++) {\r\n        if (shopList[i].shopId === shopId) {\r\n          shopName = shopList[i].shopName;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return shopName;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"earn_points_review\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        {loading && <Loading />}\r\n        {responseJson !== null && (\r\n          <div className=\"container\">\r\n            <div className=\"earn-points-review-holder\">\r\n              <table className=\"order-detail-table\">\r\n                <tbody>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"brand\" />\r\n                    </td>\r\n                    <td>{getBrandName(responseJson.mallId)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"shop\" />\r\n                    </td>\r\n                    <td>{getShopName(responseJson.receiptList[0].shopId)}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"date_of_purchase\" />\r\n                    </td>\r\n                    <td>\r\n                      {dateFormat(responseJson.receiptList[0].receiptDate)}\r\n                    </td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"amount_hkd\" />\r\n                    </td>\r\n                    <td>{responseJson.amount}</td>\r\n                  </tr>\r\n                  <tr>\r\n                    <td>\r\n                      <I18n t=\"earn_points_title\" />\r\n                    </td>\r\n                    <td>\r\n                      <span className=\"points-color\">\r\n                        {responseJson.earnedPoints\r\n                          ? responseJson.earnedPoints\r\n                          : 0}\r\n                      </span>\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n\r\n              <br />\r\n\r\n              <div className=\"terms\">\r\n                <I18n t=\"terms_and_conditions\" />\r\n                <br />\r\n                <br />\r\n                {responseJson.remark}\r\n              </div>\r\n\r\n              <div className=\"earn-points-review-button\">\r\n                <Link\r\n                  to={`/${locale}/points-balance`}\r\n                  className=\"btn uppercase\"\r\n                >\r\n                  <I18n t=\"done\" />\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EarnPointsReview;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport I18n from \"../../i18n\";\r\nimport \"./EarnPoints.css\";\r\nimport ResultMessage from \"../../components/ResultMessage\";\r\nimport FailImg from \"../../assets/images/fail.gif\";\r\nimport PageBgAnimation from \"../../components/PageBgAnimation\";\r\n\r\nfunction EarnPointsFailed(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"result result-failed\";\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <PageBgAnimation bgColor=\"#D4CECA\" />\r\n      <ResultMessage\r\n        image={FailImg}\r\n        title={I18n.getTranslation(location, \"earn_points_fail_title\")}\r\n        content={I18n.getTranslation(location, \"earn_points_fail_content\")}\r\n        buttonText={I18n.getTranslation(\r\n          location,\r\n          \"earn_points_fail_buttonText\"\r\n        )}\r\n      />\r\n      <div className=\"result-holder\">\r\n        <div className=\"result-button\">\r\n          <Link to={`/${locale}/qrcode/scan`}>\r\n            <I18n t=\"verification_fail_buttonText\" />\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default EarnPointsFailed;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useUser } from \"../../store/UseUser\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport DatePicker from \"react-datepicker\";\r\nimport \"react-datepicker/dist/react-datepicker.css\";\r\nimport { registerLocale } from \"react-datepicker\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { getBrandList, getShopList } from \"../../utils/httpUtils\";\r\nimport I18n from \"../../i18n\";\r\nimport Loading from \"../../components/Loading\";\r\nimport \"./ReceiptUpload.css\";\r\nimport moment from \"moment\";\r\nimport en from \"date-fns/locale/en-US\";\r\nimport zhTW from \"date-fns/locale/zh-TW\";\r\nimport zhCN from \"date-fns/locale/zh-CN\";\r\n\r\nfunction ReceiptUpload(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  document.body.className = \"receipt-upload\";\r\n  const { accessToken } = useUser();\r\n  let history = useHistory();\r\n\r\n  registerLocale(\"en\", en);\r\n  registerLocale(\"zh-TW\", zhTW);\r\n  registerLocale(\"zh-CN\", zhCN);\r\n\r\n  const { register, errors, handleSubmit } = useForm();\r\n  const [loading, setLoading] = useState(true);\r\n  const [brand, setBrand] = useState(0);\r\n  const [brandList, setBrandList] = useState([]);\r\n  const [shop, setShop] = useState(0);\r\n  const [shopList, setShopList] = useState([]);\r\n  const [orginalShopList, setOrginalShopList] = useState([]);\r\n  const [datepickerDate, setDatepickerDate] = useState(\"\");\r\n  const [datepickerLocale, setDatepickerLocale] = useState(\"zh-TW\");\r\n  const [receipDate, setReceiptDate] = useState(\"\");\r\n  const [disableSubmitBtn, setDisableSubmitBtn] = useState(false);\r\n  const [electronicReceiptFile, setElectronicReceiptFile] = useState(null);\r\n  const [storeReceiptFile, setStoreReceiptFile] = useState(null);\r\n  const [\r\n    electronicReceiptFilePreview,\r\n    setElectronicReceiptFilePreview,\r\n  ] = useState(null);\r\n  const [storeReceiptFilePreview, setStoreReceiptFilePreview] = useState(null);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      setLoading(true);\r\n      getBrandList().then((response) => {\r\n        setBrandList(response.data.content.mallList);\r\n\r\n        getShopList({\r\n          mallId: null,\r\n        }).then((response2) => {\r\n          setOrginalShopList(response2.data.content.shopList);\r\n          setLoading(false);\r\n        });\r\n      });\r\n\r\n      if (locale === \"tch\") {\r\n        setDatepickerLocale(\"zh-TW\");\r\n      } else if (locale === \"sch\") {\r\n        setDatepickerLocale(\"zh-CN\");\r\n      } else if (locale === \"eng\") {\r\n        setDatepickerLocale(\"en\");\r\n      } else {\r\n        setDatepickerLocale(\"zh-TW\");\r\n      }\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [locale]);\r\n\r\n  const getBrandName = (e) => {\r\n    let brandName = \"\";\r\n    let brandId = Number(e);\r\n    if (brandId === 0) {\r\n      brandName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < brandList.length; i++) {\r\n        if (brandList[i].mallId === brandId) {\r\n          switch (locale) {\r\n            case \"eng\":\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n            case \"tch\":\r\n              brandName = brandList[i].nameLang2;\r\n              break;\r\n            case \"sch\":\r\n              brandName = brandList[i].nameLang3;\r\n              break;\r\n            default:\r\n              brandName = brandList[i].nameLang1;\r\n              break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return brandName;\r\n  };\r\n\r\n  const getShopName = (e) => {\r\n    let shopName = \"\";\r\n    let shopId = Number(e);\r\n    if (shopId === 0) {\r\n      shopName = <I18n t=\"super_mall\" />;\r\n    } else {\r\n      for (let i = 0; i < shopList.length; i++) {\r\n        if (shopList[i].shopId === shopId) {\r\n          shopName = shopList[i].shopName;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n    return shopName;\r\n  };\r\n\r\n  const getMallShopList = (mallId) => {\r\n    var tempShopList = orginalShopList.filter(function (a) {\r\n      return a.mallId === Number(mallId);\r\n    });\r\n    setShopList(tempShopList);\r\n  };\r\n\r\n  const handleBrandChange = (e) => {\r\n    setBrand(e.target.value);\r\n    getMallShopList(e.target.value);\r\n  };\r\n\r\n  const handleShopChange = (e) => {\r\n    setShop(e.target.value);\r\n  };\r\n\r\n  const handleDateChange = (date) => {\r\n    let tempDate = date ? moment(date).format(\"YYYY-MM-DD\") : \"\";\r\n    setDatepickerDate(date);\r\n    setReceiptDate(tempDate);\r\n  };\r\n\r\n  const onSubmit = (data) => {\r\n    // setDisableSubmitBtn(true);\r\n    console.log(data);\r\n  };\r\n\r\n  const resetFileUpload = (data) => {\r\n    let file = document.getElementById(data);\r\n    file.value = null;\r\n    if (data === \"electronicReceiptFile\") {\r\n      setElectronicReceiptFile(null);\r\n      setElectronicReceiptFilePreview(null);\r\n    } else if (data === \"storeReceiptFile\") {\r\n      setStoreReceiptFile(null);\r\n      setStoreReceiptFilePreview(null);\r\n    }\r\n  };\r\n\r\n  const handleElectronicReceiptFile = (e) => {\r\n    let tempFile = e.target.files[0];\r\n    if (tempFile) {\r\n      setElectronicReceiptFile(tempFile);\r\n      setElectronicReceiptFilePreview(URL.createObjectURL(tempFile));\r\n    }\r\n  };\r\n\r\n  const handleStoreReceiptFile = (e) => {\r\n    let tempFile = e.target.files[0];\r\n    if (tempFile) {\r\n      setStoreReceiptFile(tempFile);\r\n      setStoreReceiptFilePreview(URL.createObjectURL(tempFile));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"page-title\">\r\n        <div className=\"container\">\r\n          <div className=\"page-title-content\">\r\n            <I18n t=\"receipt_upload\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"page-main\">\r\n        {loading && <Loading />}\r\n        <form onSubmit={handleSubmit(onSubmit)}>\r\n          <div className=\"container\">\r\n            <div className=\"form\" id=\"receipt-upload-form\">\r\n              <div className=\"form-body\">\r\n                <div className=\"form-input\">\r\n                  <>\r\n                    <select\r\n                      id=\"brand\"\r\n                      name=\"brand\"\r\n                      className=\"custom-select\"\r\n                      ref={register({ required: true })}\r\n                      onChange={handleBrandChange}\r\n                    >\r\n                      <option value=\"\">\r\n                        {I18n.getTranslation(location, \"receipt_brand\")}\r\n                      </option>\r\n                      {Object.keys(brandList).map((item) => {\r\n                        return (\r\n                          <option value={brandList[item].mallId} key={item}>\r\n                            {getBrandName(brandList[item].mallId)}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                    </select>\r\n                    <div className=\"message\">\r\n                      {errors.brand?.type === \"required\" &&\r\n                        I18n.getTranslation(\r\n                          location,\r\n                          \"please_select_brand_for_redeem\"\r\n                        )}\r\n                    </div>\r\n                  </>\r\n                </div>\r\n\r\n                {shopList.length > 0 && (\r\n                  <div className=\"form-input\">\r\n                    <>\r\n                      <select\r\n                        id=\"shop\"\r\n                        name=\"shop\"\r\n                        className=\"custom-select\"\r\n                        ref={register({ required: true })}\r\n                        onChange={handleShopChange}\r\n                      >\r\n                        <option value=\"\">\r\n                          {I18n.getTranslation(location, \"receipt_shop\")}\r\n                        </option>\r\n                        {Object.keys(shopList).map((item) => {\r\n                          return (\r\n                            <option value={shopList[item].shopId} key={item}>\r\n                              {getShopName(shopList[item].shopId)}\r\n                            </option>\r\n                          );\r\n                        })}\r\n                      </select>\r\n                      <div className=\"message\">\r\n                        {errors.shop?.type === \"required\" &&\r\n                          I18n.getTranslation(\r\n                            location,\r\n                            \"please_select_shop_for_redeem\"\r\n                          )}\r\n                      </div>\r\n                    </>\r\n                  </div>\r\n                )}\r\n\r\n                <div className=\"form-input\">\r\n                  <DatePicker\r\n                    dateFormat=\"yyyy-MM-dd\"\r\n                    locale={datepickerLocale}\r\n                    placeholderText={I18n.getTranslation(\r\n                      location,\r\n                      \"date_of_purchase\"\r\n                    )}\r\n                    selected={datepickerDate}\r\n                    onChange={(date) => handleDateChange(date)}\r\n                  />\r\n                  <input\r\n                    type=\"hidden\"\r\n                    name=\"receiptDate\"\r\n                    id=\"receiptDate\"\r\n                    value={receipDate}\r\n                    ref={register({ required: true })}\r\n                  />\r\n                  <div className=\"message\">\r\n                    {errors.receiptDate?.type === \"required\" &&\r\n                    receipDate === \"\"\r\n                      ? I18n.getTranslation(\r\n                          location,\r\n                          \"please_enter_date_of_purchase\"\r\n                        )\r\n                      : \"\"}\r\n                  </div>\r\n                  <div className=\"calendar-icon\"></div>\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <input\r\n                    type=\"text\"\r\n                    name=\"amount\"\r\n                    id=\"amount\"\r\n                    placeholder={I18n.getTranslation(location, \"amount_hkd\")}\r\n                    ref={register({ required: true })}\r\n                  />\r\n                  <div className=\"message\">\r\n                    {errors.amount?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"please_enter_amount\")}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <div\r\n                    className={`form-file-upload ${\r\n                      electronicReceiptFilePreview !== null ? \"active\" : null\r\n                    }`}\r\n                  >\r\n                    <label\r\n                      htmlFor=\"electronicReceiptFile\"\r\n                      className=\"file-upload-label\"\r\n                    >\r\n                      <i className=\"file-upload-icon\"></i>\r\n                      <img\r\n                        className=\"file-upload-preview\"\r\n                        src={electronicReceiptFilePreview}\r\n                        alt=\"\"\r\n                      />\r\n                    </label>\r\n                    <div\r\n                      className=\"file-upload-remove\"\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        resetFileUpload(\"electronicReceiptFile\");\r\n                      }}\r\n                    ></div>\r\n                    <div className=\"file-upload-label-name\">\r\n                      <I18n t=\"electronic_receipt\" />\r\n                    </div>\r\n                    <input\r\n                      id=\"electronicReceiptFile\"\r\n                      name=\"electronicReceiptFile\"\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      defaultValue={electronicReceiptFile}\r\n                      onChange={handleElectronicReceiptFile}\r\n                      ref={register()}\r\n                    />\r\n                  </div>\r\n                  <div\r\n                    className={`form-file-upload ${\r\n                      storeReceiptFilePreview !== null ? \"active\" : null\r\n                    }`}\r\n                  >\r\n                    <label\r\n                      htmlFor=\"storeReceiptFile\"\r\n                      className=\"file-upload-label\"\r\n                    >\r\n                      <i className=\"file-upload-icon\"></i>\r\n                      <img\r\n                        className=\"file-upload-preview\"\r\n                        src={storeReceiptFilePreview}\r\n                        alt=\"\"\r\n                      />\r\n                    </label>\r\n                    <div\r\n                      className=\"file-upload-remove\"\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        resetFileUpload(\"storeReceiptFile\");\r\n                      }}\r\n                    ></div>\r\n                    <div className=\"file-upload-label-name\">\r\n                      <I18n t=\"store_receipt\" />\r\n                    </div>\r\n                    <input\r\n                      id=\"storeReceiptFile\"\r\n                      name=\"storeReceiptFile\"\r\n                      type=\"file\"\r\n                      accept=\"image/*\"\r\n                      defaultValue={storeReceiptFile}\r\n                      onChange={handleStoreReceiptFile}\r\n                      ref={register()}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"terms form-input\">\r\n                  <span>\r\n                    <I18n t=\"terms_and_conditions\" />:\r\n                  </span>\r\n                  <br />\r\n                  <br />\r\n                  <p>\r\n                    Lorem ipsum dolor sit amet, consectetur adipiscing elit.\r\n                    Praesent sodales diam ligula, id eleifend diam molestie\r\n                    quis. Aliquam at lectus et neque hendrerit iaculis. Ut\r\n                    vehicula lorem sed sem egestas rutrum. Fusce quis leo arcu.\r\n                    Nullam at orci finibus, porta est non, accumsan sapien.\r\n                    Maecenas congue, leo quis euismod tempus, eros purus cursus\r\n                    ligula, et consequat arcu ex vel ex. Mauris id neque eros.\r\n                  </p>\r\n                  <br />\r\n                </div>\r\n\r\n                <div className=\"form-input\">\r\n                  <div className=\"custom-control custom-checkbox\">\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      name=\"agreeTerms\"\r\n                      id=\"agreeTerms\"\r\n                      autoComplete=\"off\"\r\n                      className=\"custom-control-input\"\r\n                      ref={register({ required: true })}\r\n                    />\r\n                    <label\r\n                      className=\"custom-control-label\"\r\n                      htmlFor=\"agreeTerms\"\r\n                    >\r\n                      <I18n t=\"agree_terms\" />\r\n                    </label>\r\n                  </div>\r\n                  <div className=\"message\">\r\n                    {errors.agreeTerms?.type === \"required\" &&\r\n                      I18n.getTranslation(location, \"please_accept_terms\")}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"form-footer\">\r\n                <div className=\"form-footer-button\">\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-submit uppercase\"\r\n                    disabled={disableSubmitBtn}\r\n                  >\r\n                    <I18n t=\"submit\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ReceiptUpload;\r\n","import React, { useEffect } from \"react\";\r\nimport { useUser } from \"../store/UseUser\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Logout(props) {\r\n  const { location } = props;\r\n  const pathname = location.pathname.replace(process.env.PUBLIC_URL, \"\");\r\n  const locale = pathname.split(\"/\")[1];\r\n  const { setAccessToken } = useUser();\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    setAccessToken(null);\r\n    history.push(\"/\" + locale + \"/login\");\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return <div></div>;\r\n}\r\n\r\nexport default Logout;\r\n","import React, { Component } from \"react\";\r\nimport ScrollToTop from \"../ScrollToTop\";\r\nimport Header from \"../components/Header\";\r\nimport Footer from \"../components/Footer\";\r\nimport Home from \"../views/Home\";\r\nimport Login from \"../views/Login\";\r\nimport Register from \"../views/registration/Register\";\r\nimport Verification from \"../views/registration/Verification\";\r\nimport VerificationSuccess from \"../views/registration/VerificationSuccess\";\r\nimport VerificationFailed from \"../views/registration/VerificationFailed\";\r\nimport ForgotPassword from \"../views/password/ForgotPassword\";\r\nimport ForgotPasswordSuccess from \"../views/password/ForgotPasswordSuccess\";\r\nimport ResetPassword from \"../views/password/ResetPassword\";\r\nimport MyProfile from \"../views/MyProfile\";\r\nimport PointsBalance from \"../views/PointsBalance\";\r\nimport EarnPointsHistory from \"../views/history/EarnPointsHistory\";\r\nimport TransactionHistory from \"../views/history/TransactionHistory\";\r\nimport MyRedemptionGift from \"../views/myredemption/MyRedemptionGift\";\r\nimport MyRedemptionGiftDetail from \"../views/myredemption/MyRedemptionGiftDetail\";\r\nimport MyRedemptionTicket from \"../views/myredemption/MyRedemptionTicket\";\r\nimport Gifts from \"../views/gift/Gift\";\r\nimport GiftDetail from \"../views/gift/GiftDetail\";\r\nimport OrderPreview from \"../views/gift/OrderPreview\";\r\nimport RedeemSuccess from \"../views/gift/RedeemSuccess\";\r\nimport Events from \"../views/event/Event\";\r\nimport EventDetail from \"../views/event/EventDetail\";\r\nimport EventOrderPreview from \"../views/event/EventOrderPreview\";\r\nimport EnrollSuccess from \"../views/event/EnrollSuccess\";\r\nimport QrcodeScan from \"../views/qrcode/Scan\";\r\nimport EarnPointsReview from \"../views/qrcode/EarnPointsReview\";\r\nimport EarnPointsFailed from \"../views/qrcode/EarnPointsFailed\";\r\nimport ReceiptUpload from \"../views/receipt/Upload\";\r\nimport Logout from \"../views/Logout\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Route,\r\n  Redirect,\r\n  Switch,\r\n} from \"react-router-dom\";\r\nimport Cookies from \"js-cookie\";\r\nimport { config } from \"../config/index\";\r\n\r\nconst base = \"/:locale(eng|tch|sch)?\";\r\nconst defaultLang = config.defaultLang;\r\n\r\nconst AuthenticatedRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      (\r\n        Cookies.get(\"isStayLogin\") === \"true\"\r\n          ? Cookies.get(\"memberToken\")\r\n          : sessionStorage.getItem(\"memberToken\")\r\n      ) ? (\r\n        <>\r\n          <Route component={Header} />\r\n          <Component {...props} />\r\n          <Route component={Footer} />\r\n        </>\r\n      ) : (\r\n        <Redirect to={{ pathname: \"/\", state: { from: props.location } }} />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nconst RedirectRoute = ({ component: Component, ...rest }) => (\r\n  <Route\r\n    {...rest}\r\n    render={(props) =>\r\n      (\r\n        Cookies.get(\"isStayLogin\") === \"true\"\r\n          ? Cookies.get(\"memberToken\")\r\n          : sessionStorage.getItem(\"memberToken\")\r\n      ) ? (\r\n        <Redirect\r\n          from=\"*\"\r\n          to={`/${\r\n            props.match.params.locale ? props.match.params.locale : defaultLang\r\n          }/home`}\r\n        />\r\n      ) : (\r\n        <Redirect\r\n          from=\"*\"\r\n          to={`/${\r\n            props.match.params.locale ? props.match.params.locale : defaultLang\r\n          }/login`}\r\n        />\r\n      )\r\n    }\r\n  />\r\n);\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <Router basename={process.env.PUBLIC_URL}>\r\n        <ScrollToTop />\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Redirect\r\n              to={\r\n                (\r\n                  Cookies.get(\"isStayLogin\") === \"true\"\r\n                    ? Cookies.get(\"memberToken\")\r\n                    : sessionStorage.getItem(\"memberToken\")\r\n                )\r\n                  ? `${defaultLang}/home`\r\n                  : `${defaultLang}/login`\r\n              }\r\n            />\r\n          </Route>\r\n          <Route exact path={`${base}/login`}>\r\n            <Route component={Login} />\r\n          </Route>\r\n          <Route exact path={`${base}/register`}>\r\n            <Route component={Header} />\r\n            <Route component={Register} />\r\n            <Route component={Footer} />\r\n          </Route>\r\n          <Route exact path={`${base}/verification`}>\r\n            <Route component={Header} />\r\n            <Route component={Verification} />\r\n            <Route component={Footer} />\r\n          </Route>\r\n          <Route exact path={`${base}/verification-success`}>\r\n            <Route component={Header} />\r\n            <Route component={VerificationSuccess} />\r\n            <Route component={Footer} />\r\n          </Route>\r\n          <Route exact path={`${base}/verification-failed`}>\r\n            <Route component={Header} />\r\n            <Route component={VerificationFailed} />\r\n            <Route component={Footer} />\r\n          </Route>\r\n          <Route exact path={`${base}/forgot-password`}>\r\n            <Route component={Header} />\r\n            <Route component={ForgotPassword} />\r\n            <Route component={Footer} />\r\n          </Route>\r\n          <Route exact path={`${base}/forgot-password-success`}>\r\n            <Route component={Header} />\r\n            <Route component={ForgotPasswordSuccess} />\r\n            <Route component={Footer} />\r\n          </Route>\r\n          <Route exact path={`${base}/reset-password`}>\r\n            <Route component={Header} />\r\n            <Route component={ResetPassword} />\r\n            <Route component={Footer} />\r\n          </Route>\r\n          <Route exact path={`${base}/qrcode/scan`}>\r\n            <Route component={QrcodeScan} />\r\n          </Route>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/earn-points-review`}\r\n            component={EarnPointsReview}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/earn-points-failed`}\r\n            component={EarnPointsFailed}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/my-profile`}\r\n            component={MyProfile}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/home`}\r\n            component={Home}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/points-balance`}\r\n            component={PointsBalance}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/earn-points-history`}\r\n            component={EarnPointsHistory}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/transaction-history`}\r\n            component={TransactionHistory}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/my-redemption-gift`}\r\n            component={MyRedemptionGift}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/my-redemption-gift-detail/:id`}\r\n            component={MyRedemptionGiftDetail}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/my-redemption-ticket`}\r\n            component={MyRedemptionTicket}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/gifts`}\r\n            component={Gifts}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/gifts-detail/:giftId`}\r\n            component={GiftDetail}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/order-preview`}\r\n            component={OrderPreview}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/redeem-success`}\r\n            component={RedeemSuccess}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/events`}\r\n            component={Events}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/events-detail/:eventId`}\r\n            component={EventDetail}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/event-order-preview`}\r\n            component={EventOrderPreview}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/enroll-success`}\r\n            component={EnrollSuccess}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/receipt/upload`}\r\n            component={ReceiptUpload}\r\n          ></AuthenticatedRoute>\r\n          <AuthenticatedRoute\r\n            exact\r\n            path={`${base}/logout`}\r\n            component={Logout}\r\n          ></AuthenticatedRoute>\r\n          <RedirectRoute />\r\n        </Switch>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","import React, { Component } from \"react\";\r\nimport Routers from \"./router/Router\";\r\nimport \"./App.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport { UserProvider } from \"./store/UseUser\";\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return (\r\n      <UserProvider>\r\n        <Routers />\r\n      </UserProvider>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport App from \"./App\";\r\nimport { BrowserRouter } from \"react-router-dom\";\r\nimport * as serviceWorker from \"./serviceWorker\";\r\n\r\nReactDOM.render(\r\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\r\n    <App />\r\n  </BrowserRouter>,\r\n  document.getElementById(\"root\")\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}